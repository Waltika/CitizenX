var N6=Object.defineProperty;var ag=e=>{throw TypeError(e)};var P6=(e,t,n)=>t in e?N6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>P6(e,typeof t!="symbol"?t+"":t,n),Ad=(e,t,n)=>t.has(e)||ag("Cannot "+n);var X=(e,t,n)=>(Ad(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?ag("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ae=(e,t,n,r)=>(Ad(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),rt=(e,t,n)=>(Ad(e,t,"access private method"),n);var Wo=(e,t,n,r)=>({set _(i){Ae(e,t,i,n)},get _(){return X(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ov={exports:{}},wf={},av={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),U6=Symbol.for("react.portal"),L6=Symbol.for("react.fragment"),O6=Symbol.for("react.strict_mode"),D6=Symbol.for("react.profiler"),z6=Symbol.for("react.provider"),R6=Symbol.for("react.context"),F6=Symbol.for("react.forward_ref"),M6=Symbol.for("react.suspense"),j6=Symbol.for("react.memo"),V6=Symbol.for("react.lazy"),cg=Symbol.iterator;function K6(e){return e===null||typeof e!="object"?null:(e=cg&&e[cg]||e["@@iterator"],typeof e=="function"?e:null)}var cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uv=Object.assign,lv={};function Po(e,t,n){this.props=e,this.context=t,this.refs=lv,this.updater=n||cv}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fv(){}fv.prototype=Po.prototype;function Ky(e,t,n){this.props=e,this.context=t,this.refs=lv,this.updater=n||cv}var Hy=Ky.prototype=new fv;Hy.constructor=Ky;uv(Hy,Po.prototype);Hy.isPureReactComponent=!0;var ug=Array.isArray,dv=Object.prototype.hasOwnProperty,qy={current:null},hv={key:!0,ref:!0,__self:!0,__source:!0};function pv(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)dv.call(t,r)&&!hv.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:mc,type:e,key:s,ref:o,props:i,_owner:qy.current}}function H6(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wy(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function q6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lg=/\/+/g;function Cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q6(""+e.key):t.toString(36)}function Eu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mc:case U6:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cd(o,0):r,ug(i)?(n="",e!=null&&(n=e.replace(lg,"$&/")+"/"),Eu(i,t,n,"",function(l){return l})):i!=null&&(Wy(i)&&(i=H6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ug(e))for(var a=0;a<e.length;a++){s=e[a];var c=r+Cd(s,a);o+=Eu(s,t,n,c,i)}else if(c=K6(e),typeof c=="function")for(e=c.call(e),a=0;!(s=e.next()).done;)s=s.value,c=r+Cd(s,a++),o+=Eu(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zc(e,t,n){if(e==null)return e;var r=[],i=0;return Eu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function W6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Su={transition:null},G6={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Su,ReactCurrentOwner:qy};function yv(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:zc,forEach:function(e,t,n){zc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zc(e,function(){t++}),t},toArray:function(e){return zc(e,function(t){return t})||[]},only:function(e){if(!Wy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Po;le.Fragment=L6;le.Profiler=D6;le.PureComponent=Ky;le.StrictMode=O6;le.Suspense=M6;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;le.act=yv;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uv({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=qy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)dv.call(t,c)&&!hv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:mc,type:e.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:R6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:z6,_context:e},e.Consumer=e};le.createElement=pv;le.createFactory=function(e){var t=pv.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:F6,render:e}};le.isValidElement=Wy;le.lazy=function(e){return{$$typeof:V6,_payload:{_status:-1,_result:e},_init:W6}};le.memo=function(e,t){return{$$typeof:j6,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Su.transition;Su.transition={};try{e()}finally{Su.transition=t}};le.unstable_act=yv;le.useCallback=function(e,t){return Ot.current.useCallback(e,t)};le.useContext=function(e){return Ot.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ot.current.useEffect(e,t)};le.useId=function(){return Ot.current.useId()};le.useImperativeHandle=function(e,t,n){return Ot.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ot.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ot.current.useReducer(e,t,n)};le.useRef=function(e){return Ot.current.useRef(e)};le.useState=function(e){return Ot.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ot.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ot.current.useTransition()};le.version="18.3.1";av.exports=le;var li=av.exports;const Q6=No(li);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6=li,J6=Symbol.for("react.element"),Z6=Symbol.for("react.fragment"),X6=Object.prototype.hasOwnProperty,e3=Y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t3={key:!0,ref:!0,__self:!0,__source:!0};function wv(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)X6.call(t,r)&&!t3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:J6,type:e,key:s,ref:o,props:i,_owner:e3.current}}wf.Fragment=Z6;wf.jsx=wv;wf.jsxs=wv;ov.exports=wf;var Gt=ov.exports,Mh={},gv={exports:{}},sn={},mv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var O=T.length;T.push(L);e:for(;0<O;){var D=O-1>>>1,G=T[D];if(0<i(G,L))T[D]=L,T[O]=G,O=D;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var L=T[0],O=T.pop();if(O!==L){T[0]=O;e:for(var D=0,G=T.length,te=G>>>1;D<te;){var ne=2*(D+1)-1,ie=T[ne],J=ne+1,fe=T[J];if(0>i(ie,O))J<G&&0>i(fe,ie)?(T[D]=fe,T[J]=O,D=J):(T[D]=ie,T[ne]=O,D=ne);else if(J<G&&0>i(fe,O))T[D]=fe,T[J]=O,D=J;else break e}}return L}function i(T,L){var O=T.sortIndex-L.sortIndex;return O!==0?O:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,f=null,y=3,E=!1,h=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var L=n(l);L!==null;){if(L.callback===null)r(l);else if(L.startTime<=T)r(l),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(l)}}function v(T){if(b=!1,g(T),!h)if(n(c)!==null)h=!0,W(C);else{var L=n(l);L!==null&&F(v,L.startTime-T)}}function C(T,L){h=!1,b&&(b=!1,w(I),I=-1),E=!0;var O=y;try{for(g(L),f=n(c);f!==null&&(!(f.expirationTime>L)||T&&!Y());){var D=f.callback;if(typeof D=="function"){f.callback=null,y=f.priorityLevel;var G=D(f.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),g(L)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var ne=n(l);ne!==null&&F(v,ne.startTime-L),te=!1}return te}finally{f=null,y=O,E=!1}}var k=!1,$=null,I=-1,N=5,V=-1;function Y(){return!(e.unstable_now()-V<N)}function R(){if($!==null){var T=e.unstable_now();V=T;var L=!0;try{L=$(!0,T)}finally{L?ee():(k=!1,$=null)}}else k=!1}var ee;if(typeof m=="function")ee=function(){m(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,j=M.port2;M.port1.onmessage=R,ee=function(){j.postMessage(null)}}else ee=function(){S(R,0)};function W(T){$=T,k||(k=!0,ee())}function F(T,L){I=S(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){h||E||(h=!0,W(C))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var O=y;y=L;try{return T()}finally{y=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=y;y=T;try{return L()}finally{y=O}},e.unstable_scheduleCallback=function(T,L,O){var D=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?D+O:D):O=D,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=O+G,T={id:u++,callback:L,priorityLevel:T,startTime:O,expirationTime:G,sortIndex:-1},O>D?(T.sortIndex=O,t(l,T),n(c)===null&&T===n(l)&&(b?(w(I),I=-1):b=!0,F(v,O-D))):(T.sortIndex=G,t(c,T),h||E||(h=!0,W(C))),T},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(T){var L=y;return function(){var O=y;y=L;try{return T.apply(this,arguments)}finally{y=O}}}})(bv);mv.exports=bv;var n3=mv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3=li,nn=n3;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vv=new Set,Va={};function gs(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Va[e]=t,e=0;e<t.length;e++)vv.add(t[e])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=Object.prototype.hasOwnProperty,i3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fg={},dg={};function s3(e){return jh.call(dg,e)?!0:jh.call(fg,e)?!1:i3.test(e)?dg[e]=!0:(fg[e]=!0,!1)}function o3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function a3(e,t,n,r){if(t===null||typeof t>"u"||o3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gy=/[\-:]([a-z])/g;function Qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gy,Qy);at[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gy,Qy);at[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gy,Qy);at[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yy(e,t,n,r){var i=at.hasOwnProperty(t)?at[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(a3(t,n,i,r)&&(n=null),r||i===null?s3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=r3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),Kh=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),Sv=Symbol.for("react.offscreen"),hg=Symbol.iterator;function Go(e){return e===null||typeof e!="object"?null:(e=hg&&e[hg]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,$d;function Sa(e){if($d===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$d=t&&t[1]||""}return`
`+$d+e}var Id=!1;function _d(e,t){if(!e||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sa(e):""}function c3(e){switch(e.tag){case 5:return Sa(e.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return e=_d(e.type,!1),e;case 11:return e=_d(e.type.render,!1),e;case 1:return e=_d(e.type,!0),e;default:return""}}function qh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Ls:return"Portal";case Vh:return"Profiler";case Jy:return"StrictMode";case Kh:return"Suspense";case Hh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ev:return(e.displayName||"Context")+".Consumer";case xv:return(e._context.displayName||"Context")+".Provider";case Zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xy:return t=e.displayName||null,t!==null?t:qh(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return qh(e(t))}catch{}}return null}function u3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(t);case 8:return t===Jy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l3(e){var t=Av(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fc(e){e._valueTracker||(e._valueTracker=l3(e))}function Cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Av(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wh(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $v(e,t){t=t.checked,t!=null&&Yy(e,"checked",t,!1)}function Gh(e,t){$v(e,t);var n=ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qh(e,t.type,ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qh(e,t,n){(t!=="number"||Yu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Aa=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ki(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Aa(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ki(n)}}function Iv(e,t){var n=ki(t.value),r=ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _v(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_v(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mc,kv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f3=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){f3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function Tv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function Bv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var d3=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zh(e,t){if(t){if(d3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Xh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tp=null,Ys=null,Js=null;function mg(e){if(e=xc(e)){if(typeof tp!="function")throw Error(K(280));var t=e.stateNode;t&&(t=xf(t),tp(e.stateNode,e.type,t))}}function Nv(e){Ys?Js?Js.push(e):Js=[e]:Ys=e}function Pv(){if(Ys){var e=Ys,t=Js;if(Js=Ys=null,mg(e),t)for(e=0;e<t.length;e++)mg(t[e])}}function Uv(e,t){return e(t)}function Lv(){}var kd=!1;function Ov(e,t,n){if(kd)return e(t,n);kd=!0;try{return Uv(e,t,n)}finally{kd=!1,(Ys!==null||Js!==null)&&(Lv(),Pv())}}function Ha(e,t){var n=e.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var np=!1;if(Br)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){np=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{np=!1}function h3(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Ba=!1,Ju=null,Zu=!1,rp=null,p3={onError:function(e){Ba=!0,Ju=e}};function y3(e,t,n,r,i,s,o,a,c){Ba=!1,Ju=null,h3.apply(p3,arguments)}function w3(e,t,n,r,i,s,o,a,c){if(y3.apply(this,arguments),Ba){if(Ba){var l=Ju;Ba=!1,Ju=null}else throw Error(K(198));Zu||(Zu=!0,rp=l)}}function ms(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bg(e){if(ms(e)!==e)throw Error(K(188))}function g3(e){var t=e.alternate;if(!t){if(t=ms(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bg(i),e;if(s===r)return bg(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function zv(e){return e=g3(e),e!==null?Rv(e):null}function Rv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rv(e);if(t!==null)return t;e=e.sibling}return null}var Fv=nn.unstable_scheduleCallback,vg=nn.unstable_cancelCallback,m3=nn.unstable_shouldYield,b3=nn.unstable_requestPaint,je=nn.unstable_now,v3=nn.unstable_getCurrentPriorityLevel,t0=nn.unstable_ImmediatePriority,Mv=nn.unstable_UserBlockingPriority,Xu=nn.unstable_NormalPriority,x3=nn.unstable_LowPriority,jv=nn.unstable_IdlePriority,gf=null,rr=null;function E3(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(gf,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:C3,S3=Math.log,A3=Math.LN2;function C3(e){return e>>>=0,e===0?32:31-(S3(e)/A3|0)|0}var jc=64,Vc=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ca(a):(s&=o,s!==0&&(r=Ca(s)))}else o=n&~i,o!==0?r=Ca(o):s!==0&&(r=Ca(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zn(t),i=1<<n,r|=e[n],t&=~i;return r}function $3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=$3(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}function ip(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vv(){var e=jc;return jc<<=1,!(jc&4194240)&&(jc=64),e}function Td(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zn(t),e[t]=n}function _3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function n0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ve=0;function Kv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hv,r0,qv,Wv,Gv,sp=!1,Kc=[],mi=null,bi=null,vi=null,qa=new Map,Wa=new Map,fi=[],k3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xg(e,t){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Yo(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=xc(t),t!==null&&r0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function T3(e,t,n,r,i){switch(t){case"focusin":return mi=Yo(mi,e,t,n,r,i),!0;case"dragenter":return bi=Yo(bi,e,t,n,r,i),!0;case"mouseover":return vi=Yo(vi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qa.set(s,Yo(qa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wa.set(s,Yo(Wa.get(s)||null,e,t,n,r,i)),!0}return!1}function Qv(e){var t=Yi(e.target);if(t!==null){var n=ms(t);if(n!==null){if(t=n.tag,t===13){if(t=Dv(n),t!==null){e.blockedOn=t,Gv(e.priority,function(){qv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=op(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return t=xc(n),t!==null&&r0(t),e.blockedOn=n,!1;t.shift()}return!0}function Eg(e,t,n){Au(e)&&n.delete(t)}function B3(){sp=!1,mi!==null&&Au(mi)&&(mi=null),bi!==null&&Au(bi)&&(bi=null),vi!==null&&Au(vi)&&(vi=null),qa.forEach(Eg),Wa.forEach(Eg)}function Jo(e,t){e.blockedOn===t&&(e.blockedOn=null,sp||(sp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,B3)))}function Ga(e){function t(i){return Jo(i,e)}if(0<Kc.length){Jo(Kc[0],e);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mi!==null&&Jo(mi,e),bi!==null&&Jo(bi,e),vi!==null&&Jo(vi,e),qa.forEach(t),Wa.forEach(t),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)Qv(n),n.blockedOn===null&&fi.shift()}var Zs=Or.ReactCurrentBatchConfig,tl=!0;function N3(e,t,n,r){var i=ve,s=Zs.transition;Zs.transition=null;try{ve=1,i0(e,t,n,r)}finally{ve=i,Zs.transition=s}}function P3(e,t,n,r){var i=ve,s=Zs.transition;Zs.transition=null;try{ve=4,i0(e,t,n,r)}finally{ve=i,Zs.transition=s}}function i0(e,t,n,r){if(tl){var i=op(e,t,n,r);if(i===null)Fd(e,t,r,nl,n),xg(e,r);else if(T3(i,e,t,n,r))r.stopPropagation();else if(xg(e,r),t&4&&-1<k3.indexOf(e)){for(;i!==null;){var s=xc(i);if(s!==null&&Hv(s),s=op(e,t,n,r),s===null&&Fd(e,t,r,nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fd(e,t,r,null,n)}}var nl=null;function op(e,t,n,r){if(nl=null,e=e0(r),e=Yi(e),e!==null)if(t=ms(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function Yv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v3()){case t0:return 1;case Mv:return 4;case Xu:case x3:return 16;case jv:return 536870912;default:return 16}default:return 16}}var yi=null,s0=null,Cu=null;function Jv(){if(Cu)return Cu;var e,t=s0,n=t.length,r,i="value"in yi?yi.value:yi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Cu=i.slice(e,1<r?1-r:void 0)}function $u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hc(){return!0}function Sg(){return!1}function on(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hc:Sg,this.isPropagationStopped=Sg,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),t}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=on(Uo),vc=Le({},Uo,{view:0,detail:0}),U3=on(vc),Bd,Nd,Zo,mf=Le({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zo&&(Zo&&e.type==="mousemove"?(Bd=e.screenX-Zo.screenX,Nd=e.screenY-Zo.screenY):Nd=Bd=0,Zo=e),Bd)},movementY:function(e){return"movementY"in e?e.movementY:Nd}}),Ag=on(mf),L3=Le({},mf,{dataTransfer:0}),O3=on(L3),D3=Le({},vc,{relatedTarget:0}),Pd=on(D3),z3=Le({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),R3=on(z3),F3=Le({},Uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M3=on(F3),j3=Le({},Uo,{data:0}),Cg=on(j3),V3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H3[e])?!!t[e]:!1}function a0(){return q3}var W3=Le({},vc,{key:function(e){if(e.key){var t=V3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(e){return e.type==="keypress"?$u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G3=on(W3),Q3=Le({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=on(Q3),Y3=Le({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),J3=on(Y3),Z3=Le({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),X3=on(Z3),eA=Le({},mf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tA=on(eA),nA=[9,13,27,32],c0=Br&&"CompositionEvent"in window,Na=null;Br&&"documentMode"in document&&(Na=document.documentMode);var rA=Br&&"TextEvent"in window&&!Na,Zv=Br&&(!c0||Na&&8<Na&&11>=Na),Ig=" ",_g=!1;function Xv(e,t){switch(e){case"keyup":return nA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function iA(e,t){switch(e){case"compositionend":return ex(t);case"keypress":return t.which!==32?null:(_g=!0,Ig);case"textInput":return e=t.data,e===Ig&&_g?null:e;default:return null}}function sA(e,t){if(Ds)return e==="compositionend"||!c0&&Xv(e,t)?(e=Jv(),Cu=s0=yi=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zv&&t.locale!=="ko"?null:t.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oA[e.type]:t==="textarea"}function tx(e,t,n,r){Nv(r),t=rl(t,"onChange"),0<t.length&&(n=new o0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pa=null,Qa=null;function aA(e){dx(e,0)}function bf(e){var t=Fs(e);if(Cv(t))return e}function cA(e,t){if(e==="change")return t}var nx=!1;if(Br){var Ud;if(Br){var Ld="oninput"in document;if(!Ld){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Ld=typeof Tg.oninput=="function"}Ud=Ld}else Ud=!1;nx=Ud&&(!document.documentMode||9<document.documentMode)}function Bg(){Pa&&(Pa.detachEvent("onpropertychange",rx),Qa=Pa=null)}function rx(e){if(e.propertyName==="value"&&bf(Qa)){var t=[];tx(t,Qa,e,e0(e)),Ov(aA,t)}}function uA(e,t,n){e==="focusin"?(Bg(),Pa=t,Qa=n,Pa.attachEvent("onpropertychange",rx)):e==="focusout"&&Bg()}function lA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bf(Qa)}function fA(e,t){if(e==="click")return bf(t)}function dA(e,t){if(e==="input"||e==="change")return bf(t)}function hA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:hA;function Ya(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jh.call(t,i)||!Fn(e[i],t[i]))return!1}return!0}function Ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,t){var n=Ng(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ng(n)}}function ix(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ix(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sx(){for(var e=window,t=Yu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yu(e.document)}return t}function u0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pA(e){var t=sx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ix(n.ownerDocument.documentElement,n)){if(r!==null&&u0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Pg(n,s);var o=Pg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yA=Br&&"documentMode"in document&&11>=document.documentMode,zs=null,ap=null,Ua=null,cp=!1;function Ug(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||zs==null||zs!==Yu(r)||(r=zs,"selectionStart"in r&&u0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&Ya(Ua,r)||(Ua=r,r=rl(ap,"onSelect"),0<r.length&&(t=new o0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zs)))}function qc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Od={},ox={};Br&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function vf(e){if(Od[e])return Od[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ox)return Od[e]=t[n];return e}var ax=vf("animationend"),cx=vf("animationiteration"),ux=vf("animationstart"),lx=vf("transitionend"),fx=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(e,t){fx.set(e,t),gs(t,[e])}for(var Dd=0;Dd<Lg.length;Dd++){var zd=Lg[Dd],wA=zd.toLowerCase(),gA=zd[0].toUpperCase()+zd.slice(1);Ui(wA,"on"+gA)}Ui(ax,"onAnimationEnd");Ui(cx,"onAnimationIteration");Ui(ux,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(lx,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Og(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,w3(r,t,void 0,e),e.currentTarget=null}function dx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Og(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Og(i,a,l),s=c}}}if(Zu)throw e=rp,Zu=!1,rp=null,e}function $e(e,t){var n=t[hp];n===void 0&&(n=t[hp]=new Set);var r=e+"__bubble";n.has(r)||(hx(t,e,2,!1),n.add(r))}function Rd(e,t,n){var r=0;t&&(r|=4),hx(n,e,r,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Ja(e){if(!e[Wc]){e[Wc]=!0,vv.forEach(function(n){n!=="selectionchange"&&(mA.has(n)||Rd(n,!1,e),Rd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Rd("selectionchange",!1,t))}}function hx(e,t,n,r){switch(Yv(t)){case 1:var i=N3;break;case 4:i=P3;break;default:i=i0}n=i.bind(null,t,n,e),i=void 0,!np||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fd(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yi(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ov(function(){var l=s,u=e0(n),f=[];e:{var y=fx.get(e);if(y!==void 0){var E=o0,h=e;switch(e){case"keypress":if($u(n)===0)break e;case"keydown":case"keyup":E=G3;break;case"focusin":h="focus",E=Pd;break;case"focusout":h="blur",E=Pd;break;case"beforeblur":case"afterblur":E=Pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=O3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=J3;break;case ax:case cx:case ux:E=R3;break;case lx:E=X3;break;case"scroll":E=U3;break;case"wheel":E=tA;break;case"copy":case"cut":case"paste":E=M3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=$g}var b=(t&4)!==0,S=!b&&e==="scroll",w=b?y!==null?y+"Capture":null:y;b=[];for(var m=l,g;m!==null;){g=m;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,w!==null&&(v=Ha(m,w),v!=null&&b.push(Za(m,v,g)))),S)break;m=m.return}0<b.length&&(y=new E(y,h,null,n,u),f.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",y&&n!==ep&&(h=n.relatedTarget||n.fromElement)&&(Yi(h)||h[Nr]))break e;if((E||y)&&(y=u.window===u?u:(y=u.ownerDocument)?y.defaultView||y.parentWindow:window,E?(h=n.relatedTarget||n.toElement,E=l,h=h?Yi(h):null,h!==null&&(S=ms(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(E=null,h=l),E!==h)){if(b=Ag,v="onMouseLeave",w="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=$g,v="onPointerLeave",w="onPointerEnter",m="pointer"),S=E==null?y:Fs(E),g=h==null?y:Fs(h),y=new b(v,m+"leave",E,n,u),y.target=S,y.relatedTarget=g,v=null,Yi(u)===l&&(b=new b(w,m+"enter",h,n,u),b.target=g,b.relatedTarget=S,v=b),S=v,E&&h)t:{for(b=E,w=h,m=0,g=b;g;g=Cs(g))m++;for(g=0,v=w;v;v=Cs(v))g++;for(;0<m-g;)b=Cs(b),m--;for(;0<g-m;)w=Cs(w),g--;for(;m--;){if(b===w||w!==null&&b===w.alternate)break t;b=Cs(b),w=Cs(w)}b=null}else b=null;E!==null&&Dg(f,y,E,b,!1),h!==null&&S!==null&&Dg(f,S,h,b,!0)}}e:{if(y=l?Fs(l):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var C=cA;else if(kg(y))if(nx)C=dA;else{C=lA;var k=uA}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(C=fA);if(C&&(C=C(e,l))){tx(f,C,n,u);break e}k&&k(e,y,l),e==="focusout"&&(k=y._wrapperState)&&k.controlled&&y.type==="number"&&Qh(y,"number",y.value)}switch(k=l?Fs(l):window,e){case"focusin":(kg(k)||k.contentEditable==="true")&&(zs=k,ap=l,Ua=null);break;case"focusout":Ua=ap=zs=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,Ug(f,n,u);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Ug(f,n,u)}var $;if(c0)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ds?Xv(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Zv&&n.locale!=="ko"&&(Ds||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ds&&($=Jv()):(yi=u,s0="value"in yi?yi.value:yi.textContent,Ds=!0)),k=rl(l,I),0<k.length&&(I=new Cg(I,e,null,n,u),f.push({event:I,listeners:k}),$?I.data=$:($=ex(n),$!==null&&(I.data=$)))),($=rA?iA(e,n):sA(e,n))&&(l=rl(l,"onBeforeInput"),0<l.length&&(u=new Cg("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:l}),u.data=$))}dx(f,t)})}function Za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ha(e,n),s!=null&&r.unshift(Za(e,s,i)),s=Ha(e,t),s!=null&&r.push(Za(e,s,i))),e=e.return}return r}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Ha(n,s),c!=null&&o.unshift(Za(n,c,a))):i||(c=Ha(n,s),c!=null&&o.push(Za(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function zg(e){return(typeof e=="string"?e:""+e).replace(bA,`
`).replace(vA,"")}function Gc(e,t,n){if(t=zg(t),zg(e)!==t&&n)throw Error(K(425))}function il(){}var up=null,lp=null;function fp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(SA)}:dp;function SA(e){setTimeout(function(){throw e})}function Md(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ga(t)}function xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Lo,Xa="__reactProps$"+Lo,Nr="__reactContainer$"+Lo,hp="__reactEvents$"+Lo,AA="__reactListeners$"+Lo,CA="__reactHandles$"+Lo;function Yi(e){var t=e[Xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[Xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fg(e);e!==null;){if(n=e[Xn])return n;e=Fg(e)}return t}e=n,n=e.parentNode}return null}function xc(e){return e=e[Xn]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function xf(e){return e[Xa]||null}var pp=[],Ms=-1;function Li(e){return{current:e}}function Ie(e){0>Ms||(e.current=pp[Ms],pp[Ms]=null,Ms--)}function Ce(e,t){Ms++,pp[Ms]=e.current,e.current=t}var Ti={},_t=Li(Ti),Vt=Li(!1),us=Ti;function po(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(e){return e=e.childContextTypes,e!=null}function sl(){Ie(Vt),Ie(_t)}function Mg(e,t,n){if(_t.current!==Ti)throw Error(K(168));Ce(_t,t),Ce(Vt,n)}function px(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,u3(e)||"Unknown",i));return Le({},n,r)}function ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,us=_t.current,Ce(_t,e),Ce(Vt,Vt.current),!0}function jg(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=px(e,t,us),r.__reactInternalMemoizedMergedChildContext=e,Ie(Vt),Ie(_t),Ce(_t,e)):Ie(Vt),Ce(Vt,n)}var br=null,Ef=!1,jd=!1;function yx(e){br===null?br=[e]:br.push(e)}function $A(e){Ef=!0,yx(e)}function Oi(){if(!jd&&br!==null){jd=!0;var e=0,t=ve;try{var n=br;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}br=null,Ef=!1}catch(i){throw br!==null&&(br=br.slice(e+1)),Fv(t0,Oi),i}finally{ve=t,jd=!1}}return null}var js=[],Vs=0,al=null,cl=0,wn=[],gn=0,ls=null,Ir=1,_r="";function qi(e,t){js[Vs++]=cl,js[Vs++]=al,al=e,cl=t}function wx(e,t,n){wn[gn++]=Ir,wn[gn++]=_r,wn[gn++]=ls,ls=e;var r=Ir;e=_r;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ir=1<<32-zn(t)+i|n<<i|r,_r=s+e}else Ir=1<<s|n<<i|r,_r=e}function l0(e){e.return!==null&&(qi(e,1),wx(e,1,0))}function f0(e){for(;e===al;)al=js[--Vs],js[Vs]=null,cl=js[--Vs],js[Vs]=null;for(;e===ls;)ls=wn[--gn],wn[gn]=null,_r=wn[--gn],wn[gn]=null,Ir=wn[--gn],wn[gn]=null}var tn=null,en=null,Be=!1,Ln=null;function gx(e,t){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,en=xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ls!==null?{id:Ir,overflow:_r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,en=null,!0):!1;default:return!1}}function yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(Be){var t=en;if(t){var n=t;if(!Vg(e,t)){if(yp(e))throw Error(K(418));t=xi(n.nextSibling);var r=tn;t&&Vg(e,t)?gx(r,n):(e.flags=e.flags&-4097|2,Be=!1,tn=e)}}else{if(yp(e))throw Error(K(418));e.flags=e.flags&-4097|2,Be=!1,tn=e}}}function Kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Qc(e){if(e!==tn)return!1;if(!Be)return Kg(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fp(e.type,e.memoizedProps)),t&&(t=en)){if(yp(e))throw mx(),Error(K(418));for(;t;)gx(e,t),t=xi(t.nextSibling)}if(Kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=xi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=tn?xi(e.stateNode.nextSibling):null;return!0}function mx(){for(var e=en;e;)e=xi(e.nextSibling)}function yo(){en=tn=null,Be=!1}function d0(e){Ln===null?Ln=[e]:Ln.push(e)}var IA=Or.ReactCurrentBatchConfig;function Xo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Yc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hg(e){var t=e._init;return t(e._payload)}function bx(e){function t(w,m){if(e){var g=w.deletions;g===null?(w.deletions=[m],w.flags|=16):g.push(m)}}function n(w,m){if(!e)return null;for(;m!==null;)t(w,m),m=m.sibling;return null}function r(w,m){for(w=new Map;m!==null;)m.key!==null?w.set(m.key,m):w.set(m.index,m),m=m.sibling;return w}function i(w,m){return w=Ci(w,m),w.index=0,w.sibling=null,w}function s(w,m,g){return w.index=g,e?(g=w.alternate,g!==null?(g=g.index,g<m?(w.flags|=2,m):g):(w.flags|=2,m)):(w.flags|=1048576,m)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,m,g,v){return m===null||m.tag!==6?(m=Qd(g,w.mode,v),m.return=w,m):(m=i(m,g),m.return=w,m)}function c(w,m,g,v){var C=g.type;return C===Os?u(w,m,g.props.children,v,g.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ri&&Hg(C)===m.type)?(v=i(m,g.props),v.ref=Xo(w,m,g),v.return=w,v):(v=Pu(g.type,g.key,g.props,null,w.mode,v),v.ref=Xo(w,m,g),v.return=w,v)}function l(w,m,g,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Yd(g,w.mode,v),m.return=w,m):(m=i(m,g.children||[]),m.return=w,m)}function u(w,m,g,v,C){return m===null||m.tag!==7?(m=ns(g,w.mode,v,C),m.return=w,m):(m=i(m,g),m.return=w,m)}function f(w,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Qd(""+m,w.mode,g),m.return=w,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rc:return g=Pu(m.type,m.key,m.props,null,w.mode,g),g.ref=Xo(w,null,m),g.return=w,g;case Ls:return m=Yd(m,w.mode,g),m.return=w,m;case ri:var v=m._init;return f(w,v(m._payload),g)}if(Aa(m)||Go(m))return m=ns(m,w.mode,g,null),m.return=w,m;Yc(w,m)}return null}function y(w,m,g,v){var C=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(w,m,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rc:return g.key===C?c(w,m,g,v):null;case Ls:return g.key===C?l(w,m,g,v):null;case ri:return C=g._init,y(w,m,C(g._payload),v)}if(Aa(g)||Go(g))return C!==null?null:u(w,m,g,v,null);Yc(w,g)}return null}function E(w,m,g,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return w=w.get(g)||null,a(m,w,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rc:return w=w.get(v.key===null?g:v.key)||null,c(m,w,v,C);case Ls:return w=w.get(v.key===null?g:v.key)||null,l(m,w,v,C);case ri:var k=v._init;return E(w,m,g,k(v._payload),C)}if(Aa(v)||Go(v))return w=w.get(g)||null,u(m,w,v,C,null);Yc(m,v)}return null}function h(w,m,g,v){for(var C=null,k=null,$=m,I=m=0,N=null;$!==null&&I<g.length;I++){$.index>I?(N=$,$=null):N=$.sibling;var V=y(w,$,g[I],v);if(V===null){$===null&&($=N);break}e&&$&&V.alternate===null&&t(w,$),m=s(V,m,I),k===null?C=V:k.sibling=V,k=V,$=N}if(I===g.length)return n(w,$),Be&&qi(w,I),C;if($===null){for(;I<g.length;I++)$=f(w,g[I],v),$!==null&&(m=s($,m,I),k===null?C=$:k.sibling=$,k=$);return Be&&qi(w,I),C}for($=r(w,$);I<g.length;I++)N=E($,w,I,g[I],v),N!==null&&(e&&N.alternate!==null&&$.delete(N.key===null?I:N.key),m=s(N,m,I),k===null?C=N:k.sibling=N,k=N);return e&&$.forEach(function(Y){return t(w,Y)}),Be&&qi(w,I),C}function b(w,m,g,v){var C=Go(g);if(typeof C!="function")throw Error(K(150));if(g=C.call(g),g==null)throw Error(K(151));for(var k=C=null,$=m,I=m=0,N=null,V=g.next();$!==null&&!V.done;I++,V=g.next()){$.index>I?(N=$,$=null):N=$.sibling;var Y=y(w,$,V.value,v);if(Y===null){$===null&&($=N);break}e&&$&&Y.alternate===null&&t(w,$),m=s(Y,m,I),k===null?C=Y:k.sibling=Y,k=Y,$=N}if(V.done)return n(w,$),Be&&qi(w,I),C;if($===null){for(;!V.done;I++,V=g.next())V=f(w,V.value,v),V!==null&&(m=s(V,m,I),k===null?C=V:k.sibling=V,k=V);return Be&&qi(w,I),C}for($=r(w,$);!V.done;I++,V=g.next())V=E($,w,I,V.value,v),V!==null&&(e&&V.alternate!==null&&$.delete(V.key===null?I:V.key),m=s(V,m,I),k===null?C=V:k.sibling=V,k=V);return e&&$.forEach(function(R){return t(w,R)}),Be&&qi(w,I),C}function S(w,m,g,v){if(typeof g=="object"&&g!==null&&g.type===Os&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Rc:e:{for(var C=g.key,k=m;k!==null;){if(k.key===C){if(C=g.type,C===Os){if(k.tag===7){n(w,k.sibling),m=i(k,g.props.children),m.return=w,w=m;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ri&&Hg(C)===k.type){n(w,k.sibling),m=i(k,g.props),m.ref=Xo(w,k,g),m.return=w,w=m;break e}n(w,k);break}else t(w,k);k=k.sibling}g.type===Os?(m=ns(g.props.children,w.mode,v,g.key),m.return=w,w=m):(v=Pu(g.type,g.key,g.props,null,w.mode,v),v.ref=Xo(w,m,g),v.return=w,w=v)}return o(w);case Ls:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(w,m.sibling),m=i(m,g.children||[]),m.return=w,w=m;break e}else{n(w,m);break}else t(w,m);m=m.sibling}m=Yd(g,w.mode,v),m.return=w,w=m}return o(w);case ri:return k=g._init,S(w,m,k(g._payload),v)}if(Aa(g))return h(w,m,g,v);if(Go(g))return b(w,m,g,v);Yc(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(w,m.sibling),m=i(m,g),m.return=w,w=m):(n(w,m),m=Qd(g,w.mode,v),m.return=w,w=m),o(w)):n(w,m)}return S}var wo=bx(!0),vx=bx(!1),ul=Li(null),ll=null,Ks=null,h0=null;function p0(){h0=Ks=ll=null}function y0(e){var t=ul.current;Ie(ul),e._currentValue=t}function gp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t){ll=e,h0=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(h0!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(ll===null)throw Error(K(308));Ks=e,ll.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var Ji=null;function w0(e){Ji===null?Ji=[e]:Ji.push(e)}function xx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,w0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pr(e,r)}function Pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ii=!1;function g0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ex(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pr(e,n)}return i=r.interleaved,i===null?(t.next=t,w0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pr(e,n)}function Iu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n0(e,n)}}function qg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fl(e,t,n,r){var i=e.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=l=c=null,a=s;do{var y=a.lane,E=a.eventTime;if((r&y)===y){u!==null&&(u=u.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,b=a;switch(y=t,E=n,b.tag){case 1:if(h=b.payload,typeof h=="function"){f=h.call(E,f,y);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=b.payload,y=typeof h=="function"?h.call(E,f,y):h,y==null)break e;f=Le({},f,y);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else E={eventTime:E,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=E,c=f):u=u.next=E,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ds|=o,e.lanes=o,e.memoizedState=f}}function Wg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Ec={},ir=Li(Ec),ec=Li(Ec),tc=Li(Ec);function Zi(e){if(e===Ec)throw Error(K(174));return e}function m0(e,t){switch(Ce(tc,t),Ce(ec,e),Ce(ir,Ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jh(t,e)}Ie(ir),Ce(ir,t)}function go(){Ie(ir),Ie(ec),Ie(tc)}function Sx(e){Zi(tc.current);var t=Zi(ir.current),n=Jh(t,e.type);t!==n&&(Ce(ec,e),Ce(ir,n))}function b0(e){ec.current===e&&(Ie(ir),Ie(ec))}var Ne=Li(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vd=[];function v0(){for(var e=0;e<Vd.length;e++)Vd[e]._workInProgressVersionPrimary=null;Vd.length=0}var _u=Or.ReactCurrentDispatcher,Kd=Or.ReactCurrentBatchConfig,fs=0,Ue=null,Ye=null,Xe=null,hl=!1,La=!1,nc=0,_A=0;function ht(){throw Error(K(321))}function x0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fn(e[n],t[n]))return!1;return!0}function E0(e,t,n,r,i,s){if(fs=s,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_u.current=e===null||e.memoizedState===null?NA:PA,e=n(r,i),La){s=0;do{if(La=!1,nc=0,25<=s)throw Error(K(301));s+=1,Xe=Ye=null,t.updateQueue=null,_u.current=UA,e=n(r,i)}while(La)}if(_u.current=pl,t=Ye!==null&&Ye.next!==null,fs=0,Xe=Ye=Ue=null,hl=!1,t)throw Error(K(300));return e}function S0(){var e=nc!==0;return nc=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Sn(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Xe===null?Ue.memoizedState:Xe.next;if(t!==null)Xe=t,Ye=e;else{if(e===null)throw Error(K(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Xe===null?Ue.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function rc(e,t){return typeof t=="function"?t(e):t}function Hd(e){var t=Sn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((fs&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ue.lanes|=u,ds|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,Fn(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ue.lanes|=s,ds|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qd(e){var t=Sn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Fn(s,t.memoizedState)||(Mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ax(){}function Cx(e,t){var n=Ue,r=Sn(),i=t(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Mt=!0),r=r.queue,A0(_x.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ic(9,Ix.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(K(349));fs&30||$x(n,t,i)}return i}function $x(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ix(e,t,n,r){t.value=n,t.getSnapshot=r,kx(t)&&Tx(e)}function _x(e,t,n){return n(function(){kx(t)&&Tx(e)})}function kx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fn(e,n)}catch{return!0}}function Tx(e){var t=Pr(e,1);t!==null&&Rn(t,e,1,-1)}function Gg(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:e},t.queue=e,e=e.dispatch=BA.bind(null,Ue,e),[t.memoizedState,e]}function ic(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bx(){return Sn().memoizedState}function ku(e,t,n,r){var i=Qn();Ue.flags|=e,i.memoizedState=ic(1|t,n,void 0,r===void 0?null:r)}function Sf(e,t,n,r){var i=Sn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&x0(r,o.deps)){i.memoizedState=ic(t,n,s,r);return}}Ue.flags|=e,i.memoizedState=ic(1|t,n,s,r)}function Qg(e,t){return ku(8390656,8,e,t)}function A0(e,t){return Sf(2048,8,e,t)}function Nx(e,t){return Sf(4,2,e,t)}function Px(e,t){return Sf(4,4,e,t)}function Ux(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lx(e,t,n){return n=n!=null?n.concat([e]):null,Sf(4,4,Ux.bind(null,t,e),n)}function C0(){}function Ox(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&x0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dx(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&x0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zx(e,t,n){return fs&21?(Fn(n,t)||(n=Vv(),Ue.lanes|=n,ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function kA(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=Kd.transition;Kd.transition={};try{e(!1),t()}finally{ve=n,Kd.transition=r}}function Rx(){return Sn().memoizedState}function TA(e,t,n){var r=Ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fx(e))Mx(t,n);else if(n=xx(e,t,n,r),n!==null){var i=Ut();Rn(n,e,r,i),jx(n,t,r)}}function BA(e,t,n){var r=Ai(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fx(e))Mx(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,o)){var c=t.interleaved;c===null?(i.next=i,w0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=xx(e,t,i,r),n!==null&&(i=Ut(),Rn(n,e,r,i),jx(n,t,r))}}function Fx(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Mx(e,t){La=hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n0(e,n)}}var pl={readContext:En,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},NA={readContext:En,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:Qg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ku(4194308,4,Ux.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return ku(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=TA.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:Gg,useDebugValue:C0,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=Gg(!1),t=e[0];return e=kA.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,i=Qn();if(Be){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),nt===null)throw Error(K(349));fs&30||$x(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Qg(_x.bind(null,r,s,e),[e]),r.flags|=2048,ic(9,Ix.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Qn(),t=nt.identifierPrefix;if(Be){var n=_r,r=Ir;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_A++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PA={readContext:En,useCallback:Ox,useContext:En,useEffect:A0,useImperativeHandle:Lx,useInsertionEffect:Nx,useLayoutEffect:Px,useMemo:Dx,useReducer:Hd,useRef:Bx,useState:function(){return Hd(rc)},useDebugValue:C0,useDeferredValue:function(e){var t=Sn();return zx(t,Ye.memoizedState,e)},useTransition:function(){var e=Hd(rc)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Ax,useSyncExternalStore:Cx,useId:Rx,unstable_isNewReconciler:!1},UA={readContext:En,useCallback:Ox,useContext:En,useEffect:A0,useImperativeHandle:Lx,useInsertionEffect:Nx,useLayoutEffect:Px,useMemo:Dx,useReducer:qd,useRef:Bx,useState:function(){return qd(rc)},useDebugValue:C0,useDeferredValue:function(e){var t=Sn();return Ye===null?t.memoizedState=e:zx(t,Ye.memoizedState,e)},useTransition:function(){var e=qd(rc)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Ax,useSyncExternalStore:Cx,useId:Rx,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Af={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=Ai(e),s=kr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ei(e,s,i),t!==null&&(Rn(t,e,i,r),Iu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=Ai(e),s=kr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ei(e,s,i),t!==null&&(Rn(t,e,i,r),Iu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=Ai(e),i=kr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ei(e,i,r),t!==null&&(Rn(t,e,r,n),Iu(t,e,r))}};function Yg(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ya(n,r)||!Ya(i,s):!0}function Vx(e,t,n){var r=!1,i=Ti,s=t.contextType;return typeof s=="object"&&s!==null?s=En(s):(i=Kt(t)?us:_t.current,r=t.contextTypes,s=(r=r!=null)?po(e,i):Ti),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Af,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Jg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Af.enqueueReplaceState(t,t.state,null)}function bp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},g0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=En(s):(s=Kt(t)?us:_t.current,i.context=po(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(mp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Af.enqueueReplaceState(i,i.state,null),fl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do n+=c3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Wd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function Kx(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,Tp=r),vp(e,t)},n}function Hx(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vp(e,t),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Zg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new LA;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=QA.bind(null,e,t,n),t.then(e,e))}function Xg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function em(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,Ei(n,t,1))),n.lanes|=1),e)}var OA=Or.ReactCurrentOwner,Mt=!1;function Nt(e,t,n,r){t.child=e===null?vx(t,null,n,r):wo(t,e.child,n,r)}function tm(e,t,n,r,i){n=n.render;var s=t.ref;return Xs(t,i),r=E0(e,t,n,r,s,i),n=S0(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Be&&n&&l0(t),t.flags|=1,Nt(e,t,r,i),t.child)}function nm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!P0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,qx(e,t,s,r,i)):(e=Pu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&e.ref===t.ref)return Ur(e,t,i)}return t.flags|=1,e=Ci(s,r),e.ref=t.ref,e.return=t,t.child=e}function qx(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ya(s,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Ur(e,t,i)}return xp(e,t,n,r,i)}function Wx(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(qs,Jt),Jt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(qs,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(qs,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ce(qs,Jt),Jt|=r;return Nt(e,t,i,n),t.child}function Gx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xp(e,t,n,r,i){var s=Kt(n)?us:_t.current;return s=po(t,s),Xs(t,i),n=E0(e,t,n,r,s,i),r=S0(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(Be&&r&&l0(t),t.flags|=1,Nt(e,t,n,i),t.child)}function rm(e,t,n,r,i){if(Kt(n)){var s=!0;ol(t)}else s=!1;if(Xs(t,i),t.stateNode===null)Tu(e,t),Vx(t,n,r),bp(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=En(l):(l=Kt(n)?us:_t.current,l=po(t,l));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&Jg(t,o,r,l),ii=!1;var y=t.memoizedState;o.state=y,fl(t,r,o,i),c=t.memoizedState,a!==r||y!==c||Vt.current||ii?(typeof u=="function"&&(mp(t,n,u,r),c=t.memoizedState),(a=ii||Yg(t,n,a,r,y,c,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ex(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Pn(t.type,a),o.props=l,f=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=En(c):(c=Kt(n)?us:_t.current,c=po(t,c));var E=n.getDerivedStateFromProps;(u=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||y!==c)&&Jg(t,o,r,c),ii=!1,y=t.memoizedState,o.state=y,fl(t,r,o,i);var h=t.memoizedState;a!==f||y!==h||Vt.current||ii?(typeof E=="function"&&(mp(t,n,E,r),h=t.memoizedState),(l=ii||Yg(t,n,l,r,y,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Ep(e,t,n,r,s,i)}function Ep(e,t,n,r,i,s){Gx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&jg(t,n,!1),Ur(e,t,s);r=t.stateNode,OA.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=wo(t,e.child,null,s),t.child=wo(t,null,a,s)):Nt(e,t,a,s),t.memoizedState=r.state,i&&jg(t,n,!0),t.child}function Qx(e){var t=e.stateNode;t.pendingContext?Mg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mg(e,t.context,!1),m0(e,t.containerInfo)}function im(e,t,n,r,i){return yo(),d0(i),t.flags|=256,Nt(e,t,n,r),t.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yx(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Ne,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=If(o,r,0,null),e=ns(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ap(n),t.memoizedState=Sp,e):$0(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return DA(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ci(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ap(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Sp,r}return s=e.child,e=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $0(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jc(e,t,n,r){return r!==null&&d0(r),wo(t,e.child,null,n),e=$0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DA(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Wd(Error(K(422))),Jc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=If({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&wo(t,e.child,null,o),t.child.memoizedState=Ap(o),t.memoizedState=Sp,s);if(!(t.mode&1))return Jc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(K(419)),r=Wd(s,r,void 0),Jc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Mt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(e,i),Rn(r,e,i,-1))}return N0(),r=Wd(Error(K(421))),Jc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=YA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,en=xi(i.nextSibling),tn=t,Be=!0,Ln=null,e!==null&&(wn[gn++]=Ir,wn[gn++]=_r,wn[gn++]=ls,Ir=e.id,_r=e.overflow,ls=t),t=$0(t,r.children),t.flags|=4096,t)}function sm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gp(e.return,t,n)}function Gd(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jx(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sm(e,n,t);else if(e.tag===19)sm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gd(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gd(t,!0,n,null,s);break;case"together":Gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ds|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Ci(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zA(e,t,n){switch(t.tag){case 3:Qx(t),yo();break;case 5:Sx(t);break;case 1:Kt(t.type)&&ol(t);break;case 4:m0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(ul,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?Yx(e,t,n):(Ce(Ne,Ne.current&1),e=Ur(e,t,n),e!==null?e.sibling:null);Ce(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Wx(e,t,n)}return Ur(e,t,n)}var Zx,Cp,Xx,eE;Zx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cp=function(){};Xx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zi(ir.current);var s=null;switch(n){case"input":i=Wh(e,i),r=Wh(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Yh(e,i),r=Yh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=il)}Zh(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Va.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Va.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&$e("scroll",e),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}};eE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ea(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RA(e,t,n){var r=t.pendingProps;switch(f0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Kt(t.type)&&sl(),pt(t),null;case 3:return r=t.stateNode,go(),Ie(Vt),Ie(_t),v0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ln!==null&&(Pp(Ln),Ln=null))),Cp(e,t),pt(t),null;case 5:b0(t);var i=Zi(tc.current);if(n=t.type,e!==null&&t.stateNode!=null)Xx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return pt(t),null}if(e=Zi(ir.current),Qc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xn]=t,r[Xa]=s,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<$a.length;i++)$e($a[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":pg(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":wg(r,s),$e("invalid",r)}Zh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Gc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Gc(r.textContent,a,e),i=["children",""+a]):Va.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Fc(r),yg(r,s,!0);break;case"textarea":Fc(r),gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=il)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_v(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Xn]=t,e[Xa]=r,Zx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xh(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<$a.length;i++)$e($a[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":pg(e,r),i=Wh(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),$e("invalid",e);break;case"textarea":wg(e,r),i=Yh(e,r),$e("invalid",e);break;default:i=r}Zh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Bv(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kv(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ka(e,c):typeof c=="number"&&Ka(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Va.hasOwnProperty(s)?c!=null&&s==="onScroll"&&$e("scroll",e):c!=null&&Yy(e,s,c,o))}switch(n){case"input":Fc(e),yg(e,r,!1);break;case"textarea":Fc(e),gg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ki(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Qs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)eE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Zi(tc.current),Zi(ir.current),Qc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xn]=t,(s=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Gc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=t,t.stateNode=r}return pt(t),null;case 13:if(Ie(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&en!==null&&t.mode&1&&!(t.flags&128))mx(),yo(),t.flags|=98560,s=!1;else if(s=Qc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Xn]=t}else yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),s=!1}else Ln!==null&&(Pp(Ln),Ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Je===0&&(Je=3):N0())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return go(),Cp(e,t),e===null&&Ja(t.stateNode.containerInfo),pt(t),null;case 10:return y0(t.type._context),pt(t),null;case 17:return Kt(t.type)&&sl(),pt(t),null;case 19:if(Ie(Ne),s=t.memoizedState,s===null)return pt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ea(s,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=dl(e),o!==null){for(t.flags|=128,ea(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&je()>bo&&(t.flags|=128,r=!0,ea(s,!1),t.lanes=4194304)}else{if(!r)if(e=dl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return pt(t),null}else 2*je()-s.renderingStartTime>bo&&n!==1073741824&&(t.flags|=128,r=!0,ea(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=je(),t.sibling=null,n=Ne.current,Ce(Ne,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return B0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function FA(e,t){switch(f0(t),t.tag){case 1:return Kt(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),Ie(Vt),Ie(_t),v0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b0(t),null;case 13:if(Ie(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ne),null;case 4:return go(),null;case 10:return y0(t.type._context),null;case 22:case 23:return B0(),null;case 24:return null;default:return null}}var Zc=!1,Ct=!1,MA=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Hs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function $p(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var om=!1;function jA(e,t){if(up=tl,e=sx(),u0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,f=e,y=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(E=f.firstChild)!==null;)y=f,f=E;for(;;){if(f===e)break t;if(y===n&&++l===i&&(a=o),y===s&&++u===r&&(c=o),(E=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(lp={focusedElem:e,selectionRange:n},tl=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var b=h.memoizedProps,S=h.memoizedState,w=t.stateNode,m=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:Pn(t.type,b),S);w.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(v){Fe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return h=om,om=!1,h}function Oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$p(t,n,s)}i=i.next}while(i!==r)}}function Cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ip(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tE(e){var t=e.alternate;t!==null&&(e.alternate=null,tE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[Xa],delete t[hp],delete t[AA],delete t[CA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nE(e){return e.tag===5||e.tag===3||e.tag===4}function am(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _p(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=il));else if(r!==4&&(e=e.child,e!==null))for(_p(e,t,n),e=e.sibling;e!==null;)_p(e,t,n),e=e.sibling}function kp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kp(e,t,n),e=e.sibling;e!==null;)kp(e,t,n),e=e.sibling}var it=null,Un=!1;function Kr(e,t,n){for(n=n.child;n!==null;)rE(e,t,n),n=n.sibling}function rE(e,t,n){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(gf,n)}catch{}switch(n.tag){case 5:Ct||Hs(n,t);case 6:var r=it,i=Un;it=null,Kr(e,t,n),it=r,Un=i,it!==null&&(Un?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Un?(e=it,n=n.stateNode,e.nodeType===8?Md(e.parentNode,n):e.nodeType===1&&Md(e,n),Ga(e)):Md(it,n.stateNode));break;case 4:r=it,i=Un,it=n.stateNode.containerInfo,Un=!0,Kr(e,t,n),it=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$p(n,t,o),i=i.next}while(i!==r)}Kr(e,t,n);break;case 1:if(!Ct&&(Hs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,t,a)}Kr(e,t,n);break;case 21:Kr(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Kr(e,t,n),Ct=r):Kr(e,t,n);break;default:Kr(e,t,n)}}function cm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new MA),t.forEach(function(r){var i=JA.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,Un=!1;break e;case 3:it=a.stateNode.containerInfo,Un=!0;break e;case 4:it=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(it===null)throw Error(K(160));rE(s,o,i),it=null,Un=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Fe(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iE(t,e),t=t.sibling}function iE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),Vn(e),r&4){try{Oa(3,e,e.return),Cf(3,e)}catch(b){Fe(e,e.return,b)}try{Oa(5,e,e.return)}catch(b){Fe(e,e.return,b)}}break;case 1:In(t,e),Vn(e),r&512&&n!==null&&Hs(n,n.return);break;case 5:if(In(t,e),Vn(e),r&512&&n!==null&&Hs(n,n.return),e.flags&32){var i=e.stateNode;try{Ka(i,"")}catch(b){Fe(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$v(i,s),Xh(a,o);var l=Xh(a,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Bv(i,f):u==="dangerouslySetInnerHTML"?kv(i,f):u==="children"?Ka(i,f):Yy(i,u,f,l)}switch(a){case"input":Gh(i,s);break;case"textarea":Iv(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Qs(i,!!s.multiple,E,!1):y!==!!s.multiple&&(s.defaultValue!=null?Qs(i,!!s.multiple,s.defaultValue,!0):Qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xa]=s}catch(b){Fe(e,e.return,b)}}break;case 6:if(In(t,e),Vn(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){Fe(e,e.return,b)}}break;case 3:if(In(t,e),Vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(b){Fe(e,e.return,b)}break;case 4:In(t,e),Vn(e);break;case 13:In(t,e),Vn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k0=je())),r&4&&cm(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(l=Ct)||u,In(t,e),Ct=l):In(t,e),Vn(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(f=Z=u;Z!==null;){switch(y=Z,E=y.child,y.tag){case 0:case 11:case 14:case 15:Oa(4,y,y.return);break;case 1:Hs(y,y.return);var h=y.stateNode;if(typeof h.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(b){Fe(r,n,b)}}break;case 5:Hs(y,y.return);break;case 22:if(y.memoizedState!==null){lm(f);continue}}E!==null?(E.return=y,Z=E):lm(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Tv("display",o))}catch(b){Fe(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(b){Fe(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:In(t,e),Vn(e),r&4&&cm(e);break;case 21:break;default:In(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nE(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ka(i,""),r.flags&=-33);var s=am(e);kp(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=am(e);_p(e,a,o);break;default:throw Error(K(161))}}catch(c){Fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VA(e,t,n){Z=e,sE(e)}function sE(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ct;a=Zc;var l=Ct;if(Zc=o,(Ct=c)&&!l)for(Z=i;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?fm(i):c!==null?(c.return=o,Z=c):fm(i);for(;s!==null;)Z=s,sE(s),s=s.sibling;Z=i,Zc=a,Ct=l}um(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):um(e)}}function um(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Cf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ga(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ct||t.flags&512&&Ip(t)}catch(y){Fe(t,t.return,y)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function lm(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function fm(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cf(4,t)}catch(c){Fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Fe(t,i,c)}}var s=t.return;try{Ip(t)}catch(c){Fe(t,s,c)}break;case 5:var o=t.return;try{Ip(t)}catch(c){Fe(t,o,c)}}}catch(c){Fe(t,t.return,c)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var KA=Math.ceil,yl=Or.ReactCurrentDispatcher,I0=Or.ReactCurrentOwner,xn=Or.ReactCurrentBatchConfig,ye=0,nt=null,He=null,ot=0,Jt=0,qs=Li(0),Je=0,sc=null,ds=0,$f=0,_0=0,Da=null,Ft=null,k0=0,bo=1/0,mr=null,wl=!1,Tp=null,Si=null,Xc=!1,wi=null,gl=0,za=0,Bp=null,Bu=-1,Nu=0;function Ut(){return ye&6?je():Bu!==-1?Bu:Bu=je()}function Ai(e){return e.mode&1?ye&2&&ot!==0?ot&-ot:IA.transition!==null?(Nu===0&&(Nu=Vv()),Nu):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Yv(e.type)),e):1}function Rn(e,t,n,r){if(50<za)throw za=0,Bp=null,Error(K(185));bc(e,n,r),(!(ye&2)||e!==nt)&&(e===nt&&(!(ye&2)&&($f|=n),Je===4&&di(e,ot)),Ht(e,r),n===1&&ye===0&&!(t.mode&1)&&(bo=je()+500,Ef&&Oi()))}function Ht(e,t){var n=e.callbackNode;I3(e,t);var r=el(e,e===nt?ot:0);if(r===0)n!==null&&vg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vg(n),t===1)e.tag===0?$A(dm.bind(null,e)):yx(dm.bind(null,e)),EA(function(){!(ye&6)&&Oi()}),n=null;else{switch(Kv(r)){case 1:n=t0;break;case 4:n=Mv;break;case 16:n=Xu;break;case 536870912:n=jv;break;default:n=Xu}n=hE(n,oE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oE(e,t){if(Bu=-1,Nu=0,ye&6)throw Error(K(327));var n=e.callbackNode;if(eo()&&e.callbackNode!==n)return null;var r=el(e,e===nt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ml(e,r);else{t=r;var i=ye;ye|=2;var s=cE();(nt!==e||ot!==t)&&(mr=null,bo=je()+500,ts(e,t));do try{WA();break}catch(a){aE(e,a)}while(!0);p0(),yl.current=s,ye=i,He!==null?t=0:(nt=null,ot=0,t=Je)}if(t!==0){if(t===2&&(i=ip(e),i!==0&&(r=i,t=Np(e,i))),t===1)throw n=sc,ts(e,0),di(e,r),Ht(e,je()),n;if(t===6)di(e,r);else{if(i=e.current.alternate,!(r&30)&&!HA(i)&&(t=ml(e,r),t===2&&(s=ip(e),s!==0&&(r=s,t=Np(e,s))),t===1))throw n=sc,ts(e,0),di(e,r),Ht(e,je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Wi(e,Ft,mr);break;case 3:if(di(e,r),(r&130023424)===r&&(t=k0+500-je(),10<t)){if(el(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dp(Wi.bind(null,e,Ft,mr),t);break}Wi(e,Ft,mr);break;case 4:if(di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KA(r/1960))-r,10<r){e.timeoutHandle=dp(Wi.bind(null,e,Ft,mr),r);break}Wi(e,Ft,mr);break;case 5:Wi(e,Ft,mr);break;default:throw Error(K(329))}}}return Ht(e,je()),e.callbackNode===n?oE.bind(null,e):null}function Np(e,t){var n=Da;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=ml(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Pp(t)),e}function Pp(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function HA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~_0,t&=~$f,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zn(t),r=1<<n;e[n]=-1,t&=~r}}function dm(e){if(ye&6)throw Error(K(327));eo();var t=el(e,0);if(!(t&1))return Ht(e,je()),null;var n=ml(e,t);if(e.tag!==0&&n===2){var r=ip(e);r!==0&&(t=r,n=Np(e,r))}if(n===1)throw n=sc,ts(e,0),di(e,t),Ht(e,je()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wi(e,Ft,mr),Ht(e,je()),null}function T0(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(bo=je()+500,Ef&&Oi())}}function hs(e){wi!==null&&wi.tag===0&&!(ye&6)&&eo();var t=ye;ye|=1;var n=xn.transition,r=ve;try{if(xn.transition=null,ve=1,e)return e()}finally{ve=r,xn.transition=n,ye=t,!(ye&6)&&Oi()}}function B0(){Jt=qs.current,Ie(qs)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xA(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(f0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:go(),Ie(Vt),Ie(_t),v0();break;case 5:b0(r);break;case 4:go();break;case 13:Ie(Ne);break;case 19:Ie(Ne);break;case 10:y0(r.type._context);break;case 22:case 23:B0()}n=n.return}if(nt=e,He=e=Ci(e.current,null),ot=Jt=t,Je=0,sc=null,_0=$f=ds=0,Ft=Da=null,Ji!==null){for(t=0;t<Ji.length;t++)if(n=Ji[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ji=null}return e}function aE(e,t){do{var n=He;try{if(p0(),_u.current=pl,hl){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hl=!1}if(fs=0,Xe=Ye=Ue=null,La=!1,nc=0,I0.current=null,n===null||n.return===null){Je=1,sc=t,He=null;break}e:{var s=e,o=n.return,a=n,c=t;if(t=ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var y=u.alternate;y?(u.updateQueue=y.updateQueue,u.memoizedState=y.memoizedState,u.lanes=y.lanes):(u.updateQueue=null,u.memoizedState=null)}var E=Xg(o);if(E!==null){E.flags&=-257,em(E,o,a,s,t),E.mode&1&&Zg(s,l,t),t=E,c=l;var h=t.updateQueue;if(h===null){var b=new Set;b.add(c),t.updateQueue=b}else h.add(c);break e}else{if(!(t&1)){Zg(s,l,t),N0();break e}c=Error(K(426))}}else if(Be&&a.mode&1){var S=Xg(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),em(S,o,a,s,t),d0(mo(c,a));break e}}s=c=mo(c,a),Je!==4&&(Je=2),Da===null?Da=[s]:Da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=Kx(s,c,t);qg(s,w);break e;case 1:a=c;var m=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Si===null||!Si.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=Hx(s,a,t);qg(s,v);break e}}s=s.return}while(s!==null)}lE(n)}catch(C){t=C,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function cE(){var e=yl.current;return yl.current=pl,e===null?pl:e}function N0(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(ds&268435455)&&!($f&268435455)||di(nt,ot)}function ml(e,t){var n=ye;ye|=2;var r=cE();(nt!==e||ot!==t)&&(mr=null,ts(e,t));do try{qA();break}catch(i){aE(e,i)}while(!0);if(p0(),ye=n,yl.current=r,He!==null)throw Error(K(261));return nt=null,ot=0,Je}function qA(){for(;He!==null;)uE(He)}function WA(){for(;He!==null&&!m3();)uE(He)}function uE(e){var t=dE(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?lE(e):He=t,I0.current=null}function lE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=FA(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,He=null;return}}else if(n=RA(n,t,Jt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Je===0&&(Je=5)}function Wi(e,t,n){var r=ve,i=xn.transition;try{xn.transition=null,ve=1,GA(e,t,n,r)}finally{xn.transition=i,ve=r}return null}function GA(e,t,n,r){do eo();while(wi!==null);if(ye&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(_3(e,s),e===nt&&(He=nt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xc||(Xc=!0,hE(Xu,function(){return eo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=ve;ve=1;var a=ye;ye|=4,I0.current=null,jA(e,n),iE(n,e),pA(lp),tl=!!up,lp=up=null,e.current=n,VA(n),b3(),ye=a,ve=o,xn.transition=s}else e.current=n;if(Xc&&(Xc=!1,wi=e,gl=i),s=e.pendingLanes,s===0&&(Si=null),E3(n.stateNode),Ht(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wl)throw wl=!1,e=Tp,Tp=null,e;return gl&1&&e.tag!==0&&eo(),s=e.pendingLanes,s&1?e===Bp?za++:(za=0,Bp=e):za=0,Oi(),null}function eo(){if(wi!==null){var e=Kv(gl),t=xn.transition,n=ve;try{if(xn.transition=null,ve=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,gl=0,ye&6)throw Error(K(331));var i=ye;for(ye|=4,Z=e.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(Z=l;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Oa(8,u,s)}var f=u.child;if(f!==null)f.return=u,Z=f;else for(;Z!==null;){u=Z;var y=u.sibling,E=u.return;if(tE(u),u===l){Z=null;break}if(y!==null){y.return=E,Z=y;break}Z=E}}}var h=s.alternate;if(h!==null){var b=h.child;if(b!==null){h.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oa(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Z=w;break e}Z=s.return}}var m=e.current;for(Z=m;Z!==null;){o=Z;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Z=g;else e:for(o=m;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cf(9,a)}}catch(C){Fe(a,a.return,C)}if(a===o){Z=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Z=v;break e}Z=a.return}}if(ye=i,Oi(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(gf,e)}catch{}r=!0}return r}finally{ve=n,xn.transition=t}}return!1}function hm(e,t,n){t=mo(n,t),t=Kx(e,t,1),e=Ei(e,t,1),t=Ut(),e!==null&&(bc(e,1,t),Ht(e,t))}function Fe(e,t,n){if(e.tag===3)hm(e,e,n);else for(;t!==null;){if(t.tag===3){hm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){e=mo(n,e),e=Hx(t,e,1),t=Ei(t,e,1),e=Ut(),t!==null&&(bc(t,1,e),Ht(t,e));break}}t=t.return}}function QA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(ot&n)===n&&(Je===4||Je===3&&(ot&130023424)===ot&&500>je()-k0?ts(e,0):_0|=n),Ht(e,t)}function fE(e,t){t===0&&(e.mode&1?(t=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):t=1);var n=Ut();e=Pr(e,t),e!==null&&(bc(e,t,n),Ht(e,n))}function YA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fE(e,n)}function JA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),fE(e,n)}var dE;dE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,zA(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,Be&&t.flags&1048576&&wx(t,cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tu(e,t),e=t.pendingProps;var i=po(t,_t.current);Xs(t,n),i=E0(null,t,r,e,i,n);var s=S0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(s=!0,ol(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,g0(t),i.updater=Af,t.stateNode=i,i._reactInternals=t,bp(t,r,e,n),t=Ep(null,t,r,!0,s,n)):(t.tag=0,Be&&s&&l0(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=XA(r),e=Pn(r,e),i){case 0:t=xp(null,t,r,e,n);break e;case 1:t=rm(null,t,r,e,n);break e;case 11:t=tm(null,t,r,e,n);break e;case 14:t=nm(null,t,r,Pn(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),xp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),rm(e,t,r,i,n);case 3:e:{if(Qx(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ex(e,t),fl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=mo(Error(K(423)),t),t=im(e,t,r,n,i);break e}else if(r!==i){i=mo(Error(K(424)),t),t=im(e,t,r,n,i);break e}else for(en=xi(t.stateNode.containerInfo.firstChild),tn=t,Be=!0,Ln=null,n=vx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===i){t=Ur(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return Sx(t),e===null&&wp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,fp(r,i)?o=null:s!==null&&fp(r,s)&&(t.flags|=32),Gx(e,t),Nt(e,t,o,n),t.child;case 6:return e===null&&wp(t),null;case 13:return Yx(e,t,n);case 4:return m0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wo(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),tm(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ce(ul,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Vt.current){t=Ur(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=kr(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),gp(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gp(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xs(t,n),i=En(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=Pn(r,t.pendingProps),i=Pn(r.type,i),nm(e,t,r,i,n);case 15:return qx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pn(r,i),Tu(e,t),t.tag=1,Kt(r)?(e=!0,ol(t)):e=!1,Xs(t,n),Vx(t,r,i),bp(t,r,i,n),Ep(null,t,r,!0,e,n);case 19:return Jx(e,t,n);case 22:return Wx(e,t,n)}throw Error(K(156,t.tag))};function hE(e,t){return Fv(e,t)}function ZA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new ZA(e,t,n,r)}function P0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XA(e){if(typeof e=="function")return P0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zy)return 11;if(e===Xy)return 14}return 2}function Ci(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")P0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Os:return ns(n.children,i,s,t);case Jy:o=8,i|=8;break;case Vh:return e=vn(12,n,t,i|2),e.elementType=Vh,e.lanes=s,e;case Kh:return e=vn(13,n,t,i),e.elementType=Kh,e.lanes=s,e;case Hh:return e=vn(19,n,t,i),e.elementType=Hh,e.lanes=s,e;case Sv:return If(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xv:o=10;break e;case Ev:o=9;break e;case Zy:o=11;break e;case Xy:o=14;break e;case ri:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=vn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ns(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function If(e,t,n,r){return e=vn(22,e,r,t),e.elementType=Sv,e.lanes=n,e.stateNode={isHidden:!1},e}function Qd(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function Yd(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U0(e,t,n,r,i,s,o,a,c){return e=new eC(e,t,n,a,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=vn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g0(s),e}function tC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pE(e){if(!e)return Ti;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Kt(n))return px(e,n,t)}return t}function yE(e,t,n,r,i,s,o,a,c){return e=U0(n,r,!0,e,i,s,o,a,c),e.context=pE(null),n=e.current,r=Ut(),i=Ai(n),s=kr(r,i),s.callback=t??null,Ei(n,s,i),e.current.lanes=i,bc(e,i,r),Ht(e,r),e}function _f(e,t,n,r){var i=t.current,s=Ut(),o=Ai(i);return n=pE(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ei(i,t,o),e!==null&&(Rn(e,i,o,s),Iu(e,i,o)),o}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function L0(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function nC(){return null}var wE=typeof reportError=="function"?reportError:function(e){console.error(e)};function O0(e){this._internalRoot=e}kf.prototype.render=O0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));_f(e,t,null,null)};kf.prototype.unmount=O0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){_f(null,e,null,null)}),t[Nr]=null}};function kf(e){this._internalRoot=e}kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&Qv(e)}};function D0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ym(){}function rC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=bl(o);s.call(l)}}var o=yE(t,r,e,0,null,!1,!1,"",ym);return e._reactRootContainer=o,e[Nr]=o.current,Ja(e.nodeType===8?e.parentNode:e),hs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=bl(c);a.call(l)}}var c=U0(e,0,!1,null,null,!1,!1,"",ym);return e._reactRootContainer=c,e[Nr]=c.current,Ja(e.nodeType===8?e.parentNode:e),hs(function(){_f(t,c,n,r)}),c}function Bf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=bl(o);a.call(c)}}_f(t,o,e,i)}else o=rC(n,t,e,i,r);return bl(o)}Hv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ca(t.pendingLanes);n!==0&&(n0(t,n|1),Ht(t,je()),!(ye&6)&&(bo=je()+500,Oi()))}break;case 13:hs(function(){var r=Pr(e,1);if(r!==null){var i=Ut();Rn(r,e,1,i)}}),L0(e,1)}};r0=function(e){if(e.tag===13){var t=Pr(e,134217728);if(t!==null){var n=Ut();Rn(t,e,134217728,n)}L0(e,134217728)}};qv=function(e){if(e.tag===13){var t=Ai(e),n=Pr(e,t);if(n!==null){var r=Ut();Rn(n,e,t,r)}L0(e,t)}};Wv=function(){return ve};Gv=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};tp=function(e,t,n){switch(t){case"input":if(Gh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xf(r);if(!i)throw Error(K(90));Cv(r),Gh(r,i)}}}break;case"textarea":Iv(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Uv=T0;Lv=hs;var iC={usingClientEntryPoint:!1,Events:[xc,Fs,xf,Nv,Pv,T0]},ta={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sC={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zv(e),e===null?null:e.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||nC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{gf=eu.inject(sC),rr=eu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iC;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D0(t))throw Error(K(200));return tC(e,t,null,n)};sn.createRoot=function(e,t){if(!D0(e))throw Error(K(299));var n=!1,r="",i=wE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=U0(e,1,!1,null,null,n,!1,r,i),e[Nr]=t.current,Ja(e.nodeType===8?e.parentNode:e),new O0(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=zv(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return hs(e)};sn.hydrate=function(e,t,n){if(!Tf(t))throw Error(K(200));return Bf(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!D0(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yE(t,null,e,1,n??null,i,!1,s,o),e[Nr]=t.current,Ja(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kf(t)};sn.render=function(e,t,n){if(!Tf(t))throw Error(K(200));return Bf(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!Tf(e))throw Error(K(40));return e._reactRootContainer?(hs(function(){Bf(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};sn.unstable_batchedUpdates=T0;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tf(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Bf(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(e){console.error(e)}}gE(),gv.exports=sn;var oC=gv.exports,wm=oC;Mh.createRoot=wm.createRoot,Mh.hydrateRoot=wm.hydrateRoot;var z0={exports:{}},to=typeof Reflect=="object"?Reflect:null,gm=to&&typeof to.apply=="function"?to.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Uu;to&&typeof to.ownKeys=="function"?Uu=to.ownKeys:Object.getOwnPropertySymbols?Uu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Uu=function(t){return Object.getOwnPropertyNames(t)};function aC(e){console&&console.warn&&console.warn(e)}var mE=Number.isNaN||function(t){return t!==t};function Ee(){Ee.init.call(this)}z0.exports=Ee;z0.exports.once=fC;Ee.EventEmitter=Ee;Ee.prototype._events=void 0;Ee.prototype._eventsCount=0;Ee.prototype._maxListeners=void 0;var mm=10;function Nf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ee,"defaultMaxListeners",{enumerable:!0,get:function(){return mm},set:function(e){if(typeof e!="number"||e<0||mE(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");mm=e}});Ee.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ee.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||mE(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function bE(e){return e._maxListeners===void 0?Ee.defaultMaxListeners:e._maxListeners}Ee.prototype.getMaxListeners=function(){return bE(this)};Ee.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")gm(c,this,n);else for(var l=c.length,u=AE(c,l),r=0;r<l;++r)gm(u[r],this,n);return!0};function vE(e,t,n,r){var i,s,o;if(Nf(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=bE(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,aC(a)}return e}Ee.prototype.addListener=function(t,n){return vE(this,t,n,!1)};Ee.prototype.on=Ee.prototype.addListener;Ee.prototype.prependListener=function(t,n){return vE(this,t,n,!0)};function cC(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xE(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=cC.bind(r);return i.listener=n,r.wrapFn=i,i}Ee.prototype.once=function(t,n){return Nf(n),this.on(t,xE(this,t,n)),this};Ee.prototype.prependOnceListener=function(t,n){return Nf(n),this.prependListener(t,xE(this,t,n)),this};Ee.prototype.removeListener=function(t,n){var r,i,s,o,a;if(Nf(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():uC(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Ee.prototype.off=Ee.prototype.removeListener;Ee.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function EE(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?lC(i):AE(i,i.length)}Ee.prototype.listeners=function(t){return EE(this,t,!0)};Ee.prototype.rawListeners=function(t){return EE(this,t,!1)};Ee.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):SE.call(e,t)};Ee.prototype.listenerCount=SE;function SE(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ee.prototype.eventNames=function(){return this._eventsCount>0?Uu(this._events):[]};function AE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function uC(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function lC(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function fC(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}CE(e,t,s,{once:!0}),t!=="error"&&dC(e,i,{once:!0})})}function dC(e,t,n){typeof e.on=="function"&&CE(e,"error",t,n)}function CE(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Pf=z0.exports,$E={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,f,y){if(typeof u!="function")throw new TypeError("The listener must be a function");var E=new i(u,f||c,y),h=n?n+l:l;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],E]:c._events[h].push(E):(c._events[h]=E,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)t.call(u,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var y=0,E=f.length,h=new Array(E);y<E;y++)h[y]=f[y].fn;return h},a.prototype.listenerCount=function(l){var u=n?n+l:l,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,u,f,y,E,h){var b=n?n+l:l;if(!this._events[b])return!1;var S=this._events[b],w=arguments.length,m,g;if(S.fn){switch(S.once&&this.removeListener(l,S.fn,void 0,!0),w){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,u),!0;case 3:return S.fn.call(S.context,u,f),!0;case 4:return S.fn.call(S.context,u,f,y),!0;case 5:return S.fn.call(S.context,u,f,y,E),!0;case 6:return S.fn.call(S.context,u,f,y,E,h),!0}for(g=1,m=new Array(w-1);g<w;g++)m[g-1]=arguments[g];S.fn.apply(S.context,m)}else{var v=S.length,C;for(g=0;g<v;g++)switch(S[g].once&&this.removeListener(l,S[g].fn,void 0,!0),w){case 1:S[g].fn.call(S[g].context);break;case 2:S[g].fn.call(S[g].context,u);break;case 3:S[g].fn.call(S[g].context,u,f);break;case 4:S[g].fn.call(S[g].context,u,f,y);break;default:if(!m)for(C=1,m=new Array(w-1);C<w;C++)m[C-1]=arguments[C];S[g].fn.apply(S[g].context,m)}}return!0},a.prototype.on=function(l,u,f){return s(this,l,u,f,!1)},a.prototype.once=function(l,u,f){return s(this,l,u,f,!0)},a.prototype.removeListener=function(l,u,f,y){var E=n?n+l:l;if(!this._events[E])return this;if(!u)return o(this,E),this;var h=this._events[E];if(h.fn)h.fn===u&&(!y||h.once)&&(!f||h.context===f)&&o(this,E);else{for(var b=0,S=[],w=h.length;b<w;b++)(h[b].fn!==u||y&&!h[b].once||f&&h[b].context!==f)&&S.push(h[b]);S.length?this._events[E]=S.length===1?S[0]:S:o(this,E)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})($E);var hC=$E.exports;const pC=No(hC);let IE=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},yC=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t}};const bm=e=>globalThis.DOMException===void 0?new yC(e):new DOMException(e),vm=e=>{const t=e.reason===void 0?bm("This operation was aborted."):e.reason;return t instanceof Error?t:bm(t)};function wC(e,t){const{milliseconds:n,fallback:r,message:i,customTimers:s={setTimeout,clearTimeout}}=t;let o,a;const l=new Promise((u,f)=>{if(typeof n!="number"||Math.sign(n)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(t.signal){const{signal:E}=t;E.aborted&&f(vm(E)),a=()=>{f(vm(E))},E.addEventListener("abort",a,{once:!0})}if(n===Number.POSITIVE_INFINITY){e.then(u,f);return}const y=new IE;o=s.setTimeout.call(void 0,()=>{if(r){try{u(r())}catch(E){f(E)}return}typeof e.cancel=="function"&&e.cancel(),i===!1?u():i instanceof Error?f(i):(y.message=i??`Promise timed out after ${n} milliseconds`,f(y))},n),(async()=>{try{u(await e)}catch(E){f(E)}})()}).finally(()=>{l.clear(),a&&t.signal&&t.signal.removeEventListener("abort",a)});return l.clear=()=>{s.clearTimeout.call(void 0,o),o=void 0},l}function gC(e,t,n){let r=0,i=e.length;for(;i>0;){const s=Math.trunc(i/2);let o=r+s;n(e[o],t)<=0?(r=++o,i-=s+1):i=s}return r}var hn;class mC{constructor(){ze(this,hn,[])}enqueue(t,n){n={priority:0,...n};const r={priority:n.priority,id:n.id,run:t};if(this.size===0||X(this,hn)[this.size-1].priority>=n.priority){X(this,hn).push(r);return}const i=gC(X(this,hn),r,(s,o)=>o.priority-s.priority);X(this,hn).splice(i,0,r)}setPriority(t,n){const r=X(this,hn).findIndex(s=>s.id===t);if(r===-1)throw new ReferenceError(`No promise function with the id "${t}" exists in the queue.`);const[i]=X(this,hn).splice(r,1);this.enqueue(i.run,{priority:n,id:t})}dequeue(){const t=X(this,hn).shift();return t==null?void 0:t.run}filter(t){return X(this,hn).filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return X(this,hn).length}}hn=new WeakMap;var oo,ao,hi,dc,co,hc,pn,uo,Bt,pc,yn,lo,Ar,yc,yf,we,_E,kE,TE,BE,NE,Lu,Up,Lp,Ou,PE,Du;class vl extends pC{constructor(n){var r,i;super();ze(this,we);ze(this,oo);ze(this,ao);ze(this,hi,0);ze(this,dc);ze(this,co);ze(this,hc,0);ze(this,pn);ze(this,uo);ze(this,Bt);ze(this,pc);ze(this,yn,0);ze(this,lo);ze(this,Ar);ze(this,yc);ze(this,yf,1n);x(this,"timeout");if(n={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:mC,...n},!(typeof n.intervalCap=="number"&&n.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${((r=n.intervalCap)==null?void 0:r.toString())??""}\` (${typeof n.intervalCap})`);if(n.interval===void 0||!(Number.isFinite(n.interval)&&n.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${((i=n.interval)==null?void 0:i.toString())??""}\` (${typeof n.interval})`);Ae(this,oo,n.carryoverConcurrencyCount),Ae(this,ao,n.intervalCap===Number.POSITIVE_INFINITY||n.interval===0),Ae(this,dc,n.intervalCap),Ae(this,co,n.interval),Ae(this,Bt,new n.queueClass),Ae(this,pc,n.queueClass),this.concurrency=n.concurrency,this.timeout=n.timeout,Ae(this,yc,n.throwOnTimeout===!0),Ae(this,Ar,n.autoStart===!1)}get concurrency(){return X(this,lo)}set concurrency(n){if(!(typeof n=="number"&&n>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${n}\` (${typeof n})`);Ae(this,lo,n),rt(this,we,Ou).call(this)}setPriority(n,r){X(this,Bt).setPriority(n,r)}async add(n,r={}){return r.id??(r.id=(Wo(this,yf)._++).toString()),r={timeout:this.timeout,throwOnTimeout:X(this,yc),...r},new Promise((i,s)=>{X(this,Bt).enqueue(async()=>{var o;Wo(this,yn)._++,Wo(this,hi)._++;try{(o=r.signal)==null||o.throwIfAborted();let a=n({signal:r.signal});r.timeout&&(a=wC(Promise.resolve(a),{milliseconds:r.timeout})),r.signal&&(a=Promise.race([a,rt(this,we,PE).call(this,r.signal)]));const c=await a;i(c),this.emit("completed",c)}catch(a){if(a instanceof IE&&!r.throwOnTimeout){i();return}s(a),this.emit("error",a)}finally{rt(this,we,TE).call(this)}},r),this.emit("add"),rt(this,we,Lu).call(this)})}async addAll(n,r){return Promise.all(n.map(async i=>this.add(i,r)))}start(){return X(this,Ar)?(Ae(this,Ar,!1),rt(this,we,Ou).call(this),this):this}pause(){Ae(this,Ar,!0)}clear(){Ae(this,Bt,new(X(this,pc)))}async onEmpty(){X(this,Bt).size!==0&&await rt(this,we,Du).call(this,"empty")}async onSizeLessThan(n){X(this,Bt).size<n||await rt(this,we,Du).call(this,"next",()=>X(this,Bt).size<n)}async onIdle(){X(this,yn)===0&&X(this,Bt).size===0||await rt(this,we,Du).call(this,"idle")}get size(){return X(this,Bt).size}sizeBy(n){return X(this,Bt).filter(n).length}get pending(){return X(this,yn)}get isPaused(){return X(this,Ar)}}oo=new WeakMap,ao=new WeakMap,hi=new WeakMap,dc=new WeakMap,co=new WeakMap,hc=new WeakMap,pn=new WeakMap,uo=new WeakMap,Bt=new WeakMap,pc=new WeakMap,yn=new WeakMap,lo=new WeakMap,Ar=new WeakMap,yc=new WeakMap,yf=new WeakMap,we=new WeakSet,_E=function(){return X(this,ao)||X(this,hi)<X(this,dc)},kE=function(){return X(this,yn)<X(this,lo)},TE=function(){Wo(this,yn)._--,rt(this,we,Lu).call(this),this.emit("next")},BE=function(){rt(this,we,Lp).call(this),rt(this,we,Up).call(this),Ae(this,uo,void 0)},NE=function(){const n=Date.now();if(X(this,pn)===void 0){const r=X(this,hc)-n;if(r<0)Ae(this,hi,X(this,oo)?X(this,yn):0);else return X(this,uo)===void 0&&Ae(this,uo,setTimeout(()=>{rt(this,we,BE).call(this)},r)),!0}return!1},Lu=function(){if(X(this,Bt).size===0)return X(this,pn)&&clearInterval(X(this,pn)),Ae(this,pn,void 0),this.emit("empty"),X(this,yn)===0&&this.emit("idle"),!1;if(!X(this,Ar)){const n=!X(this,we,NE);if(X(this,we,_E)&&X(this,we,kE)){const r=X(this,Bt).dequeue();return r?(this.emit("active"),r(),n&&rt(this,we,Up).call(this),!0):!1}}return!1},Up=function(){X(this,ao)||X(this,pn)!==void 0||(Ae(this,pn,setInterval(()=>{rt(this,we,Lp).call(this)},X(this,co))),Ae(this,hc,Date.now()+X(this,co)))},Lp=function(){X(this,hi)===0&&X(this,yn)===0&&X(this,pn)&&(clearInterval(X(this,pn)),Ae(this,pn,void 0)),Ae(this,hi,X(this,oo)?X(this,yn):0),rt(this,we,Ou).call(this)},Ou=function(){for(;rt(this,we,Lu).call(this););},PE=async function(n){return new Promise((r,i)=>{n.addEventListener("abort",()=>{i(n.reason)},{once:!0})})},Du=async function(n,r){return new Promise(i=>{const s=()=>{r&&!r()||(this.off(n,s),i())};this.on(n,s)})};function Ws(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}class xm{constructor(t){x(this,"buffer");x(this,"mask");x(this,"top");x(this,"btm");x(this,"next");if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return this.buffer[this.btm]===void 0}}class Jd{constructor(t={}){x(this,"size");x(this,"hwm");x(this,"head");x(this,"tail");this.hwm=t.splitLimit??16,this.head=new xm(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return(t==null?void 0:t.byteLength)!=null?t.byteLength:1}push(t){if((t==null?void 0:t.value)!=null&&(this.size+=this.calculateSize(t.value)),!this.head.push(t)){const n=this.head;this.head=n.next=new xm(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next!=null){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return(t==null?void 0:t.value)!=null&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}let bC=class extends Error{constructor(n,r){super(n??"The operation was aborted");x(this,"type");x(this,"code");this.type="aborted",this.code=r??"ABORT_ERR"}};function vC(e={}){return xC(n=>{const r=n.shift();if(r==null)return{done:!0};if(r.error!=null)throw r.error;return{done:r.done===!0,value:r.value}},e)}function xC(e,t){t=t??{};let n=t.onEnd,r=new Jd,i,s,o,a=Ws();const c=async()=>{try{return r.isEmpty()?o?{done:!0}:await new Promise((S,w)=>{s=m=>{s=null,r.push(m);try{S(e(r))}catch(g){w(g)}return i}}):e(r)}finally{r.isEmpty()&&queueMicrotask(()=>{a.resolve(),a=Ws()})}},l=S=>s!=null?s(S):(r.push(S),i),u=S=>(r=new Jd,s!=null?s({error:S}):(r.push({error:S}),i)),f=S=>{if(o)return i;if((t==null?void 0:t.objectMode)!==!0&&(S==null?void 0:S.byteLength)==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return l({done:!1,value:S})},y=S=>o?i:(o=!0,S!=null?u(S):l({done:!0})),E=()=>(r=new Jd,y(),{done:!0}),h=S=>(y(S),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:c,return:E,throw:h,push:f,end:y,get readableLength(){return r.size},onEmpty:async S=>{const w=S==null?void 0:S.signal;if(w==null||w.throwIfAborted(),r.isEmpty())return;let m,g;w!=null&&(m=new Promise((v,C)=>{g=()=>{C(new bC)},w.addEventListener("abort",g)}));try{await Promise.race([a.promise,m])}finally{g!=null&&w!=null&&(w==null||w.removeEventListener("abort",g))}}},n==null)return i;const b=i;return i={[Symbol.asyncIterator](){return this},next(){return b.next()},throw(S){return b.throw(S),n!=null&&(n(S),n=void 0),{done:!0}},return(){return b.return(),n!=null&&(n(),n=void 0),{done:!0}},push:f,end(S){return b.end(S),n!=null&&(n(S),n=void 0),i},get readableLength(){return b.readableLength},onEmpty:S=>b.onEmpty(S)},i}let Em=class extends Error{constructor(n,r,i){super(n??"The operation was aborted");x(this,"type");x(this,"code");this.type="aborted",this.name=i??"AbortError",this.code=r??"ABORT_ERR"}};async function EC(e,t,n){if(t==null)return e;if(t.aborted)return e.catch(()=>{}),Promise.reject(new Em(n==null?void 0:n.errorMessage,n==null?void 0:n.errorCode,n==null?void 0:n.errorName));let r;const i=new Em(n==null?void 0:n.errorMessage,n==null?void 0:n.errorCode,n==null?void 0:n.errorName);try{return await Promise.race([e,new Promise((s,o)=>{r=()=>{o(i)},t.addEventListener("abort",r)})])}finally{r!=null&&t.removeEventListener("abort",r)}}class SC{constructor(){x(this,"readNext");x(this,"haveNext");x(this,"ended");x(this,"nextResult");x(this,"error");this.ended=!1,this.readNext=Ws(),this.haveNext=Ws()}[Symbol.asyncIterator](){return this}async next(){if(this.nextResult==null&&await this.haveNext.promise,this.nextResult==null)throw new Error("HaveNext promise resolved but nextResult was undefined");const t=this.nextResult;return this.nextResult=void 0,this.readNext.resolve(),this.readNext=Ws(),t}async throw(t){return this.ended=!0,this.error=t,t!=null&&(this.haveNext.promise.catch(()=>{}),this.haveNext.reject(t)),{done:!0,value:void 0}}async return(){const t={done:!0,value:void 0};return this.ended=!0,this.nextResult=t,this.haveNext.resolve(),t}async push(t,n){await this._push(t,n)}async end(t,n){t!=null?await this.throw(t):await this._push(void 0,n)}async _push(t,n){if(t!=null&&this.ended)throw this.error??new Error("Cannot push value onto an ended pushable");for(;this.nextResult!=null;)await this.readNext.promise;t!=null?this.nextResult={done:!1,value:t}:(this.ended=!0,this.nextResult={done:!0,value:void 0}),this.haveNext.resolve(),this.haveNext=Ws(),await EC(this.readNext.promise,n==null?void 0:n.signal,n)}}function AC(){return new SC}function CC(e){return e[Symbol.asyncIterator]!=null}async function $C(e,t){try{await Promise.all(e.map(async n=>{for await(const r of n)await t.push(r)})),await t.end()}catch(n){await t.end(n).catch(()=>{})}}async function*IC(e){const t=AC();$C(e,t).catch(()=>{}),yield*t}function*_C(e){for(const t of e)yield*t}function kC(...e){const t=[];for(const n of e)CC(n)||t.push(n);return t.length===e.length?_C(t):IC(e)}function Sm(e,...t){if(e==null)throw new Error("Empty pipeline");if(Zd(e)){const r=e;e=()=>r.source}else if(LE(e)||UE(e)){const r=e;e=()=>r}const n=[e,...t];if(n.length>1&&Zd(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let r=1;r<n.length-1;r++)Zd(n[r])&&(n[r]=BC(n[r]));return TC(...n)}const TC=(...e)=>{let t;for(;e.length>0;)t=e.shift()(t);return t},UE=e=>(e==null?void 0:e[Symbol.asyncIterator])!=null,LE=e=>(e==null?void 0:e[Symbol.iterator])!=null,Zd=e=>e==null?!1:e.sink!=null&&e.source!=null,BC=e=>t=>{const n=e.sink(t);if((n==null?void 0:n.then)!=null){const r=vC({objectMode:!0});n.then(()=>{r.end()},o=>{r.end(o)});let i;const s=e.source;if(UE(s))i=async function*(){yield*s,r.end()};else if(LE(s))i=function*(){yield*s,r.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return kC(r,i())}return e.source};var NC=function(){return Date.now()};const tu=NC;class PC{constructor(t,n,r){const i=this;this._started=tu(),this._rescheduled=0,this._scheduled=n,this._args=r,this._triggered=!1,this._timerWrapper=()=>{i._rescheduled>0?(i._scheduled=i._rescheduled-(tu()-i._started),i._schedule(i._scheduled)):(i._triggered=!0,t.apply(null,i._args))},this._timer=setTimeout(this._timerWrapper,n)}reschedule(t){t||(t=this._scheduled);const n=tu();n+t-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(t)):this._triggered?this._schedule(t):(this._started=n,this._rescheduled=t)}_schedule(t){this._triggered=!1,this._started=tu(),this._rescheduled=0,this._scheduled=t,this._timer=setTimeout(this._timerWrapper,t)}clear(){clearTimeout(this._timer)}}function UC(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new PC(arguments[0],arguments[1],e)}var LC=UC;const{AbortController:OC}=globalThis,Am=LC;class R0 extends OC{constructor(t){super(),this._ms=t,this._timer=Am(()=>this.abort(),t),Object.setPrototypeOf(this,R0.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=Am(()=>this.abort(),this._ms)}}var Op={TimeoutController:R0};const $i=(...e)=>e.join("/").replace(new RegExp("((?<=\\/)\\/+)|(^\\.\\/)|((?<=\\/)\\.\\/)","g"),"")||".",DC=3e4,zC=async({ipfs:e,log:t,events:n,onSynced:r,start:i,timeout:s})=>{if(!e)throw new Error("An instance of ipfs is required.");if(!t)throw new Error("An instance of log is required.");const o=e.libp2p,a=e.libp2p.services.pubsub,c=t.id,l=$i("/orbitdb/heads/",c),u=new vl({concurrency:1}),f=new Set;n=n||new Pf.EventEmitter,s=s||DC;let y=!1;const E=async $=>{const I=await t.heads();n.emit("join",$,I)},h=$=>async function*(){const I=await t.heads();for await(const{bytes:N}of I)yield N}(),b=$=>async I=>{for await(const N of I){const V=N.subarray();V&&r&&await r(V)}y&&await E($)},S=async({connection:$,stream:I})=>{const N=String($.remotePeer);try{f.add(N),await Sm(I,b(N),h,I)}catch(V){f.delete(N),n.emit("error",V)}},w=async $=>{const I=async()=>{const{peerId:N,subscriptions:V}=$.detail,Y=String(N),R=V.find(ee=>ee.topic===c);if(R)if(R.subscribe){if(f.has(Y))return;const ee=new Op.TimeoutController(s),{signal:M}=ee;try{f.add(Y);const j=await o.dialProtocol(N,l,{signal:M});await Sm(h,j,b(Y))}catch(j){f.delete(Y),j.name==="UnsupportedProtocolError"||n.emit("error",j)}finally{ee&&ee.clear()}}else f.delete(Y),n.emit("leave",Y)};u.add(I)},m=async $=>{const{topic:I,data:N}=$.detail,V=async()=>{try{N&&r&&await r(N)}catch(Y){n.emit("error",Y)}};I===c&&u.add(V)},g=async $=>{f.delete($.detail.toString())},v=async $=>{y&&await a.publish(c,$.bytes)},C=async()=>{y&&(y=!1,await u.onIdle(),a.removeEventListener("subscription-change",w),a.removeEventListener("message",m),await o.unhandle(l),await a.unsubscribe(c),o.removeEventListener("peer:disconnect",g),f.clear())},k=async()=>{y||(await o.handle(l,S),a.addEventListener("subscription-change",w),a.addEventListener("message",m),await a.subscribe(c),o.addEventListener("peer:disconnect",g),y=!0)};return i!==!1&&await k(),{add:v,stop:C,start:k,events:n,peers:f}};var Dp={exports:{}};typeof Object.create=="function"?Dp.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Dp.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var RC=Dp.exports,OE=Pf,FC=RC,MC=rn;function rn(e){if(!(this instanceof rn))return new rn(e);typeof e=="number"&&(e={max:e}),e||(e={}),OE.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}FC(rn,OE.EventEmitter);Object.defineProperty(rn.prototype,"keys",{get:function(){return Object.keys(this.cache)}});rn.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0};rn.prototype.remove=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}};rn.prototype._unlink=function(e,t,n){this.length--,this.length===0?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)};rn.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}};rn.prototype.set=function(e,t){typeof e!="string"&&(e=""+e);var n;if(this.cache.hasOwnProperty(e)){if(n=this.cache[e],n.value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t};rn.prototype._checkAge=function(e,t){return this.maxAge&&Date.now()-t.modified>this.maxAge?(this.remove(e),this.emit("evict",{key:e,value:t.value}),!1):!0};rn.prototype.get=function(e){if(typeof e!="string"&&(e=""+e),!!this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}};rn.prototype.evict=function(){if(this.tail){var e=this.tail,t=this.remove(this.tail);this.emit("evict",{key:e,value:t})}};const zp=No(MC),jC=(e,t)=>{const n=e.time-t.time;return n===0&&e.id!==t.id?e.id<t.id?-1:1:n},VC=e=>Uf(e.id,++e.time),Uf=(e,t)=>(t=t||0,{id:e,time:t}),KC=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},F0=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};function HC(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var qC=HC,WC=qC;let GC=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},QC=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return DE(this,t)}},YC=class{constructor(t){this.decoders=t}or(t){return DE(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const DE=(e,t)=>new YC({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let JC=class{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new GC(t,n,r),this.decoder=new QC(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const zE=({name:e,prefix:t,encode:n,decode:r})=>new JC(e,t,n,r),RE=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=WC(n,t);return zE({prefix:e,name:t,encode:r,decode:s=>F0(i(s))})},ZC=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},XC=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Dr=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>zE({prefix:t,name:e,encode(i){return XC(i,r,n)},decode(i){return ZC(i,r,n,e)}}),zu=Dr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Dr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Dr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Dr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Dr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Dr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Dr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Dr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Dr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const Pt=RE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});RE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var e$=FE,Cm=128,t$=-128,n$=Math.pow(2,31);function FE(e,t,n){t=t||[],n=n||0;for(var r=n;e>=n$;)t[n++]=e&255|Cm,e/=128;for(;e&t$;)t[n++]=e&255|Cm,e>>>=7;return t[n]=e|0,FE.bytes=n-r+1,t}var r$=Rp,i$=128,$m=127;function Rp(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Rp.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&$m)<<i:(o&$m)*Math.pow(2,i),i+=7}while(o>=i$);return Rp.bytes=s-r,n}var s$=Math.pow(2,7),o$=Math.pow(2,14),a$=Math.pow(2,21),c$=Math.pow(2,28),u$=Math.pow(2,35),l$=Math.pow(2,42),f$=Math.pow(2,49),d$=Math.pow(2,56),h$=Math.pow(2,63),p$=function(e){return e<s$?1:e<o$?2:e<a$?3:e<c$?4:e<u$?5:e<l$?6:e<f$?7:e<d$?8:e<h$?9:10},y$={encode:e$,decode:r$,encodingLength:p$},xl=y$;const Fp=(e,t=0)=>[xl.decode(e,t),xl.decode.bytes],El=(e,t,n=0)=>(xl.encode(e,t,n),t),Sl=e=>xl.encodingLength(e),Mp=(e,t)=>{const n=t.byteLength,r=Sl(e),i=r+Sl(n),s=new Uint8Array(i+n);return El(e,s,0),El(n,s,r),s.set(t,i),new M0(e,n,t,s)},w$=e=>{const t=F0(e),[n,r]=Fp(t),[i,s]=Fp(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new M0(n,i,o,t)},g$=(e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&KC(e.bytes,n.bytes)}};let M0=class{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}};const Im=(e,t)=>{const{bytes:n,version:r}=e;switch(r){case 0:return b$(n,jp(e),t||Pt.encoder);default:return v$(n,jp(e),t||zu.encoder)}},_m=new WeakMap,jp=e=>{const t=_m.get(e);if(t==null){const n=new Map;return _m.set(e,n),n}return t};let Mn=class yt{constructor(t,n,r,i){this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==na)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==x$)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return yt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=Mp(t,n);return yt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return yt.equals(this,t)}static equals(t,n){const r=n;return r&&t.code===r.code&&t.version===r.version&&g$(t.multihash,r.multihash)}toString(t){return Im(this,t)}toJSON(){return{"/":Im(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof yt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new yt(r,i,s,o||km(r,i,s.bytes))}else if(n[E$]===!0){const{version:r,multihash:i,code:s}=n,o=w$(i);return yt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==na)throw new Error(`Version 0 CID must use dag-pb (code: ${na}) block encoding`);return new yt(t,n,r,r.bytes)}case 1:{const i=km(t,n,r.bytes);return new yt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return yt.create(0,na,t)}static createV1(t,n){return yt.create(1,t,n)}static decode(t){const[n,r]=yt.decodeFirst(t);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=yt.inspectBytes(t),r=n.size-n.multihashSize,i=F0(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new M0(n.multihashCode,n.digestSize,s,i);return[n.version===0?yt.createV0(o):yt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=Fp(t.subarray(n));return n+=y,f};let i=r(),s=na;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=m$(t,n),s=yt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return jp(s).set(r,t),s}};const m$=(e,t)=>{switch(e[0]){case"Q":{const n=t||Pt;return[Pt.prefix,n.decode(`${Pt.prefix}${e}`)]}case Pt.prefix:{const n=t||Pt;return[Pt.prefix,n.decode(e)]}case zu.prefix:{const n=t||zu;return[zu.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},b$=(e,t,n)=>{const{prefix:r}=n;if(r!==Pt.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i},v$=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i},na=112,x$=18,km=(e,t,n)=>{const r=Sl(e),i=r+Sl(t),s=new Uint8Array(i+n.byteLength);return El(e,s,0),El(t,s,r),s.set(n,i),s},E$=Symbol.for("@ipld/js-cid/CID"),S$=({name:e,code:t,encode:n})=>new A$(e,t,n);let A$=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Mp(this.code,n):n.then(r=>Mp(this.code,r))}else throw Error("Unknown type, must be binary type")}};function nu({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*C$(e,t){if(t!=null&&typeof t=="object")if(Array.isArray(t))for(const[n,r]of t.entries()){const i=[...e,n],s=Mn.asCID(r);s?yield[i.join("/"),s]:typeof r=="object"&&(yield*Vp(r,i))}else{const n=Mn.asCID(t);n?yield[e.join("/"),n]:yield*Vp(t,e)}}function*Vp(e,t){if(e==null||e instanceof Uint8Array)return;const n=Mn.asCID(e);n&&(yield[t.join("/"),n]);for(const[r,i]of Object.entries(e)){const s=[...t,r];yield*C$(s,i)}}function*$$(e,t){if(Array.isArray(t))for(const[n,r]of t.entries()){const i=[...e,n];yield i.join("/"),typeof r=="object"&&!Mn.asCID(r)&&(yield*Kp(r,i))}else yield*Kp(t,e)}function*Kp(e,t){if(!(e==null||typeof e!="object"))for(const[n,r]of Object.entries(e)){const i=[...t,n];yield i.join("/"),r!=null&&!(r instanceof Uint8Array)&&typeof r=="object"&&!Mn.asCID(r)&&(yield*$$(i,r))}}function I$(e,t){let n=e;for(const[r,i]of t.entries()){if(n=n[i],n==null)throw new Error(`Object has no property at ${t.slice(0,r+1).map(o=>`[${JSON.stringify(o)}]`).join("")}`);const s=Mn.asCID(n);if(s)return{value:s,remaining:t.slice(r+1).join("/")}}return{value:n}}class ME{constructor({cid:t,bytes:n,value:r}){if(!t||!n||typeof r>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:nu(),bytes:nu(),value:nu(),asBlock:nu()})}links(){return Vp(this.value,[])}tree(){return Kp(this.value,[])}get(t="/"){return I$(this.value,t.split("/").filter(Boolean))}}async function Oo({value:e,codec:t,hasher:n}){if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const r=t.encode(e),i=await n.digest(r),s=Mn.create(1,t.code,i);return new ME({value:e,bytes:r,cid:s})}async function Lf({bytes:e,codec:t,hasher:n}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const r=t.decode(e),i=await n.digest(e),s=Mn.create(1,t.code,i);return new ME({value:r,bytes:e,cid:s})}const _$=["string","number","bigint","symbol"],k$=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function T$(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(_$.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(B$(e))return"Buffer";const n=N$(e);return n||"Object"}function B$(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function N$(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(k$.includes(t))return t}class P{constructor(t,n,r){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}P.uint=new P(0,"uint",!0);P.negint=new P(1,"negint",!0);P.bytes=new P(2,"bytes",!0);P.string=new P(3,"string",!0);P.array=new P(4,"array",!1);P.map=new P(5,"map",!1);P.tag=new P(6,"tag",!1);P.float=new P(7,"float",!0);P.false=new P(7,"false",!0);P.true=new P(7,"true",!0);P.null=new P(7,"null",!0);P.undefined=new P(7,"undefined",!0);P.break=new P(7,"break",!0);class q{constructor(t,n,r){this.type=t,this.value=n,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Do=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",P$=new TextDecoder,U$=new TextEncoder;function Al(e){return Do&&globalThis.Buffer.isBuffer(e)}function j0(e){return e instanceof Uint8Array?Al(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const L$=Do?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Bm(e,t,n):(e,t,n)=>n-t>64?P$.decode(e.subarray(t,n)):Bm(e,t,n),jE=Do?e=>e.length>64?globalThis.Buffer.from(e):Tm(e):e=>e.length>64?U$.encode(e):Tm(e),dr=e=>Uint8Array.from(e),V0=Do?(e,t,n)=>Al(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),O$=Do?(e,t)=>(e=e.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),j0(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let i of e)r+i.length>n.length&&(i=i.subarray(0,n.length-r)),n.set(i,r),r+=i.length;return n},D$=Do?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function z$(e,t){if(Al(e)&&Al(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function Tm(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t}function Bm(e,t,n){const r=[];for(;t<n;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=n){let a,c,l,u;switch(o){case 1:i<128&&(s=i);break;case 2:a=e[t+1],(a&192)===128&&(u=(i&31)<<6|a&63,u>127&&(s=u));break;case 3:a=e[t+1],c=e[t+2],(a&192)===128&&(c&192)===128&&(u=(i&15)<<12|(a&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:a=e[t+1],c=e[t+2],l=e[t+3],(a&192)===128&&(c&192)===128&&(l&192)===128&&(u=(i&15)<<18|(a&63)<<12|(c&63)<<6|l&63,u>65535&&u<1114112&&(s=u))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),t+=o}return VE(r)}const Nm=4096;function VE(e){const t=e.length;if(t<=Nm)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Nm));return n}const R$=256;class KE{constructor(t=R$){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const i=n.length-(this.maxCursor-this.cursor)-1;n.set(t,i)}else{if(n){const i=n.length-(this.maxCursor-this.cursor)-1;i<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,i),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=D$(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,this._initReuseChunk===null&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(this.chunks.length===1){const r=this.chunks[0];t&&this.cursor>r.length/2?(n=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=V0(r,0,this.cursor)}else n=O$(this.chunks,this.cursor);return t&&this.reset(),n}}const re="CBOR decode error:",rs="CBOR encode error:";function zo(e,t,n){if(e.length-t<n)throw new Error(`${re} not enough data for type`)}const st=[24,256,65536,4294967296,BigInt("18446744073709551616")];function bs(e,t,n){zo(e,t,1);const r=e[t];if(n.strict===!0&&r<st[0])throw new Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return r}function vs(e,t,n){zo(e,t,2);const r=e[t]<<8|e[t+1];if(n.strict===!0&&r<st[1])throw new Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return r}function xs(e,t,n){zo(e,t,4);const r=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(n.strict===!0&&r<st[2])throw new Error(`${re} integer encoded in more bytes than necessary (strict decode)`);return r}function Es(e,t,n){zo(e,t,8);const r=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(r)<<BigInt(32))+BigInt(i);if(n.strict===!0&&s<st[3])throw new Error(`${re} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(n.allowBigInt===!0)return s;throw new Error(`${re} integers outside of the safe integer range are not supported`)}function F$(e,t,n,r){return new q(P.uint,bs(e,t+1,r),2)}function M$(e,t,n,r){return new q(P.uint,vs(e,t+1,r),3)}function j$(e,t,n,r){return new q(P.uint,xs(e,t+1,r),5)}function V$(e,t,n,r){return new q(P.uint,Es(e,t+1,r),9)}function Ss(e,t){return Cn(e,0,t.value)}function Cn(e,t,n){if(n<st[0]){const r=Number(n);e.push([t|r])}else if(n<st[1]){const r=Number(n);e.push([t|24,r])}else if(n<st[2]){const r=Number(n);e.push([t|25,r>>>8,r&255])}else if(n<st[3]){const r=Number(n);e.push([t|26,r>>>24&255,r>>>16&255,r>>>8&255,r&255])}else{const r=BigInt(n);if(r<st[4]){const i=[t|27,0,0,0,0,0,0,0];let s=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=o&255,o=o>>8,i[3]=o&255,o=o>>8,i[2]=o&255,o=o>>8,i[1]=o&255,e.push(i)}else throw new Error(`${re} encountered BigInt larger than allowable range`)}}Ss.encodedSize=function(t){return Cn.encodedSize(t.value)};Cn.encodedSize=function(t){return t<st[0]?1:t<st[1]?2:t<st[2]?3:t<st[3]?5:9};Ss.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};function K$(e,t,n,r){return new q(P.negint,-1-bs(e,t+1,r),2)}function H$(e,t,n,r){return new q(P.negint,-1-vs(e,t+1,r),3)}function q$(e,t,n,r){return new q(P.negint,-1-xs(e,t+1,r),5)}const K0=BigInt(-1),HE=BigInt(1);function W$(e,t,n,r){const i=Es(e,t+1,r);if(typeof i!="bigint"){const s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new q(P.negint,s,9)}if(r.allowBigInt!==!0)throw new Error(`${re} integers outside of the safe integer range are not supported`);return new q(P.negint,K0-BigInt(i),9)}function H0(e,t){const n=t.value,r=typeof n=="bigint"?n*K0-HE:n*-1-1;Cn(e,t.type.majorEncoded,r)}H0.encodedSize=function(t){const n=t.value,r=typeof n=="bigint"?n*K0-HE:n*-1-1;return r<st[0]?1:r<st[1]?2:r<st[2]?3:r<st[3]?5:9};H0.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0};function Sc(e,t,n,r){zo(e,t,n+r);const i=V0(e,t+n,t+n+r);return new q(P.bytes,i,n+r)}function G$(e,t,n,r){return Sc(e,t,1,n)}function Q$(e,t,n,r){return Sc(e,t,2,bs(e,t+1,r))}function Y$(e,t,n,r){return Sc(e,t,3,vs(e,t+1,r))}function J$(e,t,n,r){return Sc(e,t,5,xs(e,t+1,r))}function Z$(e,t,n,r){const i=Es(e,t+1,r);if(typeof i=="bigint")throw new Error(`${re} 64-bit integer bytes lengths not supported`);return Sc(e,t,9,i)}function Cl(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===P.string?jE(e.value):e.value),e.encodedBytes}function Of(e,t){const n=Cl(t);Cn(e,t.type.majorEncoded,n.length),e.push(n)}Of.encodedSize=function(t){const n=Cl(t);return Cn.encodedSize(n.length)+n.length};Of.compareTokens=function(t,n){return X$(Cl(t),Cl(n))};function X$(e,t){return e.length<t.length?-1:e.length>t.length?1:z$(e,t)}function Ac(e,t,n,r,i){const s=n+r;zo(e,t,s);const o=new q(P.string,L$(e,t+n,t+s),s);return i.retainStringBytes===!0&&(o.byteValue=V0(e,t+n,t+s)),o}function e4(e,t,n,r){return Ac(e,t,1,n,r)}function t4(e,t,n,r){return Ac(e,t,2,bs(e,t+1,r),r)}function n4(e,t,n,r){return Ac(e,t,3,vs(e,t+1,r),r)}function r4(e,t,n,r){return Ac(e,t,5,xs(e,t+1,r),r)}function i4(e,t,n,r){const i=Es(e,t+1,r);if(typeof i=="bigint")throw new Error(`${re} 64-bit integer string lengths not supported`);return Ac(e,t,9,i,r)}const s4=Of;function Ro(e,t,n,r){return new q(P.array,r,n)}function o4(e,t,n,r){return Ro(e,t,1,n)}function a4(e,t,n,r){return Ro(e,t,2,bs(e,t+1,r))}function c4(e,t,n,r){return Ro(e,t,3,vs(e,t+1,r))}function u4(e,t,n,r){return Ro(e,t,5,xs(e,t+1,r))}function l4(e,t,n,r){const i=Es(e,t+1,r);if(typeof i=="bigint")throw new Error(`${re} 64-bit integer array lengths not supported`);return Ro(e,t,9,i)}function f4(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${re} indefinite length items not allowed`);return Ro(e,t,1,1/0)}function q0(e,t){Cn(e,P.array.majorEncoded,t.value)}q0.compareTokens=Ss.compareTokens;q0.encodedSize=function(t){return Cn.encodedSize(t.value)};function Fo(e,t,n,r){return new q(P.map,r,n)}function d4(e,t,n,r){return Fo(e,t,1,n)}function h4(e,t,n,r){return Fo(e,t,2,bs(e,t+1,r))}function p4(e,t,n,r){return Fo(e,t,3,vs(e,t+1,r))}function y4(e,t,n,r){return Fo(e,t,5,xs(e,t+1,r))}function w4(e,t,n,r){const i=Es(e,t+1,r);if(typeof i=="bigint")throw new Error(`${re} 64-bit integer map lengths not supported`);return Fo(e,t,9,i)}function g4(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${re} indefinite length items not allowed`);return Fo(e,t,1,1/0)}function W0(e,t){Cn(e,P.map.majorEncoded,t.value)}W0.compareTokens=Ss.compareTokens;W0.encodedSize=function(t){return Cn.encodedSize(t.value)};function m4(e,t,n,r){return new q(P.tag,n,1)}function b4(e,t,n,r){return new q(P.tag,bs(e,t+1,r),2)}function v4(e,t,n,r){return new q(P.tag,vs(e,t+1,r),3)}function x4(e,t,n,r){return new q(P.tag,xs(e,t+1,r),5)}function E4(e,t,n,r){return new q(P.tag,Es(e,t+1,r),9)}function G0(e,t){Cn(e,P.tag.majorEncoded,t.value)}G0.compareTokens=Ss.compareTokens;G0.encodedSize=function(t){return Cn.encodedSize(t.value)};const S4=20,A4=21,C4=22,$4=23;function I4(e,t,n,r){if(r.allowUndefined===!1)throw new Error(`${re} undefined values are not supported`);return r.coerceUndefinedToNull===!0?new q(P.null,null,1):new q(P.undefined,void 0,1)}function _4(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${re} indefinite length items not allowed`);return new q(P.break,void 0,1)}function Q0(e,t,n){if(n){if(n.allowNaN===!1&&Number.isNaN(e))throw new Error(`${re} NaN values are not supported`);if(n.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${re} Infinity values are not supported`)}return new q(P.float,e,t)}function k4(e,t,n,r){return Q0(J0(e,t+1),3,r)}function T4(e,t,n,r){return Q0(Z0(e,t+1),5,r)}function B4(e,t,n,r){return Q0(QE(e,t+1),9,r)}function Y0(e,t,n){const r=t.value;if(r===!1)e.push([P.float.majorEncoded|S4]);else if(r===!0)e.push([P.float.majorEncoded|A4]);else if(r===null)e.push([P.float.majorEncoded|C4]);else if(r===void 0)e.push([P.float.majorEncoded|$4]);else{let i,s=!1;(!n||n.float64!==!0)&&(WE(r),i=J0(Nn,1),r===i||Number.isNaN(r)?(Nn[0]=249,e.push(Nn.slice(0,3)),s=!0):(GE(r),i=Z0(Nn,1),r===i&&(Nn[0]=250,e.push(Nn.slice(0,5)),s=!0))),s||(N4(r),i=QE(Nn,1),Nn[0]=251,e.push(Nn.slice(0,9)))}}Y0.encodedSize=function(t,n){const r=t.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!n||n.float64!==!0){WE(r);let i=J0(Nn,1);if(r===i||Number.isNaN(r))return 3;if(GE(r),i=Z0(Nn,1),r===i)return 5}return 9};const qE=new ArrayBuffer(9),fn=new DataView(qE,1),Nn=new Uint8Array(qE,0);function WE(e){if(e===1/0)fn.setUint16(0,31744,!1);else if(e===-1/0)fn.setUint16(0,64512,!1);else if(Number.isNaN(e))fn.setUint16(0,32256,!1);else{fn.setFloat32(0,e);const t=fn.getUint32(0),n=(t&2139095040)>>23,r=t&8388607;if(n===255)fn.setUint16(0,31744,!1);else if(n===0)fn.setUint16(0,(e&2147483648)>>16|r>>13,!1);else{const i=n-127;i<-24?fn.setUint16(0,0):i<-14?fn.setUint16(0,(t&2147483648)>>16|1<<24+i,!1):fn.setUint16(0,(t&2147483648)>>16|i+15<<10|r>>13,!1)}}}function J0(e,t){if(e.length-t<2)throw new Error(`${re} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(n===31744)return 1/0;if(n===64512)return-1/0;if(n===32256)return NaN;const r=n>>10&31,i=n&1023;let s;return r===0?s=i*2**-24:r!==31?s=(i+1024)*2**(r-25):s=i===0?1/0:NaN,n&32768?-s:s}function GE(e){fn.setFloat32(0,e,!1)}function Z0(e,t){if(e.length-t<4)throw new Error(`${re} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function N4(e){fn.setFloat64(0,e,!1)}function QE(e,t){if(e.length-t<8)throw new Error(`${re} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}Y0.compareTokens=Ss.compareTokens;function me(e,t,n){throw new Error(`${re} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function Df(e){return()=>{throw new Error(`${re} ${e}`)}}const Q=[];for(let e=0;e<=23;e++)Q[e]=me;Q[24]=F$;Q[25]=M$;Q[26]=j$;Q[27]=V$;Q[28]=me;Q[29]=me;Q[30]=me;Q[31]=me;for(let e=32;e<=55;e++)Q[e]=me;Q[56]=K$;Q[57]=H$;Q[58]=q$;Q[59]=W$;Q[60]=me;Q[61]=me;Q[62]=me;Q[63]=me;for(let e=64;e<=87;e++)Q[e]=G$;Q[88]=Q$;Q[89]=Y$;Q[90]=J$;Q[91]=Z$;Q[92]=me;Q[93]=me;Q[94]=me;Q[95]=Df("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Q[e]=e4;Q[120]=t4;Q[121]=n4;Q[122]=r4;Q[123]=i4;Q[124]=me;Q[125]=me;Q[126]=me;Q[127]=Df("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Q[e]=o4;Q[152]=a4;Q[153]=c4;Q[154]=u4;Q[155]=l4;Q[156]=me;Q[157]=me;Q[158]=me;Q[159]=f4;for(let e=160;e<=183;e++)Q[e]=d4;Q[184]=h4;Q[185]=p4;Q[186]=y4;Q[187]=w4;Q[188]=me;Q[189]=me;Q[190]=me;Q[191]=g4;for(let e=192;e<=215;e++)Q[e]=m4;Q[216]=b4;Q[217]=v4;Q[218]=x4;Q[219]=E4;Q[220]=me;Q[221]=me;Q[222]=me;Q[223]=me;for(let e=224;e<=243;e++)Q[e]=Df("simple values are not supported");Q[244]=me;Q[245]=me;Q[246]=me;Q[247]=I4;Q[248]=Df("simple values are not supported");Q[249]=k4;Q[250]=T4;Q[251]=B4;Q[252]=me;Q[253]=me;Q[254]=me;Q[255]=_4;const cr=[];for(let e=0;e<24;e++)cr[e]=new q(P.uint,e,1);for(let e=-1;e>=-24;e--)cr[31-e]=new q(P.negint,e,1);cr[64]=new q(P.bytes,new Uint8Array(0),1);cr[96]=new q(P.string,"",1);cr[128]=new q(P.array,0,1);cr[160]=new q(P.map,0,1);cr[244]=new q(P.false,!1,1);cr[245]=new q(P.true,!0,1);cr[246]=new q(P.null,null,1);function P4(e){switch(e.type){case P.false:return dr([244]);case P.true:return dr([245]);case P.null:return dr([246]);case P.bytes:return e.value.length?void 0:dr([64]);case P.string:return e.value===""?dr([96]):void 0;case P.array:return e.value===0?dr([128]):void 0;case P.map:return e.value===0?dr([160]):void 0;case P.uint:return e.value<24?dr([Number(e.value)]):void 0;case P.negint:if(e.value>=-24)return dr([31-Number(e.value)])}}const U4={float64:!1,mapSorter:D4,quickEncodeToken:P4};function L4(){const e=[];return e[P.uint.major]=Ss,e[P.negint.major]=H0,e[P.bytes.major]=Of,e[P.string.major]=s4,e[P.array.major]=q0,e[P.map.major]=W0,e[P.tag.major]=G0,e[P.float.major]=Y0,e}const YE=L4(),Xd=new KE;class $l{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do if(n.obj===t)return!0;while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${rs} object contains circular references`);return new $l(n,t)}}const Hr={null:new q(P.null,null),undefined:new q(P.undefined,void 0),true:new q(P.true,!0),false:new q(P.false,!1),emptyArray:new q(P.array,0),emptyMap:new q(P.map,0)},Bi={number(e,t,n,r){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new q(P.float,e):e>=0?new q(P.uint,e):new q(P.negint,e)},bigint(e,t,n,r){return e>=BigInt(0)?new q(P.uint,e):new q(P.negint,e)},Uint8Array(e,t,n,r){return new q(P.bytes,e)},string(e,t,n,r){return new q(P.string,e)},boolean(e,t,n,r){return e?Hr.true:Hr.false},null(e,t,n,r){return Hr.null},undefined(e,t,n,r){return Hr.undefined},ArrayBuffer(e,t,n,r){return new q(P.bytes,new Uint8Array(e))},DataView(e,t,n,r){return new q(P.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,n,r){if(!e.length)return n.addBreakTokens===!0?[Hr.emptyArray,new q(P.break)]:Hr.emptyArray;r=$l.createCheck(r,e);const i=[];let s=0;for(const o of e)i[s++]=Ru(o,n,r);return n.addBreakTokens?[new q(P.array,e.length),i,new q(P.break)]:[new q(P.array,e.length),i]},Object(e,t,n,r){const i=t!=="Object",s=i?e.keys():Object.keys(e),o=i?e.size:s.length;if(!o)return n.addBreakTokens===!0?[Hr.emptyMap,new q(P.break)]:Hr.emptyMap;r=$l.createCheck(r,e);const a=[];let c=0;for(const l of s)a[c++]=[Ru(l,n,r),Ru(i?e.get(l):e[l],n,r)];return O4(a,n),n.addBreakTokens?[new q(P.map,o),a,new q(P.break)]:[new q(P.map,o),a]}};Bi.Map=Bi.Object;Bi.Buffer=Bi.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Bi[`${e}Array`]=Bi.DataView;function Ru(e,t={},n){const r=T$(e),i=t&&t.typeEncoders&&t.typeEncoders[r]||Bi[r];if(typeof i=="function"){const o=i(e,r,t,n);if(o!=null)return o}const s=Bi[r];if(!s)throw new Error(`${rs} unsupported type: ${r}`);return s(e,r,t,n)}function O4(e,t){t.mapSorter&&e.sort(t.mapSorter)}function D4(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,s=YE[i].compareTokens(n,r);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function JE(e,t,n,r){if(Array.isArray(t))for(const i of t)JE(e,i,n,r);else n[t.type.major](e,t,r)}function ZE(e,t,n){const r=Ru(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const i=n.quickEncodeToken(r);if(i)return i;const s=t[r.type.major];if(s.encodedSize){const o=s.encodedSize(r,n),a=new KE(o);if(s(a,r,n),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return j0(a.chunks[0])}}return Xd.reset(),JE(Xd,r,t,n),Xd.toBytes(!0)}function z4(e,t){return t=Object.assign({},U4,t),ZE(e,YE,t)}const R4={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class F4{constructor(t,n={}){this._pos=0,this.data=t,this.options=n}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const t=this.data[this._pos];let n=cr[t];if(n===void 0){const r=Q[t];if(!r)throw new Error(`${re} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const i=t&31;n=r(this.data,this._pos,i,this.options)}return this._pos+=n.encodedLength,n}}const oc=Symbol.for("DONE"),zf=Symbol.for("BREAK");function M4(e,t,n){const r=[];for(let i=0;i<e.value;i++){const s=ac(t,n);if(s===zf){if(e.value===1/0)break;throw new Error(`${re} got unexpected break to lengthed array`)}if(s===oc)throw new Error(`${re} found array but not enough entries (got ${i}, expected ${e.value})`);r[i]=s}return r}function j4(e,t,n){const r=n.useMaps===!0,i=r?void 0:{},s=r?new Map:void 0;for(let o=0;o<e.value;o++){const a=ac(t,n);if(a===zf){if(e.value===1/0)break;throw new Error(`${re} got unexpected break to lengthed map`)}if(a===oc)throw new Error(`${re} found map but not enough entries (got ${o} [no key], expected ${e.value})`);if(r!==!0&&typeof a!="string")throw new Error(`${re} non-string keys not supported (got ${typeof a})`);if(n.rejectDuplicateMapKeys===!0&&(r&&s.has(a)||!r&&a in i))throw new Error(`${re} found repeat map key "${a}"`);const c=ac(t,n);if(c===oc)throw new Error(`${re} found map but not enough entries (got ${o} [no value], expected ${e.value})`);r?s.set(a,c):i[a]=c}return r?s:i}function ac(e,t){if(e.done())return oc;const n=e.next();if(n.type===P.break)return zf;if(n.type.terminal)return n.value;if(n.type===P.array)return M4(n,e,t);if(n.type===P.map)return j4(n,e,t);if(n.type===P.tag){if(t.tags&&typeof t.tags[n.value]=="function"){const r=ac(e,t);return t.tags[n.value](r)}throw new Error(`${re} tag not supported (${n.value})`)}throw new Error("unsupported")}function V4(e,t){if(!(e instanceof Uint8Array))throw new Error(`${re} data to decode must be a Uint8Array`);t=Object.assign({},R4,t);const n=t.tokenizer||new F4(e,t),r=ac(n,t);if(r===oc)throw new Error(`${re} did not find any content to decode`);if(r===zf)throw new Error(`${re} got unexpected break`);return[r,e.subarray(n.pos())]}function XE(e,t){const[n,r]=V4(e,t);if(r.length>0)throw new Error(`${re} too many terminals, data makes no sense`);return n}function K4(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function X0(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function H4(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var q4=H4,W4=q4;let G4=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Q4=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return e2(this,t)}},Y4=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return e2(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function e2(e,t){return new Y4({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let J4=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new G4(t,n,r),this.decoder=new Q4(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function t2({name:e,prefix:t,encode:n,decode:r}){return new J4(e,t,n,r)}function Rf({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=W4(n,e);return t2({prefix:t,name:e,encode:r,decode:s=>X0(i(s))})}function Z4(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function X4(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function zr({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return t2({prefix:t,name:e,encode(i){return X4(i,r,n)},decode(i){return Z4(i,r,n,e)}})}const Fu=zr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});zr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});zr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});zr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});zr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});zr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});zr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});zr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});zr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const eh=Rf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});Rf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const si=Rf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});Rf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var e5=n2,Pm=128,t5=-128,n5=Math.pow(2,31);function n2(e,t,n){t=t||[],n=n||0;for(var r=n;e>=n5;)t[n++]=e&255|Pm,e/=128;for(;e&t5;)t[n++]=e&255|Pm,e>>>=7;return t[n]=e|0,n2.bytes=n-r+1,t}var r5=Hp,i5=128,Um=127;function Hp(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Hp.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&Um)<<i:(o&Um)*Math.pow(2,i),i+=7}while(o>=i5);return Hp.bytes=s-r,n}var s5=Math.pow(2,7),o5=Math.pow(2,14),a5=Math.pow(2,21),c5=Math.pow(2,28),u5=Math.pow(2,35),l5=Math.pow(2,42),f5=Math.pow(2,49),d5=Math.pow(2,56),h5=Math.pow(2,63),p5=function(e){return e<s5?1:e<o5?2:e<a5?3:e<c5?4:e<u5?5:e<l5?6:e<f5?7:e<d5?8:e<h5?9:10},y5={encode:e5,decode:r5,encodingLength:p5},Il=y5;function qp(e,t=0){return[Il.decode(e,t),Il.decode.bytes]}function _l(e,t,n=0){return Il.encode(e,t,n),t}function kl(e){return Il.encodingLength(e)}function w5(e,t){const n=t.byteLength,r=kl(e),i=r+kl(n),s=new Uint8Array(i+n);return _l(e,s,0),_l(n,s,r),s.set(t,i),new ew(e,n,t,s)}function g5(e){const t=X0(e),[n,r]=qp(t),[i,s]=qp(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new ew(n,i,o,t)}function m5(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&K4(e.bytes,n.bytes)}}let ew=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function Lm(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return v5(n,Wp(e),t??si.encoder);default:return x5(n,Wp(e),t??Fu.encoder)}}const Om=new WeakMap;function Wp(e){const t=Om.get(e);if(t==null){const n=new Map;return Om.set(e,n),n}return t}var qb;let r2=class wt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,qb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ra)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==E5)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return wt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=w5(t,n);return wt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return wt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&m5(t.multihash,r.multihash)}toString(t){return Lm(this,t)}toJSON(){return{"/":Lm(this)}}link(){return this}[(qb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof wt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new wt(r,i,s,o??Dm(r,i,s.bytes))}else if(n[S5]===!0){const{version:r,multihash:i,code:s}=n,o=g5(i);return wt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==ra)throw new Error(`Version 0 CID must use dag-pb (code: ${ra}) block encoding`);return new wt(t,n,r,r.bytes)}case 1:{const i=Dm(t,n,r.bytes);return new wt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return wt.create(0,ra,t)}static createV1(t,n){return wt.create(1,t,n)}static decode(t){const[n,r]=wt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=wt.inspectBytes(t),r=n.size-n.multihashSize,i=X0(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new ew(n.multihashCode,n.digestSize,s,i);return[n.version===0?wt.createV0(o):wt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=qp(t.subarray(n));return n+=y,f};let i=r(),s=ra;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=b5(t,n),s=wt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Wp(s).set(r,t),s}};function b5(e,t){switch(e[0]){case"Q":{const n=t??si;return[si.prefix,n.decode(`${si.prefix}${e}`)]}case si.prefix:{const n=t??si;return[si.prefix,n.decode(e)]}case Fu.prefix:{const n=t??Fu;return[Fu.prefix,n.decode(e)]}case eh.prefix:{const n=t??eh;return[eh.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function v5(e,t,n){const{prefix:r}=n;if(r!==si.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function x5(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const ra=112,E5=18;function Dm(e,t,n){const r=kl(e),i=r+kl(t),s=new Uint8Array(i+n.byteLength);return _l(e,s,0),_l(t,s,r),s.set(n,i),s}const S5=Symbol.for("@ipld/js-cid/CID"),i2=42;function s2(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function A5(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=r2.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new q(P.tag,i2),new q(P.bytes,n)]}function C5(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function $5(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const Gp={float64:!0,typeEncoders:{Object:A5,undefined:C5,number:$5}},I5={...Gp,typeEncoders:{...Gp.typeEncoders}};function _5(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return r2.decode(e.subarray(1))}const Tl={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Tl.tags[i2]=_5;const k5={...Tl,tags:Tl.tags.slice()},T5="dag-cbor",B5=113,o2=e=>z4(e,Gp),a2=e=>XE(s2(e),Tl),Cc=Object.freeze(Object.defineProperty({__proto__:null,code:B5,decode:a2,decodeOptions:k5,encode:o2,encodeOptions:I5,name:T5,toByteView:s2},Symbol.toStringTag,{value:"Module"})),N5=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ff=S$({name:"sha2-256",code:18,encode:N5("SHA-256")}),Mf=Cc,jf=Ff,c2=Pt,P5=async(e,t,n,r=null,i=[],s=[])=>{if(e==null)throw new Error("Identity is required, cannot create entry");if(t==null)throw new Error("Entry requires an id");if(n==null)throw new Error("Entry requires a payload");if(i==null||!Array.isArray(i))throw new Error("'next' argument is not an array");r=r||Uf(e.publicKey);const o={id:t,payload:n,next:i,refs:s,clock:r,v:2},{bytes:a}=await Oo({value:o,codec:Mf,hasher:jf}),c=await e.sign(e,a);return o.key=e.publicKey,o.identity=e.hash,o.sig=c,l2(o)},U5=async(e,t)=>{if(!e)throw new Error("Identities is required, cannot verify entry");if(!u2(t))throw new Error("Invalid Log entry");if(!t.key)throw new Error("Entry doesn't have a key");if(!t.sig)throw new Error("Entry doesn't have a signature");const n={id:t.id,payload:t.payload,next:t.next,refs:t.refs,clock:t.clock,v:t.v},{bytes:r}=await Oo({value:n,codec:Mf,hasher:jf});return e.verify(t.sig,t.key,r)},u2=e=>e&&e.id!==void 0&&e.next!==void 0&&e.payload!==void 0&&e.v!==void 0&&e.clock!==void 0&&e.refs!==void 0,L5=(e,t)=>e&&t&&e.hash===t.hash,O5=async e=>{const{cid:t,value:n}=await Lf({bytes:e,codec:Mf,hasher:jf}),r=t.toString(c2);return{...n,hash:r,bytes:e}},l2=async e=>{const{cid:t,bytes:n}=await Oo({value:e,codec:Mf,hasher:jf}),r=t.toString(c2),i=Uf(e.clock.id,e.clock.time);return{...e,clock:i,hash:r,bytes:n}},vr={create:P5,verify:U5,decode:O5,encode:l2,isEntry:u2,isEqual:L5},tw=async()=>{let e={};const t=async(c,l)=>{e[c]=l};return{put:t,del:async c=>{delete e[c]},get:async c=>e[c],iterator:async function*(){for await(const[c,l]of Object.entries(e))yield[c,l]},merge:async c=>{if(c)for await(const[l,u]of c.iterator())t(l,u)},clear:async()=>{e={}},close:async()=>{}}},D5=tw,z5=async({storage:e,heads:t})=>{e=e||await D5();const n=async u=>{u=zm(u);for(const f of u)await e.put(f.hash,f.bytes)},r=async u=>{await e.clear(),await n(u)},i=async u=>{const f=await a();if(f.find(E=>vr.isEqual(E,u)))return;const y=zm([...f,u]);return await r(y),y},s=async u=>{const y=(await a()).filter(E=>E.hash!==u);await r(y)},o=async function*(){const u=e.iterator();for await(const[,f]of u)yield await vr.decode(f)},a=async()=>{const u=[];for await(const f of o())u.push(f);return u},c=async()=>{await e.clear()},l=async()=>{await e.close()};return await n(t||[]),{put:n,set:r,add:i,remove:s,iterator:o,all:a,clear:c,close:l}},zm=e=>{e=new Set(e);const t={};for(const r of e)for(const i of r.next)t[i]=r.hash;const n=[];for(const r of e)t[r.hash]||n.push(r);return n};function R5(e,t){const n=(s,o)=>s,r=(s,o)=>M5(s,o,n);return((s,o)=>F5(s,o,r))(e,t)}function F5(e,t,n){const r=jC(e.clock,t.clock);return r===0?n(e,t):r}function M5(e,t,n){return e.clock.id===t.clock.id?n(e,t):e.clock.id<t.clock.id?-1:1}function j5(e){const t=`Your log's tiebreaker function, ${e.name}, has returned zero and therefore cannot be`;return(r,i)=>{const s=e(r,i);if(s===0)throw Error(t);return s}}const V5={LastWriteWins:R5,NoZeroes:j5},{LastWriteWins:K5,NoZeroes:H5}=V5,q5=()=>new Date().getTime().toString(),W5=(e,t)=>Math.max(e,t.clock.time),th=tw,G5=async()=>({canAppend:async e=>!0}),Q5=async(e,{logId:t,logHeads:n,access:r,entryStorage:i,headsStorage:s,indexStorage:o,sortFn:a}={})=>{if(e==null)throw new Error("Identity is required");if(n!=null&&!Array.isArray(n))throw new Error("'logHeads' argument must be an array");const c=t||q5();r=r||await G5();const l=i||await th(),u=o||await th();s=s||await th();const f=await z5({storage:s,heads:n});a=H5(a||K5);const y=new vl({concurrency:1}),E=new vl({concurrency:1}),h=async()=>{const R=Math.max(0,(await b()).reduce(W5,0));return Uf(e.publicKey,R)},b=async()=>(await f.all()).sort(a).reverse(),S=async()=>{const R=[];for await(const ee of k())R.unshift(ee);return R},w=async R=>{const ee=await l.get(R);if(ee)return await vr.decode(ee)},m=async R=>await u.get(R)!=null,g=async(R,ee={referencesCount:0})=>{const M=async()=>{const j=await b(),W=j.map(O=>O.hash),F=await Y(j,ee.referencesCount+j.length),T=await vr.create(e,c,R,VC(await h()),W,F);if(!await r.canAppend(T))throw new Error(`Could not append entry:
Key "${e.hash}" is not allowed to write to the log`);return await f.set([T]),await l.put(T.hash,T.bytes),await u.put(T.hash,!0),T};return y.add(M)},v=async R=>{if(!R)throw new Error("Log instance not defined");if(!V(R))throw new Error("Given argument is not an instance of Log");l.merge&&await l.merge(R.storage);const ee=await R.heads();for(const M of ee)await C(M)},C=async R=>{const ee=async()=>{if(await m(R.hash))return!1;const j=async D=>{if(D.id!==c)throw new Error(`Entry's id (${D.id}) doesn't match the log's id (${c}).`);if(!await r.canAppend(D))throw new Error(`Could not append entry:
Key "${D.identity}" is not allowed to write to the log`);if(!await vr.verify(e,D))throw new Error(`Could not validate signature for entry "${D.hash}"`)};await j(R);const W=(await b()).map(D=>D.hash),F=new Set([R.hash]),T=new Set([...R.next,...R.refs]),L=new Set,O=async()=>{const D=Array.from(T.values()).filter(m).map(w),G=await Promise.all(D);for(const te of G){T.delete(te.hash),await j(te),F.add(te.hash);for(const ne of[...te.next,...te.refs])!await m(ne)&&!F.has(ne)?T.add(ne):W.includes(ne)&&L.add(ne)}T.size>0&&await O()};await O();for(const D of F.values())await u.put(D,!0);for(const D of L.values())await f.remove(D);return await l.put(R.hash,R.bytes),await f.add(R),!0};return E.add(ee)},k=async function*(R,ee){ee=ee||(()=>!1),R=R||await b();let j=R.sort(a);const W={};let F=[];const T={},L=D=>!(W[D]||T[D]);let O;for(;j.length>0;)if(j=j.sort(a),O=j.pop(),O){const{hash:D,next:G}=O;if(!W[D]){if(yield O,await ee(O)===!0)break;W[D]=!0,T[D]=!0,F=[...F,...G].filter(L);const ne=J=>{if(!W[J]&&!T[J])return T[J]=!0,w(J)},ie=await Promise.all(F.map(ne));F=ie.filter(J=>J!=null).reduce((J,fe)=>Array.from(new Set([...J,...fe.next])),[]).filter(L),j=[...ie,...j]}}},$=async function*({amount:R=-1,gt:ee,gte:M,lt:j,lte:W}={}){if(R===0)return;if(typeof W=="string"&&(W=[await w(W)]),typeof j=="string"){const J=await w(j);j=await Promise.all(J.next.map(de=>w(de)))}if(j!=null&&!Array.isArray(j))throw new Error("lt must be a string or an array of Entries");if(W!=null&&!Array.isArray(W))throw new Error("lte must be a string or an array of Entries");const F=(j||W||await b()).filter(J=>J!=null),T=ee||M?await w(ee||M):null,L=T||R===-1?-1:R;let O=0;const D=async J=>(O++,J?!!(O>=L&&L!==-1||T&&vr.isEqual(J,T)):!1),G=T&&R!==-1&&!j&&!W,te=G?new zp(R+2):null;let ne=0;const ie=k(F,D);for await(const J of ie){const fe=j&&vr.isEqual(J,F),de=ee&&vr.isEqual(J,T);fe||de||(G?te.set(ne++,J.hash):yield J)}if(G){const J=te.keys.length,fe=J>R?J-R:0,de=te.keys.slice(fe,J);for(const _e of de){const We=te.get(_e);yield await w(We)}}},I=async()=>{await u.clear(),await f.clear(),await l.clear()},N=async()=>{await u.close(),await f.close(),await l.close()},V=R=>R&&R.id!==void 0&&R.clock!==void 0&&R.heads!==void 0&&R.values!==void 0&&R.access!==void 0&&R.identity!==void 0&&R.storage!==void 0,Y=async(R,ee=0)=>{let M=[];const j=async W=>M.length>=ee&&ee!==-1;for await(const{hash:W}of k(R,j))M.push(W);return M=M.slice(R.length+1,ee),M};return{id:c,clock:h,heads:b,values:S,all:S,get:w,has:m,append:g,join:v,joinEntry:C,traverse:k,iterator:$,clear:I,close:N,access:r,identity:e,storage:l}},is=async(e,t)=>({put:async(l,u)=>{await e.put(l,u),await t.put(l,u)},get:async l=>{let u=await e.get(l);return u||(u=await t.get(l),u&&await e.put(l,u)),u},del:async l=>{await e.del(l),await t.del(l)},iterator:async function*({amount:l,reverse:u}={}){const f=[],y={amount:l||-1,reverse:u||!1};for(const E of[e,t])for await(const[h,b]of E.iterator(y))f[h]||(f[h]=!0,yield[h,b])},merge:async l=>{await e.merge(l),await t.merge(l),await l.merge(e),await l.merge(t)},clear:async()=>{await e.clear(),await t.clear()},close:async()=>{await e.close(),await t.close()}});function Y5(e){return e[Symbol.asyncIterator]!=null}function J5(e){if(Y5(e))return(async()=>{for await(const t of e);})();for(const t of e);}const Rm=3e4,Vf=async({ipfs:e,pin:t,timeout:n}={})=>{if(!e)throw new Error("An instance of ipfs is required.");return{put:async(u,f)=>{const y=Mn.parse(u,Pt),{signal:E}=new Op.TimeoutController(n||Rm);await e.blockstore.put(y,f,{signal:E}),t&&!await e.pins.isPinned(y)&&await J5(e.pins.add(y))},del:async u=>{},get:async u=>{const f=Mn.parse(u,Pt),{signal:y}=new Op.TimeoutController(n||Rm),E=await e.blockstore.get(f,{signal:y});if(E)return E},iterator:async function*(){},merge:async u=>{},clear:async()=>{},close:async()=>{}}};var f2={},Di={},Kf={},d2={};d2.supports=function(...t){const n=t.reduce((r,i)=>Object.assign(r,i),{});return Object.assign(n,{snapshots:n.snapshots||!1,permanence:n.permanence||!1,seek:n.seek||!1,clear:n.clear||!1,getMany:n.getMany||!1,keyIterator:n.keyIterator||!1,valueIterator:n.valueIterator||!1,iteratorNextv:n.iteratorNextv||!1,iteratorAll:n.iteratorAll||!1,status:n.status||!1,createIfMissing:n.createIfMissing||!1,errorIfExists:n.errorIfExists||!1,deferredOpen:n.deferredOpen||!1,promises:n.promises||!1,streams:n.streams||!1,encodings:Object.assign({},n.encodings),events:Object.assign({},n.events),additionalMethods:Object.assign({},n.additionalMethods)})};var h2={},ur=class extends Error{constructor(t,n){super(t||""),typeof n=="object"&&n!==null&&(n.code&&(this.code=String(n.code)),n.expected&&(this.expected=!0),n.transient&&(this.transient=!0),n.cause&&(this.cause=n.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},As={},Hf={},qf={};qf.byteLength=eI;qf.toByteArray=nI;qf.fromByteArray=sI;var er=[],dn=[],Z5=typeof Uint8Array<"u"?Uint8Array:Array,nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $s=0,X5=nh.length;$s<X5;++$s)er[$s]=nh[$s],dn[nh.charCodeAt($s)]=$s;dn[45]=62;dn[95]=63;function p2(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function eI(e){var t=p2(e),n=t[0],r=t[1];return(n+r)*3/4-r}function tI(e,t,n){return(t+n)*3/4-n}function nI(e){var t,n=p2(e),r=n[0],i=n[1],s=new Z5(tI(e,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)t=dn[e.charCodeAt(c)]<<18|dn[e.charCodeAt(c+1)]<<12|dn[e.charCodeAt(c+2)]<<6|dn[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=dn[e.charCodeAt(c)]<<2|dn[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=dn[e.charCodeAt(c)]<<10|dn[e.charCodeAt(c+1)]<<4|dn[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function rI(e){return er[e>>18&63]+er[e>>12&63]+er[e>>6&63]+er[e&63]}function iI(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(rI(r));return i.join("")}function sI(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(iI(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(er[t>>2]+er[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(er[t>>10]+er[t>>4&63]+er[t<<2&63]+"=")),i.join("")}var nw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */nw.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,f=n?i-1:0,y=n?-1:1,E=e[t+f];for(f+=y,s=E&(1<<-u)-1,E>>=-u,u+=a;u>0;s=s*256+e[t+f],f+=y,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+e[t+f],f+=y,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(E?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-l}return(E?-1:1)*o*Math.pow(2,s-r)};nw.write=function(e,t,n,r,i,s){var o,a,c,l=s*8-i-1,u=(1<<l)-1,f=u>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:s-1,h=r?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=y/c:t+=y*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(t*c-1)*Math.pow(2,i),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+E]=a&255,E+=h,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[n+E]=o&255,E+=h,o/=256,l-=8);e[n+E-h]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=qf,n=nw,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(A,d),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const d=new Uint8Array(A);return Object.setPrototypeOf(d,a.prototype),d}function a(A,d,p){if(typeof A=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(A)}return c(A,d,p)}a.poolSize=8192;function c(A,d,p){if(typeof A=="string")return y(A,d);if(ArrayBuffer.isView(A))return h(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(jn(A,ArrayBuffer)||A&&jn(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jn(A,SharedArrayBuffer)||A&&jn(A.buffer,SharedArrayBuffer)))return b(A,d,p);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _=A.valueOf&&A.valueOf();if(_!=null&&_!==A)return a.from(_,d,p);const B=S(A);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),d,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,d,p){return c(A,d,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A,d,p){return l(A),A<=0?o(A):d!==void 0?typeof p=="string"?o(A).fill(d,p):o(A).fill(d):o(A)}a.alloc=function(A,d,p){return u(A,d,p)};function f(A){return l(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return f(A)},a.allocUnsafeSlow=function(A){return f(A)};function y(A,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const p=g(A,d)|0;let _=o(p);const B=_.write(A,d);return B!==p&&(_=_.slice(0,B)),_}function E(A){const d=A.length<0?0:w(A.length)|0,p=o(d);for(let _=0;_<d;_+=1)p[_]=A[_]&255;return p}function h(A){if(jn(A,Uint8Array)){const d=new Uint8Array(A);return b(d.buffer,d.byteOffset,d.byteLength)}return E(A)}function b(A,d,p){if(d<0||A.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<d+(p||0))throw new RangeError('"length" is outside of buffer bounds');let _;return d===void 0&&p===void 0?_=new Uint8Array(A):p===void 0?_=new Uint8Array(A,d):_=new Uint8Array(A,d,p),Object.setPrototypeOf(_,a.prototype),_}function S(A){if(a.isBuffer(A)){const d=w(A.length)|0,p=o(d);return p.length===0||A.copy(p,0,0,d),p}if(A.length!==void 0)return typeof A.length!="number"||Sd(A.length)?o(0):E(A);if(A.type==="Buffer"&&Array.isArray(A.data))return E(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function m(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,p){if(jn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),jn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(d)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===p)return 0;let _=d.length,B=p.length;for(let U=0,z=Math.min(_,B);U<z;++U)if(d[U]!==p[U]){_=d[U],B=p[U];break}return _<B?-1:B<_?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,p){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let _;if(p===void 0)for(p=0,_=0;_<d.length;++_)p+=d[_].length;const B=a.allocUnsafe(p);let U=0;for(_=0;_<d.length;++_){let z=d[_];if(jn(z,Uint8Array))U+z.length>B.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(B,U)):Uint8Array.prototype.set.call(B,z,U);else if(a.isBuffer(z))z.copy(B,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=z.length}return B};function g(A,d){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||jn(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const p=A.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&p===0)return 0;let B=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return qo(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return Oc(A).length;default:if(B)return _?-1:qo(A).length;d=(""+d).toLowerCase(),B=!0}}a.byteLength=g;function v(A,d,p){let _=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,d>>>=0,p<=d))return"";for(A||(A="utf8");;)switch(A){case"hex":return L(this,d,p);case"utf8":case"utf-8":return M(this,d,p);case"ascii":return F(this,d,p);case"latin1":case"binary":return T(this,d,p);case"base64":return ee(this,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,d,p);default:if(_)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),_=!0}}a.prototype._isBuffer=!0;function C(A,d,p){const _=A[d];A[d]=A[p],A[p]=_}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<d;p+=2)C(this,p,p+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<d;p+=4)C(this,p,p+3),C(this,p+1,p+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<d;p+=8)C(this,p,p+7),C(this,p+1,p+6),C(this,p+2,p+5),C(this,p+3,p+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?M(this,0,d):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const p=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(d+=" ... "),"<Buffer "+d+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(d,p,_,B,U){if(jn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(p===void 0&&(p=0),_===void 0&&(_=d?d.length:0),B===void 0&&(B=0),U===void 0&&(U=this.length),p<0||_>d.length||B<0||U>this.length)throw new RangeError("out of range index");if(B>=U&&p>=_)return 0;if(B>=U)return-1;if(p>=_)return 1;if(p>>>=0,_>>>=0,B>>>=0,U>>>=0,this===d)return 0;let z=U-B,ce=_-p;const Oe=Math.min(z,ce),ke=this.slice(B,U),De=d.slice(p,_);for(let Se=0;Se<Oe;++Se)if(ke[Se]!==De[Se]){z=ke[Se],ce=De[Se];break}return z<ce?-1:ce<z?1:0};function k(A,d,p,_,B){if(A.length===0)return-1;if(typeof p=="string"?(_=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Sd(p)&&(p=B?0:A.length-1),p<0&&(p=A.length+p),p>=A.length){if(B)return-1;p=A.length-1}else if(p<0)if(B)p=0;else return-1;if(typeof d=="string"&&(d=a.from(d,_)),a.isBuffer(d))return d.length===0?-1:$(A,d,p,_,B);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(A,d,p):Uint8Array.prototype.lastIndexOf.call(A,d,p):$(A,[d],p,_,B);throw new TypeError("val must be string, number or Buffer")}function $(A,d,p,_,B){let U=1,z=A.length,ce=d.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(A.length<2||d.length<2)return-1;U=2,z/=2,ce/=2,p/=2}function Oe(De,Se){return U===1?De[Se]:De.readUInt16BE(Se*U)}let ke;if(B){let De=-1;for(ke=p;ke<z;ke++)if(Oe(A,ke)===Oe(d,De===-1?0:ke-De)){if(De===-1&&(De=ke),ke-De+1===ce)return De*U}else De!==-1&&(ke-=ke-De),De=-1}else for(p+ce>z&&(p=z-ce),ke=p;ke>=0;ke--){let De=!0;for(let Se=0;Se<ce;Se++)if(Oe(A,ke+Se)!==Oe(d,Se)){De=!1;break}if(De)return ke}return-1}a.prototype.includes=function(d,p,_){return this.indexOf(d,p,_)!==-1},a.prototype.indexOf=function(d,p,_){return k(this,d,p,_,!0)},a.prototype.lastIndexOf=function(d,p,_){return k(this,d,p,_,!1)};function I(A,d,p,_){p=Number(p)||0;const B=A.length-p;_?(_=Number(_),_>B&&(_=B)):_=B;const U=d.length;_>U/2&&(_=U/2);let z;for(z=0;z<_;++z){const ce=parseInt(d.substr(z*2,2),16);if(Sd(ce))return z;A[p+z]=ce}return z}function N(A,d,p,_){return Dc(qo(d,A.length-p),A,p,_)}function V(A,d,p,_){return Dc(xd(d),A,p,_)}function Y(A,d,p,_){return Dc(Oc(d),A,p,_)}function R(A,d,p,_){return Dc(Ed(d,A.length-p),A,p,_)}a.prototype.write=function(d,p,_,B){if(p===void 0)B="utf8",_=this.length,p=0;else if(_===void 0&&typeof p=="string")B=p,_=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(_)?(_=_>>>0,B===void 0&&(B="utf8")):(B=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-p;if((_===void 0||_>U)&&(_=U),d.length>0&&(_<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let z=!1;for(;;)switch(B){case"hex":return I(this,d,p,_);case"utf8":case"utf-8":return N(this,d,p,_);case"ascii":case"latin1":case"binary":return V(this,d,p,_);case"base64":return Y(this,d,p,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,d,p,_);default:if(z)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(A,d,p){return d===0&&p===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(d,p))}function M(A,d,p){p=Math.min(A.length,p);const _=[];let B=d;for(;B<p;){const U=A[B];let z=null,ce=U>239?4:U>223?3:U>191?2:1;if(B+ce<=p){let Oe,ke,De,Se;switch(ce){case 1:U<128&&(z=U);break;case 2:Oe=A[B+1],(Oe&192)===128&&(Se=(U&31)<<6|Oe&63,Se>127&&(z=Se));break;case 3:Oe=A[B+1],ke=A[B+2],(Oe&192)===128&&(ke&192)===128&&(Se=(U&15)<<12|(Oe&63)<<6|ke&63,Se>2047&&(Se<55296||Se>57343)&&(z=Se));break;case 4:Oe=A[B+1],ke=A[B+2],De=A[B+3],(Oe&192)===128&&(ke&192)===128&&(De&192)===128&&(Se=(U&15)<<18|(Oe&63)<<12|(ke&63)<<6|De&63,Se>65535&&Se<1114112&&(z=Se))}}z===null?(z=65533,ce=1):z>65535&&(z-=65536,_.push(z>>>10&1023|55296),z=56320|z&1023),_.push(z),B+=ce}return W(_)}const j=4096;function W(A){const d=A.length;if(d<=j)return String.fromCharCode.apply(String,A);let p="",_=0;for(;_<d;)p+=String.fromCharCode.apply(String,A.slice(_,_+=j));return p}function F(A,d,p){let _="";p=Math.min(A.length,p);for(let B=d;B<p;++B)_+=String.fromCharCode(A[B]&127);return _}function T(A,d,p){let _="";p=Math.min(A.length,p);for(let B=d;B<p;++B)_+=String.fromCharCode(A[B]);return _}function L(A,d,p){const _=A.length;(!d||d<0)&&(d=0),(!p||p<0||p>_)&&(p=_);let B="";for(let U=d;U<p;++U)B+=T6[A[U]];return B}function O(A,d,p){const _=A.slice(d,p);let B="";for(let U=0;U<_.length-1;U+=2)B+=String.fromCharCode(_[U]+_[U+1]*256);return B}a.prototype.slice=function(d,p){const _=this.length;d=~~d,p=p===void 0?_:~~p,d<0?(d+=_,d<0&&(d=0)):d>_&&(d=_),p<0?(p+=_,p<0&&(p=0)):p>_&&(p=_),p<d&&(p=d);const B=this.subarray(d,p);return Object.setPrototypeOf(B,a.prototype),B};function D(A,d,p){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+d>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,p,_){d=d>>>0,p=p>>>0,_||D(d,p,this.length);let B=this[d],U=1,z=0;for(;++z<p&&(U*=256);)B+=this[d+z]*U;return B},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,p,_){d=d>>>0,p=p>>>0,_||D(d,p,this.length);let B=this[d+--p],U=1;for(;p>0&&(U*=256);)B+=this[d+--p]*U;return B},a.prototype.readUint8=a.prototype.readUInt8=function(d,p){return d=d>>>0,p||D(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,p){return d=d>>>0,p||D(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,p){return d=d>>>0,p||D(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,p){return d=d>>>0,p||D(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,p){return d=d>>>0,p||D(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=Vr(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],_=this[d+7];(p===void 0||_===void 0)&&dt(d,this.length-8);const B=p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,U=this[++d]+this[++d]*2**8+this[++d]*2**16+_*2**24;return BigInt(B)+(BigInt(U)<<BigInt(32))}),a.prototype.readBigUInt64BE=Vr(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],_=this[d+7];(p===void 0||_===void 0)&&dt(d,this.length-8);const B=p*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],U=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+_;return(BigInt(B)<<BigInt(32))+BigInt(U)}),a.prototype.readIntLE=function(d,p,_){d=d>>>0,p=p>>>0,_||D(d,p,this.length);let B=this[d],U=1,z=0;for(;++z<p&&(U*=256);)B+=this[d+z]*U;return U*=128,B>=U&&(B-=Math.pow(2,8*p)),B},a.prototype.readIntBE=function(d,p,_){d=d>>>0,p=p>>>0,_||D(d,p,this.length);let B=p,U=1,z=this[d+--B];for(;B>0&&(U*=256);)z+=this[d+--B]*U;return U*=128,z>=U&&(z-=Math.pow(2,8*p)),z},a.prototype.readInt8=function(d,p){return d=d>>>0,p||D(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,p){d=d>>>0,p||D(d,2,this.length);const _=this[d]|this[d+1]<<8;return _&32768?_|4294901760:_},a.prototype.readInt16BE=function(d,p){d=d>>>0,p||D(d,2,this.length);const _=this[d+1]|this[d]<<8;return _&32768?_|4294901760:_},a.prototype.readInt32LE=function(d,p){return d=d>>>0,p||D(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,p){return d=d>>>0,p||D(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=Vr(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],_=this[d+7];(p===void 0||_===void 0)&&dt(d,this.length-8);const B=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(_<<24);return(BigInt(B)<<BigInt(32))+BigInt(p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=Vr(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],_=this[d+7];(p===void 0||_===void 0)&&dt(d,this.length-8);const B=(p<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(B)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+_)}),a.prototype.readFloatLE=function(d,p){return d=d>>>0,p||D(d,4,this.length),n.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,p){return d=d>>>0,p||D(d,4,this.length),n.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,p){return d=d>>>0,p||D(d,8,this.length),n.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,p){return d=d>>>0,p||D(d,8,this.length),n.read(this,d,!1,52,8)};function G(A,d,p,_,B,U){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>B||d<U)throw new RangeError('"value" argument is out of bounds');if(p+_>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,p,_,B){if(d=+d,p=p>>>0,_=_>>>0,!B){const ce=Math.pow(2,8*_)-1;G(this,d,p,_,ce,0)}let U=1,z=0;for(this[p]=d&255;++z<_&&(U*=256);)this[p+z]=d/U&255;return p+_},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,p,_,B){if(d=+d,p=p>>>0,_=_>>>0,!B){const ce=Math.pow(2,8*_)-1;G(this,d,p,_,ce,0)}let U=_-1,z=1;for(this[p+U]=d&255;--U>=0&&(z*=256);)this[p+U]=d/z&255;return p+_},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,1,255,0),this[p]=d&255,p+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,2,65535,0),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,2,65535,0),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,4,4294967295,0),this[p+3]=d>>>24,this[p+2]=d>>>16,this[p+1]=d>>>8,this[p]=d&255,p+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,4,4294967295,0),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4};function te(A,d,p,_,B){Ge(d,_,B,A,p,7);let U=Number(d&BigInt(4294967295));A[p++]=U,U=U>>8,A[p++]=U,U=U>>8,A[p++]=U,U=U>>8,A[p++]=U;let z=Number(d>>BigInt(32)&BigInt(4294967295));return A[p++]=z,z=z>>8,A[p++]=z,z=z>>8,A[p++]=z,z=z>>8,A[p++]=z,p}function ne(A,d,p,_,B){Ge(d,_,B,A,p,7);let U=Number(d&BigInt(4294967295));A[p+7]=U,U=U>>8,A[p+6]=U,U=U>>8,A[p+5]=U,U=U>>8,A[p+4]=U;let z=Number(d>>BigInt(32)&BigInt(4294967295));return A[p+3]=z,z=z>>8,A[p+2]=z,z=z>>8,A[p+1]=z,z=z>>8,A[p]=z,p+8}a.prototype.writeBigUInt64LE=Vr(function(d,p=0){return te(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Vr(function(d,p=0){return ne(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,p,_,B){if(d=+d,p=p>>>0,!B){const Oe=Math.pow(2,8*_-1);G(this,d,p,_,Oe-1,-Oe)}let U=0,z=1,ce=0;for(this[p]=d&255;++U<_&&(z*=256);)d<0&&ce===0&&this[p+U-1]!==0&&(ce=1),this[p+U]=(d/z>>0)-ce&255;return p+_},a.prototype.writeIntBE=function(d,p,_,B){if(d=+d,p=p>>>0,!B){const Oe=Math.pow(2,8*_-1);G(this,d,p,_,Oe-1,-Oe)}let U=_-1,z=1,ce=0;for(this[p+U]=d&255;--U>=0&&(z*=256);)d<0&&ce===0&&this[p+U+1]!==0&&(ce=1),this[p+U]=(d/z>>0)-ce&255;return p+_},a.prototype.writeInt8=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,1,127,-128),d<0&&(d=255+d+1),this[p]=d&255,p+1},a.prototype.writeInt16LE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,2,32767,-32768),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeInt16BE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,2,32767,-32768),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeInt32LE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,4,2147483647,-2147483648),this[p]=d&255,this[p+1]=d>>>8,this[p+2]=d>>>16,this[p+3]=d>>>24,p+4},a.prototype.writeInt32BE=function(d,p,_){return d=+d,p=p>>>0,_||G(this,d,p,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4},a.prototype.writeBigInt64LE=Vr(function(d,p=0){return te(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Vr(function(d,p=0){return ne(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(A,d,p,_,B,U){if(p+_>A.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function J(A,d,p,_,B){return d=+d,p=p>>>0,B||ie(A,d,p,4),n.write(A,d,p,_,23,4),p+4}a.prototype.writeFloatLE=function(d,p,_){return J(this,d,p,!0,_)},a.prototype.writeFloatBE=function(d,p,_){return J(this,d,p,!1,_)};function fe(A,d,p,_,B){return d=+d,p=p>>>0,B||ie(A,d,p,8),n.write(A,d,p,_,52,8),p+8}a.prototype.writeDoubleLE=function(d,p,_){return fe(this,d,p,!0,_)},a.prototype.writeDoubleBE=function(d,p,_){return fe(this,d,p,!1,_)},a.prototype.copy=function(d,p,_,B){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(_||(_=0),!B&&B!==0&&(B=this.length),p>=d.length&&(p=d.length),p||(p=0),B>0&&B<_&&(B=_),B===_||d.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),d.length-p<B-_&&(B=d.length-p+_);const U=B-_;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,_,B):Uint8Array.prototype.set.call(d,this.subarray(_,B),p),U},a.prototype.fill=function(d,p,_,B){if(typeof d=="string"){if(typeof p=="string"?(B=p,p=0,_=this.length):typeof _=="string"&&(B=_,_=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(d.length===1){const z=d.charCodeAt(0);(B==="utf8"&&z<128||B==="latin1")&&(d=z)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(p<0||this.length<p||this.length<_)throw new RangeError("Out of range index");if(_<=p)return this;p=p>>>0,_=_===void 0?this.length:_>>>0,d||(d=0);let U;if(typeof d=="number")for(U=p;U<_;++U)this[U]=d;else{const z=a.isBuffer(d)?d:a.from(d,B),ce=z.length;if(ce===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(U=0;U<_-p;++U)this[U+p]=z[U%ce]}return this};const de={};function _e(A,d,p){de[A]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(A,d){return`The "${A}" argument must be of type number. Received type ${typeof d}`},TypeError),_e("ERR_OUT_OF_RANGE",function(A,d,p){let _=`The value of "${A}" is out of range.`,B=p;return Number.isInteger(p)&&Math.abs(p)>2**32?B=We(String(p)):typeof p=="bigint"&&(B=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(B=We(B)),B+="n"),_+=` It must be ${d}. Received ${B}`,_},RangeError);function We(A){let d="",p=A.length;const _=A[0]==="-"?1:0;for(;p>=_+4;p-=3)d=`_${A.slice(p-3,p)}${d}`;return`${A.slice(0,p)}${d}`}function Me(A,d,p){Ve(d,"offset"),(A[d]===void 0||A[d+p]===void 0)&&dt(d,A.length-(p+1))}function Ge(A,d,p,_,B,U){if(A>p||A<d){const z=typeof d=="bigint"?"n":"";let ce;throw d===0||d===BigInt(0)?ce=`>= 0${z} and < 2${z} ** ${(U+1)*8}${z}`:ce=`>= -(2${z} ** ${(U+1)*8-1}${z}) and < 2 ** ${(U+1)*8-1}${z}`,new de.ERR_OUT_OF_RANGE("value",ce,A)}Me(_,B,U)}function Ve(A,d){if(typeof A!="number")throw new de.ERR_INVALID_ARG_TYPE(d,"number",A)}function dt(A,d,p){throw Math.floor(A)!==A?(Ve(A,p),new de.ERR_OUT_OF_RANGE("offset","an integer",A)):d<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,A)}const $n=/[^+/0-9A-Za-z-_]/g;function Lc(A){if(A=A.split("=")[0],A=A.trim().replace($n,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function qo(A,d){d=d||1/0;let p;const _=A.length;let B=null;const U=[];for(let z=0;z<_;++z){if(p=A.charCodeAt(z),p>55295&&p<57344){if(!B){if(p>56319){(d-=3)>-1&&U.push(239,191,189);continue}else if(z+1===_){(d-=3)>-1&&U.push(239,191,189);continue}B=p;continue}if(p<56320){(d-=3)>-1&&U.push(239,191,189),B=p;continue}p=(B-55296<<10|p-56320)+65536}else B&&(d-=3)>-1&&U.push(239,191,189);if(B=null,p<128){if((d-=1)<0)break;U.push(p)}else if(p<2048){if((d-=2)<0)break;U.push(p>>6|192,p&63|128)}else if(p<65536){if((d-=3)<0)break;U.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((d-=4)<0)break;U.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return U}function xd(A){const d=[];for(let p=0;p<A.length;++p)d.push(A.charCodeAt(p)&255);return d}function Ed(A,d){let p,_,B;const U=[];for(let z=0;z<A.length&&!((d-=2)<0);++z)p=A.charCodeAt(z),_=p>>8,B=p%256,U.push(B),U.push(_);return U}function Oc(A){return t.toByteArray(Lc(A))}function Dc(A,d,p,_){let B;for(B=0;B<_&&!(B+p>=d.length||B>=A.length);++B)d[B+p]=A[B];return B}function jn(A,d){return A instanceof d||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===d.name}function Sd(A){return A!==A}const T6=function(){const A="0123456789abcdef",d=new Array(256);for(let p=0;p<16;++p){const _=p*16;for(let B=0;B<16;++B)d[_+B]=A[p]+A[B]}return d}();function Vr(A){return typeof BigInt>"u"?B6:A}function B6(){throw new Error("BigInt not supported")}})(Hf);let rh=null;var y2=function(){return rh===null&&(rh={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),rh},$c={},rw={};const ih=ur,oI=new Set(["buffer","view","utf8"]);let aI=class{constructor(t){if(this.encode=t.encode||this.encode,this.decode=t.decode||this.decode,this.name=t.name||this.name,this.format=t.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!oI.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");t.createViewTranscoder&&(this.createViewTranscoder=t.createViewTranscoder),t.createBufferTranscoder&&(this.createBufferTranscoder=t.createBufferTranscoder),t.createUTF8Transcoder&&(this.createUTF8Transcoder=t.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ih(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ih(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ih(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};rw.Encoding=aI;const{Buffer:iw}=Hf||{},{Encoding:sw}=rw,cI=y2;let ow=class extends sw{constructor(t){super({...t,format:"buffer"})}createViewTranscoder(){return new aw({encode:this.encode,decode:t=>this.decode(iw.from(t.buffer,t.byteOffset,t.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},aw=class extends sw{constructor(t){super({...t,format:"view"})}createBufferTranscoder(){return new ow({encode:t=>{const n=this.encode(t);return iw.from(n.buffer,n.byteOffset,n.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},uI=class extends sw{constructor(t){super({...t,format:"utf8"})}createBufferTranscoder(){return new ow({encode:t=>iw.from(this.encode(t),"utf8"),decode:t=>this.decode(t.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:t,textDecoder:n}=cI();return new aw({encode:r=>t.encode(this.encode(r)),decode:r=>this.decode(n.decode(r)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};$c.BufferFormat=ow;$c.ViewFormat=aw;$c.UTF8Format=uI;const{Buffer:It}=Hf||{Buffer:{isBuffer:()=>!1}},{textEncoder:w2,textDecoder:Fm}=y2(),{BufferFormat:Ic,ViewFormat:cw,UTF8Format:g2}=$c,Bl=e=>e;As.utf8=new g2({encode:function(e){return It.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?Fm.decode(e):String(e)},decode:Bl,name:"utf8",createViewTranscoder(){return new cw({encode:function(e){return ArrayBuffer.isView(e)?e:w2.encode(e)},decode:function(e){return Fm.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new Ic({encode:function(e){return It.isBuffer(e)?e:ArrayBuffer.isView(e)?It.from(e.buffer,e.byteOffset,e.byteLength):It.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}});As.json=new g2({encode:JSON.stringify,decode:JSON.parse,name:"json"});As.buffer=new Ic({encode:function(e){return It.isBuffer(e)?e:ArrayBuffer.isView(e)?It.from(e.buffer,e.byteOffset,e.byteLength):It.from(String(e),"utf8")},decode:Bl,name:"buffer",createViewTranscoder(){return new cw({encode:function(e){return ArrayBuffer.isView(e)?e:It.from(String(e),"utf8")},decode:function(e){return It.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}});As.view=new cw({encode:function(e){return ArrayBuffer.isView(e)?e:w2.encode(e)},decode:Bl,name:"view",createBufferTranscoder(){return new Ic({encode:function(e){return It.isBuffer(e)?e:ArrayBuffer.isView(e)?It.from(e.buffer,e.byteOffset,e.byteLength):It.from(String(e),"utf8")},decode:Bl,name:`${this.name}+buffer`})}});As.hex=new Ic({encode:function(e){return It.isBuffer(e)?e:It.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"});As.base64=new Ic({encode:function(e){return It.isBuffer(e)?e:It.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"});const Mm=ur,Nl=As,{Encoding:lI}=rw,{BufferFormat:fI,ViewFormat:dI,UTF8Format:hI}=$c,ia=Symbol("formats"),ru=Symbol("encodings"),pI=new Set(["buffer","view","utf8"]);let yI=class{constructor(t){if(Array.isArray(t)){if(!t.every(n=>pI.has(n)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[ru]=new Map,this[ia]=new Set(t);for(const n in Nl)try{this.encoding(n)}catch(r){if(r.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw r}}encodings(){return Array.from(new Set(this[ru].values()))}encoding(t){let n=this[ru].get(t);if(n===void 0){if(typeof t=="string"&&t!==""){if(n=bI[t],!n)throw new Mm(`Encoding '${t}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof t!="object"||t===null)throw new TypeError("First argument 'encoding' must be a string or object");n=wI(t)}const{name:r,format:i}=n;if(!this[ia].has(i))if(this[ia].has("view"))n=n.createViewTranscoder();else if(this[ia].has("buffer"))n=n.createBufferTranscoder();else if(this[ia].has("utf8"))n=n.createUTF8Transcoder();else throw new Mm(`Encoding '${r}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const s of[t,r,n.name,n.commonName])this[ru].set(s,n)}return n}};h2.Transcoder=yI;function wI(e){if(e instanceof lI)return e;const t="type"in e&&typeof e.type=="string"?e.type:void 0,n=e.name||t||`anonymous-${vI++}`;switch(gI(e)){case"view":return new dI({...e,name:n});case"utf8":return new hI({...e,name:n});case"buffer":return new fI({...e,name:n});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function gI(e){return"format"in e&&e.format!==void 0?e.format:"buffer"in e&&typeof e.buffer=="boolean"?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}const mI={binary:Nl.buffer,"utf-8":Nl.utf8},bI={...Nl,...mI};let vI=0;var Mo={},xI=typeof queueMicrotask=="function"?queueMicrotask:e=>Promise.resolve().then(e),jm=xI;Mo.fromCallback=function(e,t){if(e===void 0){var n=new Promise(function(r,i){e=function(s,o){s?i(s):r(o)}});e[t!==void 0?t:"promise"]=n}else if(typeof e!="function")throw new TypeError("Callback must be a function");return e};Mo.fromPromise=function(e,t){if(t===void 0)return e;e.then(function(n){jm(()=>t(null,n))}).catch(function(n){jm(()=>t(n))})};var lr={},_c={};_c.getCallback=function(e,t){return typeof e=="function"?e:t};_c.getOptions=function(e,t){return typeof e=="object"&&e!==null?e:t!==void 0?t:{}};const{fromCallback:sh}=Mo,Qt=ur,{getOptions:oh,getCallback:Vm}=_c,Ri=Symbol("promise"),Is=Symbol("callback"),Kn=Symbol("working"),Xi=Symbol("handleOne"),xr=Symbol("handleMany"),ah=Symbol("autoClose"),Ni=Symbol("finishWork"),sr=Symbol("returnMany"),qr=Symbol("closing"),sa=Symbol("handleClose"),iu=Symbol("closed"),oa=Symbol("closeCallbacks"),Ii=Symbol("keyEncoding"),ps=Symbol("valueEncoding"),ch=Symbol("abortOnClose"),su=Symbol("legacy"),uh=Symbol("keys"),lh=Symbol("values"),Wr=Symbol("limit"),mn=Symbol("count"),ou=Object.freeze({}),EI=()=>{};let Km=!1;class uw{constructor(t,n,r){if(typeof t!="object"||t===null){const i=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof n!="object"||n===null)throw new TypeError("The second argument must be an options object");this[iu]=!1,this[oa]=[],this[Kn]=!1,this[qr]=!1,this[ah]=!1,this[Is]=null,this[Xi]=this[Xi].bind(this),this[xr]=this[xr].bind(this),this[sa]=this[sa].bind(this),this[Ii]=n[Ii],this[ps]=n[ps],this[su]=r,this[Wr]=Number.isInteger(n.limit)&&n.limit>=0?n.limit:1/0,this[mn]=0,this[ch]=!!n.abortOnClose,this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get count(){return this[mn]}get limit(){return this[Wr]}next(t){let n;if(t===void 0)n=new Promise((r,i)=>{t=(s,o,a)=>{s?i(s):this[su]?o===void 0&&a===void 0?r():r([o,a]):r(o)}});else if(typeof t!="function")throw new TypeError("Callback must be a function");return this[qr]?this.nextTick(t,new Qt("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Kn]?this.nextTick(t,new Qt("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Kn]=!0,this[Is]=t,this[mn]>=this[Wr]?this.nextTick(this[Xi],null):this._next(this[Xi])),n}_next(t){this.nextTick(t)}nextv(t,n,r){return r=Vm(n,r),r=sh(r,Ri),n=oh(n,ou),Number.isInteger(t)?(this[qr]?this.nextTick(r,new Qt("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Kn]?this.nextTick(r,new Qt("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(t<1&&(t=1),this[Wr]<1/0&&(t=Math.min(t,this[Wr]-this[mn])),this[Kn]=!0,this[Is]=r,t<=0?this.nextTick(this[xr],null,[]):this._nextv(t,n,this[xr])),r[Ri]):(this.nextTick(r,new TypeError("The first argument 'size' must be an integer")),r[Ri])}_nextv(t,n,r){const i=[],s=(o,a,c)=>{if(o)return r(o);if(this[su]?a===void 0&&c===void 0:a===void 0)return r(null,i);i.push(this[su]?[a,c]:a),i.length===t?r(null,i):this._next(s)};this._next(s)}all(t,n){return n=Vm(t,n),n=sh(n,Ri),t=oh(t,ou),this[qr]?this.nextTick(n,new Qt("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Kn]?this.nextTick(n,new Qt("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Kn]=!0,this[Is]=n,this[ah]=!0,this[mn]>=this[Wr]?this.nextTick(this[xr],null,[]):this._all(t,this[xr])),n[Ri]}_all(t,n){let r=this[mn];const i=[],s=()=>{const a=this[Wr]<1/0?Math.min(1e3,this[Wr]-r):1e3;a<=0?this.nextTick(n,null,i):this._nextv(a,ou,o)},o=(a,c)=>{a?n(a):c.length===0?n(null,i):(i.push.apply(i,c),r+=c.length,s())};s()}[Ni](){const t=this[Is];return this[ch]&&t===null?EI:(this[Kn]=!1,this[Is]=null,this[qr]&&this._close(this[sa]),t)}[sr](t,n,r){this[ah]?this.close(t.bind(null,n,r)):t(n,r)}seek(t,n){if(n=oh(n,ou),!this[qr]){if(this[Kn])throw new Qt("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const r=this.db.keyEncoding(n.keyEncoding||this[Ii]),i=r.format;n.keyEncoding!==i&&(n={...n,keyEncoding:i});const s=this.db.prefixKey(r.encode(t),i);this._seek(s,n)}}}_seek(t,n){throw new Qt("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(t){return t=sh(t,Ri),this[iu]?this.nextTick(t):this[qr]?this[oa].push(t):(this[qr]=!0,this[oa].push(t),this[Kn]?this[ch]&&this[Ni]()(new Qt("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[sa])),t[Ri]}_close(t){this.nextTick(t)}[sa](){this[iu]=!0,this.db.detachResource(this);const t=this[oa];this[oa]=[];for(const n of t)n()}async*[Symbol.asyncIterator](){try{let t;for(;(t=await this.next())!==void 0;)yield t}finally{this[iu]||await this.close()}}}let Wf=class extends uw{constructor(t,n){super(t,n,!0),this[uh]=n.keys!==!1,this[lh]=n.values!==!1}[Xi](t,n,r){const i=this[Ni]();if(t)return i(t);try{n=this[uh]&&n!==void 0?this[Ii].decode(n):void 0,r=this[lh]&&r!==void 0?this[ps].decode(r):void 0}catch(s){return i(new vo("entry",s))}n===void 0&&r===void 0||this[mn]++,i(null,n,r)}[xr](t,n){const r=this[Ni]();if(t)return this[sr](r,t);try{for(const i of n){const s=i[0],o=i[1];i[0]=this[uh]&&s!==void 0?this[Ii].decode(s):void 0,i[1]=this[lh]&&o!==void 0?this[ps].decode(o):void 0}}catch(i){return this[sr](r,new vo("entries",i))}this[mn]+=n.length,this[sr](r,null,n)}end(t){return!Km&&typeof console<"u"&&(Km=!0,console.warn(new Qt("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(t)}},SI=class extends uw{constructor(t,n){super(t,n,!1)}[Xi](t,n){const r=this[Ni]();if(t)return r(t);try{n=n!==void 0?this[Ii].decode(n):void 0}catch(i){return r(new vo("key",i))}n!==void 0&&this[mn]++,r(null,n)}[xr](t,n){const r=this[Ni]();if(t)return this[sr](r,t);try{for(let i=0;i<n.length;i++){const s=n[i];n[i]=s!==void 0?this[Ii].decode(s):void 0}}catch(i){return this[sr](r,new vo("keys",i))}this[mn]+=n.length,this[sr](r,null,n)}},AI=class extends uw{constructor(t,n){super(t,n,!1)}[Xi](t,n){const r=this[Ni]();if(t)return r(t);try{n=n!==void 0?this[ps].decode(n):void 0}catch(i){return r(new vo("value",i))}n!==void 0&&this[mn]++,r(null,n)}[xr](t,n){const r=this[Ni]();if(t)return this[sr](r,t);try{for(let i=0;i<n.length;i++){const s=n[i];n[i]=s!==void 0?this[ps].decode(s):void 0}}catch(i){return this[sr](r,new vo("values",i))}this[mn]+=n.length,this[sr](r,null,n)}};class vo extends Qt{constructor(t,n){super(`Iterator could not decode ${t}`,{code:"LEVEL_DECODE_ERROR",cause:n})}}for(const e of["_ended property","_nexting property","_end method"])Object.defineProperty(Wf.prototype,e.split(" ")[0],{get(){throw new Qt(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Qt(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});Wf.keyEncoding=Ii;Wf.valueEncoding=ps;lr.AbstractIterator=Wf;lr.AbstractKeyIterator=SI;lr.AbstractValueIterator=AI;var lw={};const{AbstractKeyIterator:CI,AbstractValueIterator:$I}=lr,Gi=Symbol("iterator"),aa=Symbol("callback"),xo=Symbol("handleOne"),ss=Symbol("handleMany");let Qp=class extends CI{constructor(t,n){super(t,n),this[Gi]=t.iterator({...n,keys:!0,values:!1}),this[xo]=this[xo].bind(this),this[ss]=this[ss].bind(this)}},m2=class extends $I{constructor(t,n){super(t,n),this[Gi]=t.iterator({...n,keys:!1,values:!0}),this[xo]=this[xo].bind(this),this[ss]=this[ss].bind(this)}};for(const e of[Qp,m2]){const t=e===Qp,n=t?r=>r[0]:r=>r[1];e.prototype._next=function(r){this[aa]=r,this[Gi].next(this[xo])},e.prototype[xo]=function(r,i,s){const o=this[aa];r?o(r):o(null,t?i:s)},e.prototype._nextv=function(r,i,s){this[aa]=s,this[Gi].nextv(r,i,this[ss])},e.prototype._all=function(r,i){this[aa]=i,this[Gi].all(r,this[ss])},e.prototype[ss]=function(r,i){const s=this[aa];r?s(r):s(null,i.map(n))},e.prototype._seek=function(r,i){this[Gi].seek(r,i)},e.prototype._close=function(r){this[Gi].close(r)}}lw.DefaultKeyIterator=Qp;lw.DefaultValueIterator=m2;var Gf={};const{AbstractIterator:II,AbstractKeyIterator:_I,AbstractValueIterator:kI}=lr,fh=ur,Rt=Symbol("nut"),Qf=Symbol("undefer"),Yf=Symbol("factory");let b2=class extends II{constructor(t,n){super(t,n),this[Rt]=null,this[Yf]=()=>t.iterator(n),this.db.defer(()=>this[Qf]())}},v2=class extends _I{constructor(t,n){super(t,n),this[Rt]=null,this[Yf]=()=>t.keys(n),this.db.defer(()=>this[Qf]())}},x2=class extends kI{constructor(t,n){super(t,n),this[Rt]=null,this[Yf]=()=>t.values(n),this.db.defer(()=>this[Qf]())}};for(const e of[b2,v2,x2])e.prototype[Qf]=function(){this.db.status==="open"&&(this[Rt]=this[Yf]())},e.prototype._next=function(t){this[Rt]!==null?this[Rt].next(t):this.db.status==="opening"?this.db.defer(()=>this._next(t)):this.nextTick(t,new fh("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(t,n,r){this[Rt]!==null?this[Rt].nextv(t,n,r):this.db.status==="opening"?this.db.defer(()=>this._nextv(t,n,r)):this.nextTick(r,new fh("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(t,n){this[Rt]!==null?this[Rt].all(n):this.db.status==="opening"?this.db.defer(()=>this._all(t,n)):this.nextTick(n,new fh("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(t,n){this[Rt]!==null?this[Rt]._seek(t,n):this.db.status==="opening"&&this.db.defer(()=>this._seek(t,n))},e.prototype._close=function(t){this[Rt]!==null?this[Rt].close(t):this.db.status==="opening"?this.db.defer(()=>this._close(t)):this.nextTick(t)};Gf.DeferredIterator=b2;Gf.DeferredKeyIterator=v2;Gf.DeferredValueIterator=x2;var E2={},fw={};const{fromCallback:Hm}=Mo,au=ur,{getCallback:TI,getOptions:BI}=_c,cu=Symbol("promise"),ln=Symbol("status"),_s=Symbol("operations"),ca=Symbol("finishClose"),ks=Symbol("closeCallbacks");let NI=class{constructor(t){if(typeof t!="object"||t===null){const n=t===null?"null":typeof t;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}this[_s]=[],this[ks]=[],this[ln]="open",this[ca]=this[ca].bind(this),this.db=t,this.db.attachResource(this),this.nextTick=t.nextTick}get length(){return this[_s].length}put(t,n,r){if(this[ln]!=="open")throw new au("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const i=this.db._checkKey(t)||this.db._checkValue(n);if(i)throw i;const s=r&&r.sublevel!=null?r.sublevel:this.db,o=r,a=s.keyEncoding(r&&r.keyEncoding),c=s.valueEncoding(r&&r.valueEncoding),l=a.format;r={...r,keyEncoding:l,valueEncoding:c.format},s!==this.db&&(r.sublevel=null);const u=s.prefixKey(a.encode(t),l),f=c.encode(n);return this._put(u,f,r),this[_s].push({...o,type:"put",key:t,value:n}),this}_put(t,n,r){}del(t,n){if(this[ln]!=="open")throw new au("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const r=this.db._checkKey(t);if(r)throw r;const i=n&&n.sublevel!=null?n.sublevel:this.db,s=n,o=i.keyEncoding(n&&n.keyEncoding),a=o.format;return n={...n,keyEncoding:a},i!==this.db&&(n.sublevel=null),this._del(i.prefixKey(o.encode(t),a),n),this[_s].push({...s,type:"del",key:t}),this}_del(t,n){}clear(){if(this[ln]!=="open")throw new au("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[_s]=[],this}_clear(){}write(t,n){return n=TI(t,n),n=Hm(n,cu),t=BI(t),this[ln]!=="open"?this.nextTick(n,new au("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(n):(this[ln]="writing",this._write(t,r=>{this[ln]="closing",this[ks].push(()=>n(r)),r||this.db.emit("batch",this[_s]),this._close(this[ca])})),n[cu]}_write(t,n){}close(t){return t=Hm(t,cu),this[ln]==="closing"?this[ks].push(t):this[ln]==="closed"?this.nextTick(t):(this[ks].push(t),this[ln]!=="writing"&&(this[ln]="closing",this._close(this[ca]))),t[cu]}_close(t){this.nextTick(t)}[ca](){this[ln]="closed",this.db.detachResource(this);const t=this[ks];this[ks]=[];for(const n of t)n()}};fw.AbstractChainedBatch=NI;const{AbstractChainedBatch:PI}=fw,UI=ur,Ts=Symbol("encoded");let LI=class extends PI{constructor(t){super(t),this[Ts]=[]}_put(t,n,r){this[Ts].push({...r,type:"put",key:t,value:n})}_del(t,n){this[Ts].push({...n,type:"del",key:t})}_clear(){this[Ts]=[]}_write(t,n){this.db.status==="opening"?this.db.defer(()=>this._write(t,n)):this.db.status==="open"?this[Ts].length===0?this.nextTick(n):this.db._batch(this[Ts],t,n):this.nextTick(n,new UI("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};E2.DefaultChainedBatch=LI;const qm=ur,OI=Object.prototype.hasOwnProperty,DI=new Set(["lt","lte","gt","gte"]);var zI=function(e,t){const n={};for(const r in e)if(OI.call(e,r)&&!(r==="keyEncoding"||r==="valueEncoding")){if(r==="start"||r==="end")throw new qm(`The legacy range option '${r}' has been removed`,{code:"LEVEL_LEGACY"});if(r==="encoding")throw new qm("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});DI.has(r)?n[r]=t.encode(e[r]):n[r]=e[r]}return n.reverse=!!n.reverse,n.limit=Number.isInteger(n.limit)&&n.limit>=0?n.limit:-1,n};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let Wm;var S2=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:sv):e=>(Wm||(Wm=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),dh,Gm;function RI(){if(Gm)return dh;Gm=1;const e=S2;return dh=function(t,...n){n.length===0?e(t):e(()=>t(...n))},dh}var ua={},Qm;function FI(){if(Qm)return ua;Qm=1;const{AbstractIterator:e,AbstractKeyIterator:t,AbstractValueIterator:n}=lr,r=Symbol("unfix"),i=Symbol("iterator"),s=Symbol("handleOne"),o=Symbol("handleMany"),a=Symbol("callback");class c extends e{constructor(y,E,h,b){super(y,E),this[i]=h,this[r]=b,this[s]=this[s].bind(this),this[o]=this[o].bind(this),this[a]=null}[s](y,E,h){const b=this[a];if(y)return b(y);E!==void 0&&(E=this[r](E)),b(y,E,h)}[o](y,E){const h=this[a];if(y)return h(y);for(const b of E){const S=b[0];S!==void 0&&(b[0]=this[r](S))}h(y,E)}}class l extends t{constructor(y,E,h,b){super(y,E),this[i]=h,this[r]=b,this[s]=this[s].bind(this),this[o]=this[o].bind(this),this[a]=null}[s](y,E){const h=this[a];if(y)return h(y);E!==void 0&&(E=this[r](E)),h(y,E)}[o](y,E){const h=this[a];if(y)return h(y);for(let b=0;b<E.length;b++){const S=E[b];S!==void 0&&(E[b]=this[r](S))}h(y,E)}}class u extends n{constructor(y,E,h){super(y,E),this[i]=h}}for(const f of[c,l])f.prototype._next=function(y){this[a]=y,this[i].next(this[s])},f.prototype._nextv=function(y,E,h){this[a]=h,this[i].nextv(y,E,this[o])},f.prototype._all=function(y,E){this[a]=E,this[i].all(y,this[o])};for(const f of[u])f.prototype._next=function(y){this[i].next(y)},f.prototype._nextv=function(y,E,h){this[i].nextv(y,E,h)},f.prototype._all=function(y,E){this[i].all(y,E)};for(const f of[c,l,u])f.prototype._seek=function(y,E){this[i].seek(y,E)},f.prototype._close=function(y){this[i].close(y)};return ua.AbstractSublevelIterator=c,ua.AbstractSublevelKeyIterator=l,ua.AbstractSublevelValueIterator=u,ua}var hh,Ym;function MI(){if(Ym)return hh;Ym=1;const e=ur,{Buffer:t}=Hf||{},{AbstractSublevelIterator:n,AbstractSublevelKeyIterator:r,AbstractSublevelValueIterator:i}=FI(),s=Symbol("prefix"),o=Symbol("upperBound"),a=Symbol("prefixRange"),c=Symbol("parent"),l=Symbol("unfix"),u=new TextEncoder,f={separator:"!"};hh=function({AbstractLevel:w}){class m extends w{static defaults(v){if(typeof v=="string")throw new e("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(v&&v.open)throw new e("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return v==null?f:v.separator?v:{...v,separator:"!"}}constructor(v,C,k){const{separator:$,manifest:I,...N}=m.defaults(k);C=S(C,$);const V=$.charCodeAt(0)+1,Y=v[c]||v;if(!u.encode(C).every(M=>M>V&&M<127))throw new e(`Prefix must use bytes > ${V} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(y(Y,I),N);const R=(v.prefix||"")+$+C+$,ee=R.slice(0,-1)+String.fromCharCode(V);this[c]=Y,this[s]=new h(R),this[o]=new h(ee),this[l]=new b,this.nextTick=Y.nextTick}prefixKey(v,C){if(C==="utf8")return this[s].utf8+v;if(v.byteLength===0)return this[s][C];if(C==="view"){const k=this[s].view,$=new Uint8Array(k.byteLength+v.byteLength);return $.set(k,0),$.set(v,k.byteLength),$}else{const k=this[s].buffer;return t.concat([k,v],k.byteLength+v.byteLength)}}[a](v,C){v.gte!==void 0?v.gte=this.prefixKey(v.gte,C):v.gt!==void 0?v.gt=this.prefixKey(v.gt,C):v.gte=this[s][C],v.lte!==void 0?v.lte=this.prefixKey(v.lte,C):v.lt!==void 0?v.lt=this.prefixKey(v.lt,C):v.lte=this[o][C]}get prefix(){return this[s].utf8}get db(){return this[c]}_open(v,C){this[c].open({passive:!0},C)}_put(v,C,k,$){this[c].put(v,C,k,$)}_get(v,C,k){this[c].get(v,C,k)}_getMany(v,C,k){this[c].getMany(v,C,k)}_del(v,C,k){this[c].del(v,C,k)}_batch(v,C,k){this[c].batch(v,C,k)}_clear(v,C){this[a](v,v.keyEncoding),this[c].clear(v,C)}_iterator(v){this[a](v,v.keyEncoding);const C=this[c].iterator(v),k=this[l].get(this[s].utf8.length,v.keyEncoding);return new n(this,v,C,k)}_keys(v){this[a](v,v.keyEncoding);const C=this[c].keys(v),k=this[l].get(this[s].utf8.length,v.keyEncoding);return new r(this,v,C,k)}_values(v){this[a](v,v.keyEncoding);const C=this[c].values(v);return new i(this,v,C)}}return{AbstractSublevel:m}};const y=function(w,m){return{...w.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...m,encodings:{utf8:E(w,"utf8"),buffer:E(w,"buffer"),view:E(w,"view")}}},E=function(w,m){return w.supports.encodings[m]?w.keyEncoding(m).name===m:!1};class h{constructor(m){this.utf8=m,this.view=u.encode(m),this.buffer=t?t.from(this.view.buffer,0,this.view.byteLength):{}}}class b{constructor(){this.cache=new Map}get(m,g){let v=this.cache.get(g);return v===void 0&&(g==="view"?v=(function(C,k){return k.subarray(C)}).bind(null,m):v=(function(C,k){return k.slice(C)}).bind(null,m),this.cache.set(g,v)),v}}const S=function(w,m){let g=0,v=w.length;for(;g<v&&w[g]===m;)g++;for(;v>g&&w[v-1]===m;)v--;return w.slice(g,v)};return hh}const{supports:jI}=d2,{Transcoder:VI}=h2,{EventEmitter:KI}=Pf,{fromCallback:Gr}=Mo,Bn=ur,{AbstractIterator:Fi}=lr,{DefaultKeyIterator:HI,DefaultValueIterator:qI}=lw,{DeferredIterator:WI,DeferredKeyIterator:GI,DeferredValueIterator:QI}=Gf,{DefaultChainedBatch:Jm}=E2,{getCallback:Mi,getOptions:Qr}=_c,uu=zI,oe=Symbol("promise"),hr=Symbol("landed"),ji=Symbol("resources"),ph=Symbol("closeResources"),la=Symbol("operations"),fa=Symbol("undefer"),lu=Symbol("deferOpen"),Zm=Symbol("options"),ue=Symbol("status"),Vi=Symbol("defaultOptions"),Bs=Symbol("transcoder"),fu=Symbol("keyEncoding"),yh=Symbol("valueEncoding"),YI=()=>{};let dw=class extends KI{constructor(t,n){if(super(),typeof t!="object"||t===null)throw new TypeError("The first argument 'manifest' must be an object");n=Qr(n);const{keyEncoding:r,valueEncoding:i,passive:s,...o}=n;this[ji]=new Set,this[la]=[],this[lu]=!0,this[Zm]=o,this[ue]="opening",this.supports=jI(t,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:t.snapshots!==!1,permanence:t.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:t.encodings||{},events:Object.assign({},t.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Bs]=new VI(JI(this)),this[fu]=this[Bs].encoding(r||"utf8"),this[yh]=this[Bs].encoding(i||"utf8");for(const a of this[Bs].encodings())this.supports.encodings[a.commonName]||(this.supports.encodings[a.commonName]=!0);this[Vi]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[fu].commonName,valueEncoding:this[yh].commonName}),key:Object.freeze({keyEncoding:this[fu].commonName})},this.nextTick(()=>{this[lu]&&this.open({passive:!1},YI)})}get status(){return this[ue]}keyEncoding(t){return this[Bs].encoding(t??this[fu])}valueEncoding(t){return this[Bs].encoding(t??this[yh])}open(t,n){n=Mi(t,n),n=Gr(n,oe),t={...this[Zm],...Qr(t)},t.createIfMissing=t.createIfMissing!==!1,t.errorIfExists=!!t.errorIfExists;const r=i=>{this[ue]==="closing"||this[ue]==="opening"?this.once(hr,i?()=>r(i):r):this[ue]!=="open"?n(new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):n()};return t.passive?this[ue]==="opening"?this.once(hr,r):this.nextTick(r):this[ue]==="closed"||this[lu]?(this[lu]=!1,this[ue]="opening",this.emit("opening"),this._open(t,i=>{if(i){this[ue]="closed",this[ph](()=>{this.emit(hr),r(i)}),this[fa]();return}this[ue]="open",this[fa](),this.emit(hr),this[ue]==="open"&&this.emit("open"),this[ue]==="open"&&this.emit("ready"),r()})):this[ue]==="open"?this.nextTick(r):this.once(hr,()=>this.open(t,n)),n[oe]}_open(t,n){this.nextTick(n)}close(t){t=Gr(t,oe);const n=r=>{this[ue]==="opening"||this[ue]==="closing"?this.once(hr,r?n(r):n):this[ue]!=="closed"?t(new Bn("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:r})):t()};if(this[ue]==="open"){this[ue]="closing",this.emit("closing");const r=i=>{this[ue]="open",this[fa](),this.emit(hr),n(i)};this[ph](()=>{this._close(i=>{if(i)return r(i);this[ue]="closed",this[fa](),this.emit(hr),this[ue]==="closed"&&this.emit("closed"),n()})})}else this[ue]==="closed"?this.nextTick(n):this.once(hr,()=>this.close(t));return t[oe]}[ph](t){if(this[ji].size===0)return this.nextTick(t);let n=this[ji].size,r=!0;const i=()=>{--n===0&&(r?this.nextTick(t):t())};for(const s of this[ji])s.close(i);r=!1,this[ji].clear()}_close(t){this.nextTick(t)}get(t,n,r){if(r=Mi(n,r),r=Gr(r,oe),n=Qr(n,this[Vi].entry),this[ue]==="opening")return this.defer(()=>this.get(t,n,r)),r[oe];if(Ns(this,r))return r[oe];const i=this._checkKey(t);if(i)return this.nextTick(r,i),r[oe];const s=this.keyEncoding(n.keyEncoding),o=this.valueEncoding(n.valueEncoding),a=s.format,c=o.format;return(n.keyEncoding!==a||n.valueEncoding!==c)&&(n=Object.assign({},n,{keyEncoding:a,valueEncoding:c})),this._get(this.prefixKey(s.encode(t),a),n,(l,u)=>{if(l)return(l.code==="LEVEL_NOT_FOUND"||l.notFound||/NotFound/i.test(l))&&(l.code||(l.code="LEVEL_NOT_FOUND"),l.notFound||(l.notFound=!0),l.status||(l.status=404)),r(l);try{u=o.decode(u)}catch(f){return r(new Bn("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:f}))}r(null,u)}),r[oe]}_get(t,n,r){this.nextTick(r,new Error("NotFound"))}getMany(t,n,r){if(r=Mi(n,r),r=Gr(r,oe),n=Qr(n,this[Vi].entry),this[ue]==="opening")return this.defer(()=>this.getMany(t,n,r)),r[oe];if(Ns(this,r))return r[oe];if(!Array.isArray(t))return this.nextTick(r,new TypeError("The first argument 'keys' must be an array")),r[oe];if(t.length===0)return this.nextTick(r,null,[]),r[oe];const i=this.keyEncoding(n.keyEncoding),s=this.valueEncoding(n.valueEncoding),o=i.format,a=s.format;(n.keyEncoding!==o||n.valueEncoding!==a)&&(n=Object.assign({},n,{keyEncoding:o,valueEncoding:a}));const c=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l],f=this._checkKey(u);if(f)return this.nextTick(r,f),r[oe];c[l]=this.prefixKey(i.encode(u),o)}return this._getMany(c,n,(l,u)=>{if(l)return r(l);try{for(let f=0;f<u.length;f++)u[f]!==void 0&&(u[f]=s.decode(u[f]))}catch(f){return r(new Bn(`Could not decode one or more of ${u.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:f}))}r(null,u)}),r[oe]}_getMany(t,n,r){this.nextTick(r,null,new Array(t.length).fill(void 0))}put(t,n,r,i){if(i=Mi(r,i),i=Gr(i,oe),r=Qr(r,this[Vi].entry),this[ue]==="opening")return this.defer(()=>this.put(t,n,r,i)),i[oe];if(Ns(this,i))return i[oe];const s=this._checkKey(t)||this._checkValue(n);if(s)return this.nextTick(i,s),i[oe];const o=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),c=o.format,l=a.format;(r.keyEncoding!==c||r.valueEncoding!==l)&&(r=Object.assign({},r,{keyEncoding:c,valueEncoding:l}));const u=this.prefixKey(o.encode(t),c),f=a.encode(n);return this._put(u,f,r,y=>{if(y)return i(y);this.emit("put",t,n),i()}),i[oe]}_put(t,n,r,i){this.nextTick(i)}del(t,n,r){if(r=Mi(n,r),r=Gr(r,oe),n=Qr(n,this[Vi].key),this[ue]==="opening")return this.defer(()=>this.del(t,n,r)),r[oe];if(Ns(this,r))return r[oe];const i=this._checkKey(t);if(i)return this.nextTick(r,i),r[oe];const s=this.keyEncoding(n.keyEncoding),o=s.format;return n.keyEncoding!==o&&(n=Object.assign({},n,{keyEncoding:o})),this._del(this.prefixKey(s.encode(t),o),n,a=>{if(a)return r(a);this.emit("del",t),r()}),r[oe]}_del(t,n,r){this.nextTick(r)}batch(t,n,r){if(!arguments.length){if(this[ue]==="opening")return new Jm(this);if(this[ue]!=="open")throw new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof t=="function"?r=t:r=Mi(n,r),r=Gr(r,oe),n=Qr(n,this[Vi].empty),this[ue]==="opening")return this.defer(()=>this.batch(t,n,r)),r[oe];if(Ns(this,r))return r[oe];if(!Array.isArray(t))return this.nextTick(r,new TypeError("The first argument 'operations' must be an array")),r[oe];if(t.length===0)return this.nextTick(r),r[oe];const i=new Array(t.length),{keyEncoding:s,valueEncoding:o,...a}=n;for(let c=0;c<t.length;c++){if(typeof t[c]!="object"||t[c]===null)return this.nextTick(r,new TypeError("A batch operation must be an object")),r[oe];const l=Object.assign({},t[c]);if(l.type!=="put"&&l.type!=="del")return this.nextTick(r,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),r[oe];const u=this._checkKey(l.key);if(u)return this.nextTick(r,u),r[oe];const f=l.sublevel!=null?l.sublevel:this,y=f.keyEncoding(l.keyEncoding||s),E=y.format;if(l.key=f.prefixKey(y.encode(l.key),E),l.keyEncoding=E,l.type==="put"){const h=this._checkValue(l.value);if(h)return this.nextTick(r,h),r[oe];const b=f.valueEncoding(l.valueEncoding||o);l.value=b.encode(l.value),l.valueEncoding=b.format}f!==this&&(l.sublevel=null),i[c]=l}return this._batch(i,a,c=>{if(c)return r(c);this.emit("batch",t),r()}),r[oe]}_batch(t,n,r){this.nextTick(r)}sublevel(t,n){return this._sublevel(t,Yp.defaults(n))}_sublevel(t,n){return new Yp(this,t,n)}prefixKey(t,n){return t}clear(t,n){if(n=Mi(t,n),n=Gr(n,oe),t=Qr(t,this[Vi].empty),this[ue]==="opening")return this.defer(()=>this.clear(t,n)),n[oe];if(Ns(this,n))return n[oe];const r=t,i=this.keyEncoding(t.keyEncoding);return t=uu(t,i),t.keyEncoding=i.format,t.limit===0?this.nextTick(n):this._clear(t,s=>{if(s)return n(s);this.emit("clear",r),n()}),n[oe]}_clear(t,n){this.nextTick(n)}iterator(t){const n=this.keyEncoding(t&&t.keyEncoding),r=this.valueEncoding(t&&t.valueEncoding);if(t=uu(t,n),t.keys=t.keys!==!1,t.values=t.values!==!1,t[Fi.keyEncoding]=n,t[Fi.valueEncoding]=r,t.keyEncoding=n.format,t.valueEncoding=r.format,this[ue]==="opening")return new WI(this,t);if(this[ue]!=="open")throw new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(t)}_iterator(t){return new Fi(this,t)}keys(t){const n=this.keyEncoding(t&&t.keyEncoding),r=this.valueEncoding(t&&t.valueEncoding);if(t=uu(t,n),t[Fi.keyEncoding]=n,t[Fi.valueEncoding]=r,t.keyEncoding=n.format,t.valueEncoding=r.format,this[ue]==="opening")return new GI(this,t);if(this[ue]!=="open")throw new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(t)}_keys(t){return new HI(this,t)}values(t){const n=this.keyEncoding(t&&t.keyEncoding),r=this.valueEncoding(t&&t.valueEncoding);if(t=uu(t,n),t[Fi.keyEncoding]=n,t[Fi.valueEncoding]=r,t.keyEncoding=n.format,t.valueEncoding=r.format,this[ue]==="opening")return new QI(this,t);if(this[ue]!=="open")throw new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(t)}_values(t){return new qI(this,t)}defer(t){if(typeof t!="function")throw new TypeError("The first argument must be a function");this[la].push(t)}[fa](){if(this[la].length===0)return;const t=this[la];this[la]=[];for(const n of t)n()}attachResource(t){if(typeof t!="object"||t===null||typeof t.close!="function")throw new TypeError("The first argument must be a resource object");this[ji].add(t)}detachResource(t){this[ji].delete(t)}_chainedBatch(){return new Jm(this)}_checkKey(t){if(t==null)return new Bn("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(t){if(t==null)return new Bn("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};dw.prototype.nextTick=RI();const{AbstractSublevel:Yp}=MI()({AbstractLevel:dw});Kf.AbstractLevel=dw;Kf.AbstractSublevel=Yp;const Ns=function(e,t){return e[ue]!=="open"?(e.nextTick(t,new Bn("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},JI=function(e){return Object.keys(e.supports.encodings).filter(t=>!!e.supports.encodings[t])};Di.AbstractLevel=Kf.AbstractLevel;Di.AbstractSublevel=Kf.AbstractSublevel;Di.AbstractIterator=lr.AbstractIterator;Di.AbstractKeyIterator=lr.AbstractKeyIterator;Di.AbstractValueIterator=lr.AbstractValueIterator;Di.AbstractChainedBatch=fw.AbstractChainedBatch;/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ZI=e_;const XI=S2;function e_(e,t,n){if(typeof t!="number")throw new Error("second argument must be a Number");let r,i,s,o,a,c=!0,l;Array.isArray(e)?(r=[],s=i=e.length):(o=Object.keys(e),r={},s=i=o.length);function u(y){function E(){n&&n(y,r),n=null}c?XI(E):E()}function f(y,E,h){if(r[y]=h,E&&(a=!0),--s===0||E)u(E);else if(!a&&l<i){let b;o?(b=o[l],l+=1,e[b](function(S,w){f(b,S,w)})):(b=l,l+=1,e[b](function(S,w){f(b,S,w)}))}}l=t,s?o?o.some(function(y,E){return e[y](function(h,b){f(y,h,b)}),E===t-1}):e.some(function(y,E){return y(function(h,b){f(E,h,b)}),E===t-1}):u(null),c=!1}var A2={},C2=function(t){const n=t.gte!==void 0?t.gte:t.gt!==void 0?t.gt:void 0,r=t.lte!==void 0?t.lte:t.lt!==void 0?t.lt:void 0,i=t.gte===void 0,s=t.lte===void 0;return n!==void 0&&r!==void 0?IDBKeyRange.bound(n,r,i,s):n!==void 0?IDBKeyRange.lowerBound(n,i):r!==void 0?IDBKeyRange.upperBound(r,s):null};const t_=new TextEncoder;var $2=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):t_.encode(e)};const{AbstractIterator:n_}=Di,Xm=C2,du=$2,Hn=Symbol("cache"),pr=Symbol("finished"),qt=Symbol("options"),yr=Symbol("currentOptions"),Ki=Symbol("position"),wh=Symbol("location"),Ps=Symbol("first"),e1={};let r_=class extends n_{constructor(t,n,r){super(t,r),this[Hn]=[],this[pr]=this.limit===0,this[qt]=r,this[yr]={...r},this[Ki]=void 0,this[wh]=n,this[Ps]=!0}_nextv(t,n,r){if(this[Ps]=!1,this[pr])return this.nextTick(r,null,[]);if(this[Hn].length>0)return t=Math.min(t,this[Hn].length),this.nextTick(r,null,this[Hn].splice(0,t));this[Ki]!==void 0&&(this[qt].reverse?(this[yr].lt=this[Ki],this[yr].lte=void 0):(this[yr].gt=this[Ki],this[yr].gte=void 0));let i;try{i=Xm(this[yr])}catch{return this[pr]=!0,this.nextTick(r,null,[])}const s=this.db.db.transaction([this[wh]],"readonly"),o=s.objectStore(this[wh]),a=[];if(this[qt].reverse){const c=!this[qt].values&&o.openKeyCursor?"openKeyCursor":"openCursor";o[c](i,"prev").onsuccess=l=>{const u=l.target.result;if(u){const{key:f,value:y}=u;this[Ki]=f,a.push([this[qt].keys&&f!==void 0?du(f):void 0,this[qt].values&&y!==void 0?du(y):void 0]),a.length<t?u.continue():t1(s)}else this[pr]=!0}}else{let c,l;const u=()=>{if(c===void 0||l===void 0)return;const f=Math.max(c.length,l.length);f===0||t===1/0?this[pr]=!0:this[Ki]=c[f-1],a.length=f;for(let y=0;y<f;y++){const E=c[y],h=l[y];a[y]=[this[qt].keys&&E!==void 0?du(E):void 0,this[qt].values&&h!==void 0?du(h):void 0]}t1(s)};this[qt].keys||t<1/0?o.getAllKeys(i,t<1/0?t:void 0).onsuccess=f=>{c=f.target.result,u()}:(c=[],this.nextTick(u)),this[qt].values?o.getAll(i,t<1/0?t:void 0).onsuccess=f=>{l=f.target.result,u()}:(l=[],this.nextTick(u))}s.onabort=()=>{r(s.error||new Error("aborted by user")),r=null},s.oncomplete=()=>{r(null,a),r=null}}_next(t){if(this[Hn].length>0){const[n,r]=this[Hn].shift();this.nextTick(t,null,n,r)}else if(this[pr])this.nextTick(t);else{let n=Math.min(100,this.limit-this.count);this[Ps]&&(this[Ps]=!1,n=1),this._nextv(n,e1,(r,i)=>{if(r)return t(r);this[Hn]=i,this._next(t)})}}_all(t,n){this[Ps]=!1;const r=this[Hn].splice(0,this[Hn].length),i=this.limit-this.count-r.length;if(i<=0)return this.nextTick(n,null,r);this._nextv(i,e1,(s,o)=>{if(s)return n(s);r.length>0&&(o=r.concat(o)),n(null,o)})}_seek(t,n){this[Ps]=!0,this[Hn]=[],this[pr]=!1,this[Ki]=void 0,this[yr]={...this[qt]};let r;try{r=Xm(this[qt])}catch{this[pr]=!0;return}r!==null&&!r.includes(t)?this[pr]=!0:this[qt].reverse?this[yr].lte=t:this[yr].gte=t}};A2.Iterator=r_;function t1(e){typeof e.commit=="function"&&e.commit()}var i_=function(t,n,r,i,s){if(i.limit===0)return t.nextTick(s);const o=t.db.transaction([n],"readwrite"),a=o.objectStore(n);let c=0;o.oncomplete=function(){s()},o.onabort=function(){s(o.error||new Error("aborted by user"))};const l=a.openKeyCursor?"openKeyCursor":"openCursor",u=i.reverse?"prev":"next";a[l](r,u).onsuccess=function(f){const y=f.target.result;y&&(a.delete(y.key).onsuccess=function(){(i.limit<=0||++c<i.limit)&&y.continue()})}};const{AbstractLevel:s_}=Di,n1=ur,o_=ZI,{fromCallback:a_}=Mo,{Iterator:c_}=A2,r1=$2,u_=i_,l_=C2,I2="level-js-",da=Symbol("idb"),gh=Symbol("namePrefix"),wr=Symbol("location"),mh=Symbol("version"),Hi=Symbol("store"),ha=Symbol("onComplete"),i1=Symbol("promise");class _2 extends s_{constructor(t,n,r){if(typeof n=="function"||typeof r=="function")throw new n1("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:i,version:s,...o}=n||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},o),typeof t!="string")throw new Error("constructor requires a location string argument");this[wr]=t,this[gh]=i??I2,this[mh]=parseInt(s||1,10),this[da]=null}get location(){return this[wr]}get namePrefix(){return this[gh]}get version(){return this[mh]}get db(){return this[da]}get type(){return"browser-level"}_open(t,n){const r=indexedDB.open(this[gh]+this[wr],this[mh]);r.onerror=function(){n(r.error||new Error("unknown error"))},r.onsuccess=()=>{this[da]=r.result,n()},r.onupgradeneeded=i=>{const s=i.target.result;s.objectStoreNames.contains(this[wr])||s.createObjectStore(this[wr])}}[Hi](t){return this[da].transaction([this[wr]],t).objectStore(this[wr])}[ha](t,n){const r=t.transaction;r.onabort=function(){n(r.error||new Error("aborted by user"))},r.oncomplete=function(){n(null,t.result)}}_get(t,n,r){const i=this[Hi]("readonly");let s;try{s=i.get(t)}catch(o){return this.nextTick(r,o)}this[ha](s,function(o,a){if(o)return r(o);if(a===void 0)return r(new n1("Entry not found",{code:"LEVEL_NOT_FOUND"}));r(null,r1(a))})}_getMany(t,n,r){const i=this[Hi]("readonly"),s=t.map(o=>a=>{let c;try{c=i.get(o)}catch(l){return a(l)}c.onsuccess=()=>{const l=c.result;a(null,l===void 0?l:r1(l))},c.onerror=l=>{l.stopPropagation(),a(c.error)}});o_(s,16,r)}_del(t,n,r){const i=this[Hi]("readwrite");let s;try{s=i.delete(t)}catch(o){return this.nextTick(r,o)}this[ha](s,r)}_put(t,n,r,i){const s=this[Hi]("readwrite");let o;try{o=s.put(n,t)}catch(a){return this.nextTick(i,a)}this[ha](o,i)}_iterator(t){return new c_(this,this[wr],t)}_batch(t,n,r){const i=this[Hi]("readwrite"),s=i.transaction;let o=0,a;s.onabort=function(){r(a||s.error||new Error("aborted by user"))},s.oncomplete=function(){r()};function c(){const l=t[o++],u=l.key;let f;try{f=l.type==="del"?i.delete(u):i.put(l.value,u)}catch(y){a=y,s.abort();return}o<t.length?f.onsuccess=c:typeof s.commit=="function"&&s.commit()}c()}_clear(t,n){let r,i;try{r=l_(t)}catch{return this.nextTick(n)}if(t.limit>=0)return u_(this,this[wr],r,t,n);try{const s=this[Hi]("readwrite");i=r?s.delete(r):s.clear()}catch(s){return this.nextTick(n,s)}this[ha](i,n)}_close(t){this[da].close(),this.nextTick(t)}}_2.destroy=function(e,t,n){typeof t=="function"&&(n=t,t=I2),n=a_(n,i1);const r=indexedDB.deleteDatabase(t+e);return r.onsuccess=function(){n()},r.onerror=function(i){n(i)},n[i1]};f2.BrowserLevel=_2;var f_=f2.BrowserLevel;const d_="./level",h_="view",Jp=async({path:e,valueEncoding:t}={})=>{e=e||d_,t=t||h_;const n=new f_(e,{valueEncoding:t,passive:!0});return await n.open(),{put:async(u,f)=>{await n.put(u,f)},del:async u=>{await n.del(u)},get:async u=>{try{const f=await n.get(u);if(f)return f}catch{}},iterator:async function*({amount:u,reverse:f}={}){const y={limit:u||-1,reverse:f||!1};for await(const[E,h]of n.iterator(y))yield[E,h]},merge:async u=>{},clear:async()=>{await n.clear()},close:async()=>{await n.close()}}},s1=1e6,or=async({size:e}={})=>{let t=new zp(e||s1);return{put:async(l,u)=>{t.set(l,u)},del:async l=>{t.remove(l)},get:async l=>t.get(l),iterator:async function*(){for await(const l of t.keys){const u=t.get(l);yield[l,u]}},merge:async l=>{if(l)for await(const[u,f]of l.iterator())t.set(u,f)},clear:async()=>{t=new zp(e||s1)},close:async()=>{}}},p_=16,bh=1e3,hw=async({ipfs:e,identity:t,address:n,name:r,access:i,directory:s,meta:o,headsStorage:a,entryStorage:c,indexStorage:l,referencesCount:u,syncAutomatically:f,onUpdate:y})=>{s=$i(s||"./orbitdb",`./${n}/`),o=o||{},u=Number(u)>-1?u:p_,c=c||await is(await or({size:bh}),await Vf({ipfs:e,pin:!0})),a=a||await is(await or({size:bh}),await Jp({path:$i(s,"/log/_heads/")})),l=l||await is(await or({size:bh}),await Jp({path:$i(s,"/log/_index/")}));const E=await Q5(t,{logId:n,access:i,entryStorage:c,headsStorage:a,indexStorage:l}),h=new Pf.EventEmitter,b=new vl({concurrency:1}),S=async C=>{const k=async()=>{const I=await E.append(C,{referencesCount:u});return await v.add(I),y&&await y(E,I),h.emit("update",I),I.hash},$=await b.add(k);return await b.onIdle(),$},w=async C=>{const k=async()=>{const $=await vr.decode(C);$&&await E.joinEntry($)&&(y&&await y(E,$),h.emit("update",$))};await b.add(k)},m=async()=>{await v.stop(),await b.onIdle(),await E.close(),i&&i.close&&await i.close(),h.emit("close")},g=async()=>{await b.onIdle(),await E.clear(),i&&i.drop&&await i.drop(),h.emit("drop")},v=await zC({ipfs:e,log:E,events:h,onSynced:w,start:f});return{address:n,name:r,identity:t,meta:o,close:m,drop:g,addOperation:S,log:E,sync:v,peers:v.peers,events:h,access:i}},k2="documents",y_={indexBy:"_id"},T2=({indexBy:e}=y_)=>async({ipfs:t,identity:n,address:r,name:i,access:s,directory:o,meta:a,headsStorage:c,entryStorage:l,indexStorage:u,referencesCount:f,syncAutomatically:y,onUpdate:E})=>{const h=await hw({ipfs:t,identity:n,address:r,name:i,access:s,directory:o,meta:a,headsStorage:c,entryStorage:l,indexStorage:u,referencesCount:f,syncAutomatically:y}),{addOperation:b,log:S}=h,w=async $=>{const I=$[e];if(!I)throw new Error(`The provided document doesn't contain field '${e}'`);return b({op:"PUT",key:I,value:$})},m=async $=>{if(!await g($))throw new Error(`No document with key '${$}' in the database`);return b({op:"DEL",key:$,value:null})},g=async $=>{for await(const I of C())if($===I.key)return I},v=async $=>{const I=[];for await(const N of C())$(N.value)&&I.push(N.value);return I},C=async function*({amount:$}={}){const I={};let N=0;for await(const V of S.iterator()){const{op:Y,key:R,value:ee}=V.payload;if(Y==="PUT"&&!I[R]?(I[R]=!0,N++,yield{hash:V.hash,key:R,value:ee}):Y==="DEL"&&!I[R]&&(I[R]=!0),N>=$)break}};return{...h,type:k2,put:w,del:m,get:g,iterator:C,query:v,indexBy:e,all:async()=>{const $=[];for await(const I of C())$.unshift(I);return $}}};T2.type=k2;const B2="events",N2=()=>async({ipfs:e,identity:t,address:n,name:r,access:i,directory:s,meta:o,headsStorage:a,entryStorage:c,indexStorage:l,referencesCount:u,syncAutomatically:f,onUpdate:y})=>{const E=await hw({ipfs:e,identity:t,address:n,name:r,access:i,directory:s,meta:o,headsStorage:a,entryStorage:c,indexStorage:l,referencesCount:u,syncAutomatically:f,onUpdate:y}),{addOperation:h,log:b}=E,S=async v=>h({op:"ADD",key:null,value:v}),w=async v=>(await b.get(v)).payload.value,m=async function*({gt:v,gte:C,lt:k,lte:$,amount:I}={}){const N=b.iterator({gt:v,gte:C,lt:k,lte:$,amount:I});for await(const V of N){const Y=V.hash,R=V.payload.value;yield{hash:Y,value:R}}};return{...E,type:B2,add:S,get:w,iterator:m,all:async()=>{const v=[];for await(const C of m())v.unshift(C);return v}}};N2.type=B2;const P2="keyvalue",U2=()=>async({ipfs:e,identity:t,address:n,name:r,access:i,directory:s,meta:o,headsStorage:a,entryStorage:c,indexStorage:l,referencesCount:u,syncAutomatically:f,onUpdate:y})=>{const E=await hw({ipfs:e,identity:t,address:n,name:r,access:i,directory:s,meta:o,headsStorage:a,entryStorage:c,indexStorage:l,referencesCount:u,syncAutomatically:f,onUpdate:y}),{addOperation:h,log:b}=E,S=async(C,k)=>h({op:"PUT",key:C,value:k}),w=async C=>h({op:"DEL",key:C,value:null}),m=async C=>{for await(const k of b.traverse()){const{op:$,key:I,value:N}=k.payload;if($==="PUT"&&I===C)return N;if($==="DEL"&&I===C)return}},g=async function*({amount:C}={}){const k={};let $=0;for await(const I of b.traverse()){const{op:N,key:V,value:Y}=I.payload;if(N==="PUT"&&!k[V]){k[V]=!0,$++;const R=I.hash;yield{key:V,value:Y,hash:R}}else N==="DEL"&&!k[V]&&(k[V]=!0);if($>=C)break}};return{...E,type:P2,put:S,set:S,del:w,get:m,iterator:g,all:async()=>{const C=[];for await(const k of g())C.unshift(k);return C}}};U2.type=P2;const Zp={},pw=e=>{if(!e.type)throw new Error("Database type does not contain required field 'type'.");Zp[e.type]=e},w_=e=>{if(!e)throw new Error("Type not specified");if(!Zp[e])throw new Error(`Unsupported database type: '${e}'`);return Zp[e]};pw(N2);pw(T2);pw(U2);const L2=Symbol.for("@libp2p/peer-id");class qe extends Error{constructor(t="Invalid parameters"){super(t),this.name="InvalidParametersError"}}x(qe,"name","InvalidParametersError");class yw extends Error{constructor(t="Invalid public key"){super(t),this.name="InvalidPublicKeyError"}}x(yw,"name","InvalidPublicKeyError");class ww extends Error{constructor(t="Invalid private key"){super(t),this.name="InvalidPrivateKeyError"}}x(ww,"name","InvalidPrivateKeyError");class O2 extends Error{constructor(t="Invalid CID"){super(t),this.name="InvalidCIDError"}}x(O2,"name","InvalidCIDError");class D2 extends Error{constructor(t="Invalid Multihash"){super(t),this.name="InvalidMultihashError"}}x(D2,"name","InvalidMultihashError");class gw extends Error{constructor(t="Unsupported key type"){super(t),this.name="UnsupportedKeyTypeError"}}x(gw,"name","UnsupportedKeyTypeError");function g_(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Jf(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function m_(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var b_=m_,v_=b_;let x_=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},E_=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return z2(this,t)}},S_=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return z2(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function z2(e,t){return new S_({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let A_=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new x_(t,n,r),this.decoder=new E_(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function R2({name:e,prefix:t,encode:n,decode:r}){return new A_(e,t,n,r)}function Zf({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=v_(n,e);return R2({prefix:t,name:e,encode:r,decode:s=>Jf(i(s))})}function C_(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function $_(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function Rr({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return R2({prefix:t,name:e,encode(i){return $_(i,r,n)},decode(i){return C_(i,r,n,e)}})}const bn=Zf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});Zf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const Mu=Rr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Rr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Rr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Rr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Rr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Rr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Rr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Rr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Rr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const vh=Zf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});Zf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var I_=F2,o1=128,__=-128,k_=Math.pow(2,31);function F2(e,t,n){t=t||[],n=n||0;for(var r=n;e>=k_;)t[n++]=e&255|o1,e/=128;for(;e&__;)t[n++]=e&255|o1,e>>>=7;return t[n]=e|0,F2.bytes=n-r+1,t}var T_=Xp,B_=128,a1=127;function Xp(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Xp.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&a1)<<i:(o&a1)*Math.pow(2,i),i+=7}while(o>=B_);return Xp.bytes=s-r,n}var N_=Math.pow(2,7),P_=Math.pow(2,14),U_=Math.pow(2,21),L_=Math.pow(2,28),O_=Math.pow(2,35),D_=Math.pow(2,42),z_=Math.pow(2,49),R_=Math.pow(2,56),F_=Math.pow(2,63),M_=function(e){return e<N_?1:e<P_?2:e<U_?3:e<L_?4:e<O_?5:e<D_?6:e<z_?7:e<R_?8:e<F_?9:10},j_={encode:I_,decode:T_,encodingLength:M_},Pl=j_;function ey(e,t=0){return[Pl.decode(e,t),Pl.decode.bytes]}function Ul(e,t,n=0){return Pl.encode(e,t,n),t}function Ll(e){return Pl.encodingLength(e)}function Eo(e,t){const n=t.byteLength,r=Ll(e),i=r+Ll(n),s=new Uint8Array(i+n);return Ul(e,s,0),Ul(n,s,r),s.set(t,i),new mw(e,n,t,s)}function V_(e){const t=Jf(e),[n,r]=ey(t),[i,s]=ey(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new mw(n,i,o,t)}function K_(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&g_(e.bytes,n.bytes)}}let mw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function c1(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return q_(n,ty(e),t??bn.encoder);default:return W_(n,ty(e),t??Mu.encoder)}}const u1=new WeakMap;function ty(e){const t=u1.get(e);if(t==null){const n=new Map;return u1.set(e,n),n}return t}var Wb;let Xf=class gt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,Wb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==pa)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==G_)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return gt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=Eo(t,n);return gt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return gt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&K_(t.multihash,r.multihash)}toString(t){return c1(this,t)}toJSON(){return{"/":c1(this)}}link(){return this}[(Wb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof gt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new gt(r,i,s,o??l1(r,i,s.bytes))}else if(n[Q_]===!0){const{version:r,multihash:i,code:s}=n,o=V_(i);return gt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==pa)throw new Error(`Version 0 CID must use dag-pb (code: ${pa}) block encoding`);return new gt(t,n,r,r.bytes)}case 1:{const i=l1(t,n,r.bytes);return new gt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return gt.create(0,pa,t)}static createV1(t,n){return gt.create(1,t,n)}static decode(t){const[n,r]=gt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=gt.inspectBytes(t),r=n.size-n.multihashSize,i=Jf(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new mw(n.multihashCode,n.digestSize,s,i);return[n.version===0?gt.createV0(o):gt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=ey(t.subarray(n));return n+=y,f};let i=r(),s=pa;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=H_(t,n),s=gt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return ty(s).set(r,t),s}};function H_(e,t){switch(e[0]){case"Q":{const n=t??bn;return[bn.prefix,n.decode(`${bn.prefix}${e}`)]}case bn.prefix:{const n=t??bn;return[bn.prefix,n.decode(e)]}case Mu.prefix:{const n=t??Mu;return[Mu.prefix,n.decode(e)]}case vh.prefix:{const n=t??vh;return[vh.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function q_(e,t,n){const{prefix:r}=n;if(r!==bn.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function W_(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const pa=112,G_=18;function l1(e,t,n){const r=Ll(e),i=r+Ll(t),s=new Uint8Array(i+n.byteLength);return Ul(e,s,0),Ul(t,s,r),s.set(n,i),s}const Q_=Symbol.for("@ipld/js-cid/CID"),M2=0,Y_="identity",j2=Jf;function J_(e){return Eo(M2,j2(e))}const bw={code:M2,name:Y_,encode:j2,digest:J_};function An(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Yr(e=0){return new Uint8Array(e)}function Pi(e=0){return new Uint8Array(e)}function Lr(e,t){t==null&&(t=e.reduce((i,s)=>i+s.length,0));const n=Pi(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const V2=Symbol.for("@achingbrain/uint8arraylist");function f1(e,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let n=0;for(const r of e){const i=n+r.byteLength;if(t<i)return{buf:r,index:t-n};n=i}throw new RangeError("index is out of bounds")}function hu(e){return!!(e!=null&&e[V2])}var Gb;class Lt{constructor(...t){x(this,"bufs");x(this,"length");x(this,Gb,!0);this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[(Gb=V2,Symbol.iterator)](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const r of t)if(r instanceof Uint8Array)n+=r.byteLength,this.bufs.push(r);else if(hu(r))n+=r.byteLength,this.bufs.push(...r.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const r of t.reverse())if(r instanceof Uint8Array)n+=r.byteLength,this.bufs.unshift(r);else if(hu(r))n+=r.byteLength,this.bufs.unshift(...r.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=n}get(t){const n=f1(this.bufs,t);return n.buf[n.index]}set(t,n){const r=f1(this.bufs,t);r.buf[r.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let r=0;r<t.length;r++)this.set(n+r,t[r]);else if(hu(t))for(let r=0;r<t.length;r++)this.set(n+r,t.get(r));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,n){const{bufs:r,length:i}=this._subList(t,n);return Lr(r,i)}subarray(t,n){const{bufs:r,length:i}=this._subList(t,n);return r.length===1?r[0]:Lr(r,i)}sublist(t,n){const{bufs:r,length:i}=this._subList(t,n),s=new Lt;return s.length=i,s.bufs=[...r],s}_subList(t,n){if(t=t??0,n=n??this.length,t<0&&(t=this.length+t),n<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(t===0&&n===this.length)return{bufs:this.bufs,length:this.length};const r=[];let i=0;for(let s=0;s<this.bufs.length;s++){const o=this.bufs[s],a=i,c=a+o.byteLength;if(i=c,t>=c)continue;const l=t>=a&&t<c,u=n>a&&n<=c;if(l&&u){if(t===a&&n===c){r.push(o);break}const f=t-a;r.push(o.subarray(f,f+(n-t)));break}if(l){if(t===0){r.push(o);continue}r.push(o.subarray(t-a));continue}if(u){if(n===c){r.push(o);break}r.push(o.subarray(0,n-a));break}r.push(o)}return{bufs:r,length:n-t}}indexOf(t,n=0){if(!hu(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const r=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),t.length===0)return n>this.length?this.length:n;const i=r.byteLength;if(i===0)throw new TypeError("search must be at least 1 byte long");const s=256,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=-1;for(let f=0;f<i;f++)o[r[f]]=f;const a=o,c=this.byteLength-r.byteLength,l=r.byteLength-1;let u;for(let f=n;f<=c;f+=u){u=0;for(let y=l;y>=0;y--){const E=this.get(f+y);if(r[y]!==E){u=Math.max(1,y-a[E]);break}}if(u===0)return f}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const r=Pi(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,n),this.write(r,t)}getInt16(t,n){const r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,n)}setInt16(t,n,r){const i=Yr(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,n,r),this.write(i,t)}getInt32(t,n){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,n)}setInt32(t,n,r){const i=Yr(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,n,r),this.write(i,t)}getBigInt64(t,n){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,n)}setBigInt64(t,n,r){const i=Yr(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,n,r),this.write(i,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const r=Pi(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,n),this.write(r,t)}getUint16(t,n){const r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,n)}setUint16(t,n,r){const i=Yr(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,n,r),this.write(i,t)}getUint32(t,n){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,n)}setUint32(t,n,r){const i=Yr(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,n,r),this.write(i,t)}getBigUint64(t,n){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,n)}setBigUint64(t,n,r){const i=Yr(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,n,r),this.write(i,t)}getFloat32(t,n){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,n)}setFloat32(t,n,r){const i=Yr(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,n,r),this.write(i,t)}getFloat64(t,n){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,n)}setFloat64(t,n,r){const i=Yr(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,n,r),this.write(i,t)}equals(t){if(t==null||!(t instanceof Lt)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!An(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const r=new Lt;return r.bufs=t,n==null&&(n=t.reduce((i,s)=>i+s.byteLength,0)),r.length=n,r}}function Z_(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function X_(e){return new TextEncoder().encode(e)}function ek(e){return new TextDecoder().decode(e)}function tk(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var nk=tk,rk=nk;let ik=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},sk=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return K2(this,t)}},ok=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return K2(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function K2(e,t){return new ok({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let ak=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new ik(t,n,r),this.decoder=new sk(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function ed({name:e,prefix:t,encode:n,decode:r}){return new ak(e,t,n,r)}function kc({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=rk(n,e);return ed({prefix:t,name:e,encode:r,decode:s=>Z_(i(s))})}function ck(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function uk(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function ct({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return ed({prefix:t,name:e,encode(i){return uk(i,r,n)},decode(i){return ck(i,r,n,e)}})}const lk=kc({prefix:"9",name:"base10",alphabet:"0123456789"}),fk=Object.freeze(Object.defineProperty({__proto__:null,base10:lk},Symbol.toStringTag,{value:"Module"})),dk=ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hk=ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),pk=Object.freeze(Object.defineProperty({__proto__:null,base16:dk,base16upper:hk},Symbol.toStringTag,{value:"Module"})),yk=ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wk=Object.freeze(Object.defineProperty({__proto__:null,base2:yk},Symbol.toStringTag,{value:"Module"})),H2=Array.from(""),gk=H2.reduce((e,t,n)=>(e[n]=t,e),[]),mk=H2.reduce((e,t,n)=>{const r=t.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${t}`);return e[r]=n,e},[]);function bk(e){return e.reduce((t,n)=>(t+=gk[n],t),"")}function vk(e){const t=[];for(const n of e){const r=n.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${n}`);const i=mk[r];if(i==null)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}const xk=ed({prefix:"",name:"base256emoji",encode:bk,decode:vk}),Ek=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:xk},Symbol.toStringTag,{value:"Module"})),Sk=ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ak=ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ck=ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$k=ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ik=ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_k=ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),kk=ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Tk=ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bk=ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Nk=Object.freeze(Object.defineProperty({__proto__:null,base32:Sk,base32hex:Ik,base32hexpad:kk,base32hexpadupper:Tk,base32hexupper:_k,base32pad:Ck,base32padupper:$k,base32upper:Ak,base32z:Bk},Symbol.toStringTag,{value:"Module"})),Pk=kc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Uk=kc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lk=Object.freeze(Object.defineProperty({__proto__:null,base36:Pk,base36upper:Uk},Symbol.toStringTag,{value:"Module"})),Ok=kc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dk=kc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),zk=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Ok,base58flickr:Dk},Symbol.toStringTag,{value:"Module"})),Rk=ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fk=ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Mk=ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jk=ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Vk=Object.freeze(Object.defineProperty({__proto__:null,base64:Rk,base64pad:Fk,base64url:Mk,base64urlpad:jk},Symbol.toStringTag,{value:"Module"})),Kk=ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Hk=Object.freeze(Object.defineProperty({__proto__:null,base8:Kk},Symbol.toStringTag,{value:"Module"})),qk=ed({prefix:"\0",name:"identity",encode:e=>ek(e),decode:e=>X_(e)}),Wk=Object.freeze(Object.defineProperty({__proto__:null,identity:qk},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const d1={...Wk,...wk,...Hk,...fk,...pk,...Nk,...Lk,...zk,...Vk,...Ek};function q2(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const h1=q2("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),xh=q2("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Pi(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),W2={utf8:h1,"utf-8":h1,hex:d1.base16,latin1:xh,ascii:xh,binary:xh,...d1};function xe(e,t="utf8"){const n=W2[t];if(n==null)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}function se(e,t="utf8"){const n=W2[t];if(n==null)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}const Gk=parseInt("11111",2),ny=parseInt("10000000",2),Qk=parseInt("01111111",2),p1={0:ya,1:ya,2:Yk,3:Xk,4:eT,5:Zk,6:Jk,16:ya,22:ya,48:ya};function jo(e,t={offset:0}){const n=e[t.offset]&Gk;if(t.offset++,p1[n]!=null)return p1[n](e,t);throw new Error("No decoder for tag "+n)}function Tc(e,t){let n=0;if((e[t.offset]&ny)===ny){const r=e[t.offset]&Qk;let i="0x";t.offset++;for(let s=0;s<r;s++,t.offset++)i+=e[t.offset].toString(16).padStart(2,"0");n=parseInt(i,16)}else n=e[t.offset],t.offset++;return n}function ya(e,t){Tc(e,t);const n=[];for(;!(t.offset>=e.byteLength);){const r=jo(e,t);if(r===null)break;n.push(r)}return n}function Yk(e,t){const n=Tc(e,t),r=t.offset,i=t.offset+n,s=[];for(let o=r;o<i;o++)o===r&&e[o]===0||s.push(e[o]);return t.offset+=n,Uint8Array.from(s)}function Jk(e,t){const n=Tc(e,t),r=t.offset+n,i=e[t.offset];t.offset++;let s=0,o=0;i<40?(s=0,o=i):i<80?(s=1,o=i-40):(s=2,o=i-80);let a=`${s}.${o}`,c=[];for(;t.offset<r;){const l=e[t.offset];if(t.offset++,c.push(l&127),l<128){c.reverse();let u=0;for(let f=0;f<c.length;f++)u+=c[f]<<f*7;a+=`.${u}`,c=[]}}return a}function Zk(e,t){return t.offset++,null}function Xk(e,t){const n=Tc(e,t),r=e[t.offset];t.offset++;const i=e.subarray(t.offset,t.offset+n-1);if(t.offset+=n,r!==0)throw new Error("Unused bits in bit string is unimplemented");return i}function eT(e,t){const n=Tc(e,t),r=e.subarray(t.offset,t.offset+n);return t.offset+=n,r}function tT(e){let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Lt;for(let r=0;r<t.length;r+=2)n.append(Uint8Array.from([parseInt(`${t[r]}${t[r+1]}`,16)]));return n}function td(e){if(e.byteLength<128)return Uint8Array.from([e.byteLength]);const t=tT(e.byteLength);return new Lt(Uint8Array.from([t.byteLength|ny]),t)}function Yt(e){const t=new Lt,n=128;return(e.subarray()[0]&n)===n&&t.append(Uint8Array.from([0])),t.append(e),new Lt(Uint8Array.from([2]),td(t),t)}function vw(e){const t=Uint8Array.from([0]),n=new Lt(t,e);return new Lt(Uint8Array.from([3]),td(n),n)}function nT(e){return new Lt(Uint8Array.from([4]),td(e),e)}function Tr(e,t=48){const n=new Lt;for(const r of e)n.append(r);return new Lt(Uint8Array.from([t]),td(n),n)}const G2="1.2.840.10045.3.1.7",Q2="1.3.132.0.34",Y2="1.3.132.0.35";async function rT(e,t){const n=await crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:e.crv??"P-256"},!1,["sign"]),r=await crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,t.subarray());return new Uint8Array(r,0,r.byteLength)}async function iT(e,t,n){const r=await crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:e.crv??"P-256"},!1,["verify"]);return crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},r,t,n.subarray())}const sT=Uint8Array.from([6,8,42,134,72,206,61,3,1,7]),oT=Uint8Array.from([6,5,43,129,4,0,34]),aT=Uint8Array.from([6,5,43,129,4,0,35]),J2={ext:!0,kty:"EC",crv:"P-256"},Z2={ext:!0,kty:"EC",crv:"P-384"},X2={ext:!0,kty:"EC",crv:"P-521"},no=32,ro=48,io=66;function cT(e){const t=e[1],n=se(t,"base64url"),r=e[2][1][0],i=1;let s,o;if(t.byteLength===no)return s=se(r.subarray(i,i+no),"base64url"),o=se(r.subarray(i+no),"base64url"),new Eh({...J2,key_ops:["sign"],d:n,x:s,y:o});if(t.byteLength===ro)return s=se(r.subarray(i,i+ro),"base64url"),o=se(r.subarray(i+ro),"base64url"),new Eh({...Z2,key_ops:["sign"],d:n,x:s,y:o});if(t.byteLength===io)return s=se(r.subarray(i,i+io),"base64url"),o=se(r.subarray(i+io),"base64url"),new Eh({...X2,key_ops:["sign"],d:n,x:s,y:o});throw new qe(`Private key length was wrong length, got ${t.byteLength}, expected 32, 48 or 66`)}function eS(e){const t=jo(e);return tS(t)}function tS(e){const t=e[1][1][0],n=1;let r,i;if(t.byteLength===no*2+1)return r=se(t.subarray(n,n+no),"base64url"),i=se(t.subarray(n+no),"base64url"),new ju({...J2,key_ops:["verify"],x:r,y:i});if(t.byteLength===ro*2+1)return r=se(t.subarray(n,n+ro),"base64url"),i=se(t.subarray(n+ro),"base64url"),new ju({...Z2,key_ops:["verify"],x:r,y:i});if(t.byteLength===io*2+1)return r=se(t.subarray(n,n+io),"base64url"),i=se(t.subarray(n+io),"base64url"),new ju({...X2,key_ops:["verify"],x:r,y:i});throw new qe(`coordinates were wrong length, got ${t.byteLength}, expected 65, 97 or 133`)}function uT(e){return Tr([Yt(Uint8Array.from([1])),nT(xe(e.d??"","base64url")),Tr([nS(e.crv)],160),Tr([vw(new Lt(Uint8Array.from([4]),xe(e.x??"","base64url"),xe(e.y??"","base64url")))],161)]).subarray()}function lT(e){return Tr([Yt(Uint8Array.from([1])),Tr([nS(e.crv)],160),Tr([vw(new Lt(Uint8Array.from([4]),xe(e.x??"","base64url"),xe(e.y??"","base64url")))],161)]).subarray()}function nS(e){if(e==="P-256")return sT;if(e==="P-384")return oT;if(e==="P-521")return aT;throw new qe(`Invalid curve ${e}`)}class ju{constructor(t){x(this,"type","ECDSA");x(this,"jwk");x(this,"_raw");this.jwk=t}get raw(){return this._raw==null&&(this._raw=lT(this.jwk)),this._raw}toMultihash(){return bw.digest(Ow(this))}toCID(){return Xf.createV1(114,this.toMultihash())}toString(){return bn.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}async verify(t,n){return iT(this.jwk,n,t)}}class Eh{constructor(t){x(this,"type","ECDSA");x(this,"jwk");x(this,"publicKey");x(this,"_raw");this.jwk=t,this.publicKey=new ju({crv:t.crv,ext:t.ext,key_ops:["verify"],kty:"EC",x:t.x,y:t.y})}get raw(){return this._raw==null&&(this._raw=uT(this.jwk)),this._raw}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}async sign(t){return rT(this.jwk,t)}}function y1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function fT(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function nd(e,...t){if(!fT(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function dT(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");y1(e.outputLen),y1(e.blockLen)}function Ol(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hT(e,t){nd(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Us=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function qn(e,t){return e<<32-t|e>>>t}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function pT(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function xw(e){return typeof e=="string"&&(e=pT(e)),nd(e),e}function yT(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];nd(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}let rS=class{clone(){return this._cloneInto()}};function iS(e){const t=r=>e().update(xw(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function sS(e=32){if(Us&&typeof Us.getRandomValues=="function")return Us.getRandomValues(new Uint8Array(e));if(Us&&typeof Us.randomBytes=="function")return Uint8Array.from(Us.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function wT(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function gT(e,t,n){return e&t^~e&n}function mT(e,t,n){return e&t^e&n^t&n}let oS=class extends rS{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Sh(this.buffer)}update(t){Ol(this);const{view:n,buffer:r,blockLen:i}=this;t=xw(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Sh(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ol(this),hT(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;wT(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Sh(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const bT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zr=new Uint32Array(64);let vT=class extends oS{constructor(t=32){super(64,t,8,!1),this.A=Jr[0]|0,this.B=Jr[1]|0,this.C=Jr[2]|0,this.D=Jr[3]|0,this.E=Jr[4]|0,this.F=Jr[5]|0,this.G=Jr[6]|0,this.H=Jr[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)Zr[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const y=Zr[f-15],E=Zr[f-2],h=qn(y,7)^qn(y,18)^y>>>3,b=qn(E,17)^qn(E,19)^E>>>10;Zr[f]=b+Zr[f-7]+h+Zr[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const y=qn(a,6)^qn(a,11)^qn(a,25),E=u+y+gT(a,c,l)+bT[f]+Zr[f]|0,b=(qn(r,2)^qn(r,13)^qn(r,22))+mT(r,i,s)|0;u=l,l=c,c=a,a=o+E|0,o=s,s=i,i=r,r=E+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){Zr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const xT=iS(()=>new vT),pu=BigInt(2**32-1),ry=BigInt(32);function aS(e,t=!1){return t?{h:Number(e&pu),l:Number(e>>ry&pu)}:{h:Number(e>>ry&pu)|0,l:Number(e&pu)|0}}function ET(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=aS(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const ST=(e,t)=>BigInt(e>>>0)<<ry|BigInt(t>>>0),AT=(e,t,n)=>e>>>n,CT=(e,t,n)=>e<<32-n|t>>>n,$T=(e,t,n)=>e>>>n|t<<32-n,IT=(e,t,n)=>e<<32-n|t>>>n,_T=(e,t,n)=>e<<64-n|t>>>n-32,kT=(e,t,n)=>e>>>n-32|t<<64-n,TT=(e,t)=>t,BT=(e,t)=>e,NT=(e,t,n)=>e<<n|t>>>32-n,PT=(e,t,n)=>t<<n|e>>>32-n,UT=(e,t,n)=>t<<n-32|e>>>64-n,LT=(e,t,n)=>e<<n-32|t>>>64-n;function OT(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const DT=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),zT=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,RT=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),FT=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,MT=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),jT=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,ae={fromBig:aS,split:ET,toBig:ST,shrSH:AT,shrSL:CT,rotrSH:$T,rotrSL:IT,rotrBH:_T,rotrBL:kT,rotr32H:TT,rotr32L:BT,rotlSH:NT,rotlSL:PT,rotlBH:UT,rotlBL:LT,add:OT,add3L:DT,add3H:zT,add4L:RT,add4H:FT,add5H:jT,add5L:MT},[VT,KT]=ae.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Xr=new Uint32Array(80),ei=new Uint32Array(80);class HT extends oS{constructor(t=64){super(128,t,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:y,Gh:E,Gl:h,Hh:b,Hl:S}=this;return[t,n,r,i,s,o,a,c,l,u,f,y,E,h,b,S]}set(t,n,r,i,s,o,a,c,l,u,f,y,E,h,b,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=y|0,this.Gh=E|0,this.Gl=h|0,this.Hh=b|0,this.Hl=S|0}process(t,n){for(let g=0;g<16;g++,n+=4)Xr[g]=t.getUint32(n),ei[g]=t.getUint32(n+=4);for(let g=16;g<80;g++){const v=Xr[g-15]|0,C=ei[g-15]|0,k=ae.rotrSH(v,C,1)^ae.rotrSH(v,C,8)^ae.shrSH(v,C,7),$=ae.rotrSL(v,C,1)^ae.rotrSL(v,C,8)^ae.shrSL(v,C,7),I=Xr[g-2]|0,N=ei[g-2]|0,V=ae.rotrSH(I,N,19)^ae.rotrBH(I,N,61)^ae.shrSH(I,N,6),Y=ae.rotrSL(I,N,19)^ae.rotrBL(I,N,61)^ae.shrSL(I,N,6),R=ae.add4L($,Y,ei[g-7],ei[g-16]),ee=ae.add4H(R,k,V,Xr[g-7],Xr[g-16]);Xr[g]=ee|0,ei[g]=R|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:y,Fh:E,Fl:h,Gh:b,Gl:S,Hh:w,Hl:m}=this;for(let g=0;g<80;g++){const v=ae.rotrSH(f,y,14)^ae.rotrSH(f,y,18)^ae.rotrBH(f,y,41),C=ae.rotrSL(f,y,14)^ae.rotrSL(f,y,18)^ae.rotrBL(f,y,41),k=f&E^~f&b,$=y&h^~y&S,I=ae.add5L(m,C,$,KT[g],ei[g]),N=ae.add5H(I,w,v,k,VT[g],Xr[g]),V=I|0,Y=ae.rotrSH(r,i,28)^ae.rotrBH(r,i,34)^ae.rotrBH(r,i,39),R=ae.rotrSL(r,i,28)^ae.rotrBL(r,i,34)^ae.rotrBL(r,i,39),ee=r&s^r&a^s&a,M=i&o^i&c^o&c;w=b|0,m=S|0,b=E|0,S=h|0,E=f|0,h=y|0,{h:f,l:y}=ae.add(l|0,u|0,N|0,V|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const j=ae.add3L(V,R,M);r=ae.add3H(j,N,Y,ee),i=j|0}({h:r,l:i}=ae.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ae.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ae.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ae.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:y}=ae.add(this.Eh|0,this.El|0,f|0,y|0),{h:E,l:h}=ae.add(this.Fh|0,this.Fl|0,E|0,h|0),{h:b,l:S}=ae.add(this.Gh|0,this.Gl|0,b|0,S|0),{h:w,l:m}=ae.add(this.Hh|0,this.Hl|0,w|0,m|0),this.set(r,i,s,o,a,c,l,u,f,y,E,h,b,S,w,m)}roundClean(){Xr.fill(0),ei.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qT=iS(()=>new HT);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ew=BigInt(0),iy=BigInt(1);function So(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Sw(e){if(!So(e))throw new Error("Uint8Array expected")}function _i(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function yu(e){const t=e.toString(16);return t.length&1?"0"+t:t}function cS(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ew:BigInt("0x"+e)}const uS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",WT=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ao(e){if(Sw(e),uS)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=WT[e[n]];return t}const gr={_0:48,_9:57,A:65,F:70,a:97,f:102};function w1(e){if(e>=gr._0&&e<=gr._9)return e-gr._0;if(e>=gr.A&&e<=gr.F)return e-(gr.A-10);if(e>=gr.a&&e<=gr.f)return e-(gr.a-10)}function Dl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(uS)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=w1(e.charCodeAt(s)),a=w1(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function os(e){return cS(Ao(e))}function Ra(e){return Sw(e),cS(Ao(Uint8Array.from(e).reverse()))}function cc(e,t){return Dl(e.toString(16).padStart(t*2,"0"))}function zl(e,t){return cc(e,t).reverse()}function Ke(e,t,n){let r;if(typeof t=="string")try{r=Dl(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(So(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Co(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Sw(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const Ah=e=>typeof e=="bigint"&&Ew<=e;function Aw(e,t,n){return Ah(e)&&Ah(t)&&Ah(n)&&t<=e&&e<n}function Dn(e,t,n,r){if(!Aw(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function GT(e){let t;for(t=0;e>Ew;e>>=iy,t+=1);return t}const rd=e=>(iy<<BigInt(e))-iy,Ch=e=>new Uint8Array(e),g1=e=>Uint8Array.from(e);function QT(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ch(e),i=Ch(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=Ch(0))=>{i=a(g1([0]),f),r=a(),f.length!==0&&(i=a(g1([1]),f),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const y=[];for(;f<t;){r=a();const E=r.slice();y.push(E),f+=r.length}return Co(...y)};return(f,y)=>{o(),c(f);let E;for(;!(E=y(l()));)c();return o(),E}}const YT={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||So(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Bc(e,t,n={}){const r=(i,s,o)=>{const a=YT[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Rl(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const et=BigInt(0),Pe=BigInt(1),Qi=BigInt(2),JT=BigInt(3),sy=BigInt(4),m1=BigInt(5),b1=BigInt(8);function Te(e,t){const n=e%t;return n>=et?n:t+n}function ZT(e,t,n){if(t<et)throw new Error("invalid exponent, negatives unsupported");if(n<=et)throw new Error("invalid modulus");if(n===Pe)return et;let r=Pe;for(;t>et;)t&Pe&&(r=r*e%n),e=e*e%n,t>>=Pe;return r}function Re(e,t,n){let r=e;for(;t-- >et;)r*=r,r%=n;return r}function oy(e,t){if(e===et)throw new Error("invert: expected non-zero number");if(t<=et)throw new Error("invert: expected positive modulus, got "+t);let n=Te(e,t),r=t,i=et,s=Pe;for(;n!==et;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Pe)throw new Error("invert: does not exist");return Te(i,t)}function XT(e){const t=(e-Pe)/Qi;let n,r,i;for(n=e-Pe,r=0;n%Qi===et;n/=Qi,r++);for(i=Qi;i<e&&ZT(i,t,e)!==e-Pe;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+Pe)/sy;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+Pe)/Qi;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),f=a.pow(c,s),y=a.pow(c,n);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let E=1;for(let b=a.sqr(y);E<l&&!a.eql(b,a.ONE);E++)b=a.sqr(b);const h=a.pow(u,Pe<<BigInt(l-E-1));u=a.sqr(h),f=a.mul(f,h),y=a.mul(y,u),l=E}return f}}function eB(e){if(e%sy===JT){const t=(e+Pe)/sy;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%b1===m1){const t=(e-m1)/b1;return function(r,i){const s=r.mul(i,Qi),o=r.pow(s,t),a=r.mul(i,o),c=r.mul(r.mul(a,Qi),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return XT(e)}const tB=(e,t)=>(Te(e,t)&Pe)===Pe,nB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rB(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=nB.reduce((r,i)=>(r[i]="function",r),t);return Bc(e,n)}function iB(e,t,n){if(n<et)throw new Error("invalid exponent, negatives unsupported");if(n===et)return e.ONE;if(n===Pe)return t;let r=e.ONE,i=t;for(;n>et;)n&Pe&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Pe;return r}function sB(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function lS(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function id(e,t,n=!1,r={}){if(e<=et)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=lS(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:rd(i),ZERO:et,ONE:Pe,create:c=>Te(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return et<=c&&c<e},is0:c=>c===et,isOdd:c=>(c&Pe)===Pe,neg:c=>Te(-c,e),eql:(c,l)=>c===l,sqr:c=>Te(c*c,e),add:(c,l)=>Te(c+l,e),sub:(c,l)=>Te(c-l,e),mul:(c,l)=>Te(c*l,e),pow:(c,l)=>iB(a,c,l),div:(c,l)=>Te(c*oy(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>oy(c,e),sqrt:r.sqrt||(c=>(o||(o=eB(e)),o(a,c))),invertBatch:c=>sB(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?zl(c,s):cc(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Ra(c):os(c)}});return Object.freeze(a)}function fS(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function dS(e){const t=fS(e);return t+Math.ceil(t/2)}function oB(e,t,n=!1){const r=e.length,i=fS(t),s=dS(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ra(e):os(e),a=Te(o,t-Pe)+Pe;return n?zl(a,i):cc(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v1=BigInt(0),ay=BigInt(1);function $h(e,t){const n=t.negate();return e?n:t}function hS(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ih(e,t){hS(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=rd(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function x1(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=ay);const l=t*r,u=l+Math.abs(a)-1,f=a===0,y=a<0,E=t%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:y,isNegF:E,offsetF:l}}function aB(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function cB(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const _h=new WeakMap,pS=new WeakMap;function kh(e){return pS.get(e)||1}function yS(e,t){return{constTimeNegate:$h,hasPrecomputes(n){return kh(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>v1;)r&ay&&(i=i.add(s)),s=s.double(),r>>=ay;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Ih(r,t),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=Ih(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:y,isNegF:E,offsetF:h}=x1(i,c,a);i=l,f?o=o.add($h(E,r[h])):s=s.add($h(y,r[u]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=Ih(n,t);for(let a=0;a<o.windows&&i!==v1;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=x1(i,a,o);if(i=c,!u){const y=r[l];s=s.add(f?y.negate():y)}}return s},getPrecomputes(n,r,i){let s=_h.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&_h.set(r,i(s))),s},wNAFCached(n,r,i){const s=kh(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=kh(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){hS(r,t),pS.set(n,r),_h.delete(n)}}}function wS(e,t,n,r){if(aB(n,e),cB(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=GT(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=rd(o),c=new Array(Number(a)+1).fill(i),l=Math.floor((t.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let E=0;E<r.length;E++){const h=r[E],b=Number(h>>BigInt(f)&a);c[b]=c[b].add(n[E])}let y=i;for(let E=c.length-1,h=i;E>0;E--)h=h.add(c[E]),y=y.add(h);if(u=u.add(y),f!==0)for(let E=0;E<o;E++)u=u.double()}return u}function Cw(e){return rB(e.Fp),Bc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lS(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wn=BigInt(0),kt=BigInt(1),E1=BigInt(2),uB=BigInt(8),lB={zip215:!0};function fB(e){const t=Cw(e);return Bc(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function dB(e){const t=fB(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=E1<<BigInt(a*8)-kt,u=n.create,f=id(t.n,t.nBitLength),y=t.uvRatio||((F,T)=>{try{return{isValid:!0,value:n.sqrt(F*n.inv(T))}}catch{return{isValid:!1,value:Wn}}}),E=t.adjustScalarBytes||(F=>F),h=t.domain||((F,T,L)=>{if(_i("phflag",L),T.length||L)throw new Error("Contexts/pre-hash are not supported");return F});function b(F,T,L=!1){const O=L?kt:Wn;Dn("coordinate "+F,T,O,l)}function S(F){if(!(F instanceof g))throw new Error("ExtendedPoint expected")}const w=Rl((F,T)=>{const{ex:L,ey:O,ez:D}=F,G=F.is0();T==null&&(T=G?uB:n.inv(D));const te=u(L*T),ne=u(O*T),ie=u(D*T);if(G)return{x:Wn,y:kt};if(ie!==kt)throw new Error("invZ was invalid");return{x:te,y:ne}}),m=Rl(F=>{const{a:T,d:L}=t;if(F.is0())throw new Error("bad point: ZERO");const{ex:O,ey:D,ez:G,et:te}=F,ne=u(O*O),ie=u(D*D),J=u(G*G),fe=u(J*J),de=u(ne*T),_e=u(J*u(de+ie)),We=u(fe+u(L*u(ne*ie)));if(_e!==We)throw new Error("bad point: equation left != right (1)");const Me=u(O*D),Ge=u(G*te);if(Me!==Ge)throw new Error("bad point: equation left != right (2)");return!0});class g{constructor(T,L,O,D){b("x",T),b("y",L),b("z",O,!0),b("t",D),this.ex=T,this.ey=L,this.ez=O,this.et=D,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof g)throw new Error("extended point not allowed");const{x:L,y:O}=T||{};return b("x",L),b("y",O),new g(L,O,kt,u(L*O))}static normalizeZ(T){const L=n.invertBatch(T.map(O=>O.ez));return T.map((O,D)=>O.toAffine(L[D])).map(g.fromAffine)}static msm(T,L){return wS(g,f,T,L)}_setWindowSize(T){k.setWindowSize(this,T)}assertValidity(){m(this)}equals(T){S(T);const{ex:L,ey:O,ez:D}=this,{ex:G,ey:te,ez:ne}=T,ie=u(L*ne),J=u(G*D),fe=u(O*ne),de=u(te*D);return ie===J&&fe===de}is0(){return this.equals(g.ZERO)}negate(){return new g(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:T}=t,{ex:L,ey:O,ez:D}=this,G=u(L*L),te=u(O*O),ne=u(E1*u(D*D)),ie=u(T*G),J=L+O,fe=u(u(J*J)-G-te),de=ie+te,_e=de-ne,We=ie-te,Me=u(fe*_e),Ge=u(de*We),Ve=u(fe*We),dt=u(_e*de);return new g(Me,Ge,dt,Ve)}add(T){S(T);const{a:L,d:O}=t,{ex:D,ey:G,ez:te,et:ne}=this,{ex:ie,ey:J,ez:fe,et:de}=T,_e=u(D*ie),We=u(G*J),Me=u(ne*O*de),Ge=u(te*fe),Ve=u((D+G)*(ie+J)-_e-We),dt=Ge-Me,$n=Ge+Me,Lc=u(We-L*_e),qo=u(Ve*dt),xd=u($n*Lc),Ed=u(Ve*Lc),Oc=u(dt*$n);return new g(qo,xd,Oc,Ed)}subtract(T){return this.add(T.negate())}wNAF(T){return k.wNAFCached(this,T,g.normalizeZ)}multiply(T){const L=T;Dn("scalar",L,kt,r);const{p:O,f:D}=this.wNAF(L);return g.normalizeZ([O,D])[0]}multiplyUnsafe(T,L=g.ZERO){const O=T;return Dn("scalar",O,Wn,r),O===Wn?C:this.is0()||O===kt?this:k.wNAFCachedUnsafe(this,O,g.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,r).is0()}toAffine(T){return w(this,T)}clearCofactor(){const{h:T}=t;return T===kt?this:this.multiplyUnsafe(T)}static fromHex(T,L=!1){const{d:O,a:D}=t,G=n.BYTES;T=Ke("pointHex",T,G),_i("zip215",L);const te=T.slice(),ne=T[G-1];te[G-1]=ne&-129;const ie=Ra(te),J=L?l:n.ORDER;Dn("pointHex.y",ie,Wn,J);const fe=u(ie*ie),de=u(fe-kt),_e=u(O*fe-D);let{isValid:We,value:Me}=y(de,_e);if(!We)throw new Error("Point.fromHex: invalid y coordinate");const Ge=(Me&kt)===kt,Ve=(ne&128)!==0;if(!L&&Me===Wn&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==Ge&&(Me=u(-Me)),g.fromAffine({x:Me,y:ie})}static fromPrivateKey(T){const{scalar:L}=N(T);return v.multiply(L)}toRawBytes(){const{x:T,y:L}=this.toAffine(),O=zl(L,n.BYTES);return O[O.length-1]|=T&kt?128:0,O}toHex(){return Ao(this.toRawBytes())}}g.BASE=new g(t.Gx,t.Gy,kt,u(t.Gx*t.Gy)),g.ZERO=new g(Wn,kt,kt,Wn);const{BASE:v,ZERO:C}=g,k=yS(g,a*8);function $(F){return Te(F,r)}function I(F){return $(Ra(F))}function N(F){const T=n.BYTES;F=Ke("private key",F,T);const L=Ke("hashed private key",s(F),2*T),O=E(L.slice(0,T)),D=L.slice(T,2*T),G=I(O);return{head:O,prefix:D,scalar:G}}function V(F){const{head:T,prefix:L,scalar:O}=N(F),D=v.multiply(O),G=D.toRawBytes();return{head:T,prefix:L,scalar:O,point:D,pointBytes:G}}function Y(F){return V(F).pointBytes}function R(F=new Uint8Array,...T){const L=Co(...T);return I(s(h(L,Ke("context",F),!!i)))}function ee(F,T,L={}){F=Ke("message",F),i&&(F=i(F));const{prefix:O,scalar:D,pointBytes:G}=V(T),te=R(L.context,O,F),ne=v.multiply(te).toRawBytes(),ie=R(L.context,ne,G,F),J=$(te+ie*D);Dn("signature.s",J,Wn,r);const fe=Co(ne,zl(J,n.BYTES));return Ke("result",fe,n.BYTES*2)}const M=lB;function j(F,T,L,O=M){const{context:D,zip215:G}=O,te=n.BYTES;F=Ke("signature",F,2*te),T=Ke("message",T),L=Ke("publicKey",L,te),G!==void 0&&_i("zip215",G),i&&(T=i(T));const ne=Ra(F.slice(te,2*te));let ie,J,fe;try{ie=g.fromHex(L,G),J=g.fromHex(F.slice(0,te),G),fe=v.multiplyUnsafe(ne)}catch{return!1}if(!G&&ie.isSmallOrder())return!1;const de=R(D,J.toRawBytes(),ie.toRawBytes(),T);return J.add(ie.multiplyUnsafe(de)).subtract(fe).clearCofactor().equals(g.ZERO)}return v._setWindowSize(8),{CURVE:t,getPublicKey:Y,sign:ee,verify:j,ExtendedPoint:g,utils:{getExtendedPublicKey:V,randomPrivateKey:()=>o(n.BYTES),precompute(F=8,T=g.BASE){return T._setWindowSize(F),T.multiply(BigInt(3)),T}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $w=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),S1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hB=BigInt(1),A1=BigInt(2);BigInt(3);const pB=BigInt(5),yB=BigInt(8);function wB(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=$w,a=e*e%s*e%s,c=Re(a,A1,s)*a%s,l=Re(c,hB,s)*e%s,u=Re(l,pB,s)*l%s,f=Re(u,t,s)*u%s,y=Re(f,n,s)*f%s,E=Re(y,r,s)*y%s,h=Re(E,i,s)*E%s,b=Re(h,i,s)*E%s,S=Re(b,t,s)*u%s;return{pow_p_5_8:Re(S,A1,s)*e%s,b2:a}}function gB(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function mB(e,t){const n=$w,r=Te(t*t*t,n),i=Te(r*r*t,n),s=wB(e*i).pow_p_5_8;let o=Te(e*r*s,n);const a=Te(t*o*o,n),c=o,l=Te(o*S1,n),u=a===e,f=a===Te(-e,n),y=a===Te(-e*S1,n);return u&&(o=c),(f||y)&&(o=l),tB(o,n)&&(o=Te(-o,n)),{isValid:u||f,value:o}}const C1=id($w,void 0,!0),bB={a:C1.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:C1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:yB,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qT,randomBytes:sS,adjustScalarBytes:gB,uvRatio:mB},gS=dB(bB),uc=32,oi=64,vB=32;function xB(e,t){const n=e.subarray(0,vB);return gS.sign(t instanceof Uint8Array?t:t.subarray(),n)}function EB(e,t,n){return gS.verify(t,n instanceof Uint8Array?n:n.subarray(),e)}class mS{constructor(t){x(this,"type","Ed25519");x(this,"raw");this.raw=lc(t,uc)}toMultihash(){return bw.digest(Ow(this))}toCID(){return Xf.createV1(114,this.toMultihash())}toString(){return bn.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}verify(t,n){return EB(this.raw,n,t)}}class $1{constructor(t,n){x(this,"type","Ed25519");x(this,"raw");x(this,"publicKey");this.raw=lc(t,oi),this.publicKey=new mS(n)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}sign(t){return xB(this.raw,t)}}function SB(e){if(e.length>oi){e=lc(e,oi+uc);const r=e.subarray(0,oi),i=e.subarray(oi,e.length);return new $1(r,i)}e=lc(e,oi);const t=e.subarray(0,oi),n=e.subarray(uc);return new $1(t,n)}function Iw(e){return e=lc(e,uc),new mS(e)}function lc(e,t){if(e=Uint8Array.from(e??[]),e.length!==t)throw new qe(`Key must be a Uint8Array of length ${t}, got ${e.length}`);return e}const AB=Math.pow(2,7),CB=Math.pow(2,14),$B=Math.pow(2,21),_w=Math.pow(2,28),kw=Math.pow(2,35),Tw=Math.pow(2,42),Bw=Math.pow(2,49),be=128,St=127;function fr(e){if(e<AB)return 1;if(e<CB)return 2;if(e<$B)return 3;if(e<_w)return 4;if(e<kw)return 5;if(e<Tw)return 6;if(e<Bw)return 7;if(Number.MAX_SAFE_INTEGER!=null&&e>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function bS(e,t,n=0){switch(fr(e)){case 8:t[n++]=e&255|be,e/=128;case 7:t[n++]=e&255|be,e/=128;case 6:t[n++]=e&255|be,e/=128;case 5:t[n++]=e&255|be,e/=128;case 4:t[n++]=e&255|be,e>>>=7;case 3:t[n++]=e&255|be,e>>>=7;case 2:t[n++]=e&255|be,e>>>=7;case 1:{t[n++]=e&255,e>>>=7;break}default:throw new Error("unreachable")}return t}function IB(e,t,n=0){switch(fr(e)){case 8:t.set(n++,e&255|be),e/=128;case 7:t.set(n++,e&255|be),e/=128;case 6:t.set(n++,e&255|be),e/=128;case 5:t.set(n++,e&255|be),e/=128;case 4:t.set(n++,e&255|be),e>>>=7;case 3:t.set(n++,e&255|be),e>>>=7;case 2:t.set(n++,e&255|be),e>>>=7;case 1:{t.set(n++,e&255),e>>>=7;break}default:throw new Error("unreachable")}return t}function vS(e,t){let n=e[t],r=0;if(r+=n&St,n<be||(n=e[t+1],r+=(n&St)<<7,n<be)||(n=e[t+2],r+=(n&St)<<14,n<be)||(n=e[t+3],r+=(n&St)<<21,n<be)||(n=e[t+4],r+=(n&St)*_w,n<be)||(n=e[t+5],r+=(n&St)*kw,n<be)||(n=e[t+6],r+=(n&St)*Tw,n<be)||(n=e[t+7],r+=(n&St)*Bw,n<be))return r;throw new RangeError("Could not decode varint")}function _B(e,t){let n=e.get(t),r=0;if(r+=n&St,n<be||(n=e.get(t+1),r+=(n&St)<<7,n<be)||(n=e.get(t+2),r+=(n&St)<<14,n<be)||(n=e.get(t+3),r+=(n&St)<<21,n<be)||(n=e.get(t+4),r+=(n&St)*_w,n<be)||(n=e.get(t+5),r+=(n&St)*kw,n<be)||(n=e.get(t+6),r+=(n&St)*Tw,n<be)||(n=e.get(t+7),r+=(n&St)*Bw,n<be))return r;throw new RangeError("Could not decode varint")}function sd(e,t,n=0){return t==null&&(t=Pi(fr(e))),t instanceof Uint8Array?bS(e,t,n):IB(e,t,n)}function Nc(e,t=0){return e instanceof Uint8Array?vS(e,t):_B(e,t)}const Nw=new Float32Array([-0]),gi=new Uint8Array(Nw.buffer);function kB(e,t,n){Nw[0]=e,t[n]=gi[0],t[n+1]=gi[1],t[n+2]=gi[2],t[n+3]=gi[3]}function TB(e,t){return gi[0]=e[t],gi[1]=e[t+1],gi[2]=e[t+2],gi[3]=e[t+3],Nw[0]}const Pw=new Float64Array([-0]),At=new Uint8Array(Pw.buffer);function BB(e,t,n){Pw[0]=e,t[n]=At[0],t[n+1]=At[1],t[n+2]=At[2],t[n+3]=At[3],t[n+4]=At[4],t[n+5]=At[5],t[n+6]=At[6],t[n+7]=At[7]}function NB(e,t){return At[0]=e[t],At[1]=e[t+1],At[2]=e[t+2],At[3]=e[t+3],At[4]=e[t+4],At[5]=e[t+5],At[6]=e[t+6],At[7]=e[t+7],Pw[0]}const PB=BigInt(Number.MAX_SAFE_INTEGER),UB=BigInt(Number.MIN_SAFE_INTEGER);class $t{constructor(t,n){x(this,"lo");x(this,"hi");this.lo=t|0,this.hi=n|0}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=~this.lo+1>>>0;let r=~this.hi>>>0;return n===0&&(r=r+1>>>0),-(n+r*4294967296)}return this.lo+this.hi*4294967296}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=~this.lo+1>>>0;let r=~this.hi>>>0;return n===0&&(r=r+1>>>0),-(BigInt(n)+(BigInt(r)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?n===0?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}static fromBigInt(t){if(t===0n)return as;if(t<PB&&t>UB)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let r=t>>32n,i=t-(r<<32n);return n&&(r=~r|0n,i=~i|0n,++i>I1&&(i=0n,++r>I1&&(r=0n))),new $t(Number(i),Number(r))}static fromNumber(t){if(t===0)return as;const n=t<0;n&&(t=-t);let r=t>>>0,i=(t-r)/4294967296>>>0;return n&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new $t(r,i)}static from(t){return typeof t=="number"?$t.fromNumber(t):typeof t=="bigint"?$t.fromBigInt(t):typeof t=="string"?$t.fromBigInt(BigInt(t)):t.low!=null||t.high!=null?new $t(t.low>>>0,t.high>>>0):as}}const as=new $t(0,0);as.toBigInt=function(){return 0n};as.zzEncode=as.zzDecode=function(){return this};as.length=function(){return 1};const I1=4294967296n;function LB(e){let t=0,n=0;for(let r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:(n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function OB(e,t,n){if(n-t<1)return"";let i;const s=[];let o=0,a;for(;t<n;)a=e[t++],a<128?s[o++]=a:a>191&&a<224?s[o++]=(a&31)<<6|e[t++]&63:a>239&&a<365?(a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,s[o++]=55296+(a>>10),s[o++]=56320+(a&1023)):s[o++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63,o>8191&&((i??(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i!=null?(o>0&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))}function xS(e,t,n){const r=n;let i,s;for(let o=0;o<e.length;++o)i=e.charCodeAt(o),i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&((s=e.charCodeAt(o+1))&64512)===56320?(i=65536+((i&1023)<<10)+(s&1023),++o,t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128);return n-r}function _n(e,t){return RangeError(`index out of range: ${e.pos} + ${t??1} > ${e.len}`)}function wu(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}class DB{constructor(t){x(this,"buf");x(this,"pos");x(this,"len");x(this,"_slice",Uint8Array.prototype.subarray);this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,_n(this,10);return t}int32(){return this.uint32()|0}sint32(){const t=this.uint32();return t>>>1^-(t&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw _n(this,4);return wu(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw _n(this,4);return wu(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw _n(this,4);const t=TB(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw _n(this,4);const t=NB(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw _n(this,t);return this.pos+=t,n===r?new Uint8Array(0):this.buf.subarray(n,r)}string(){const t=this.bytes();return OB(t,0,t.length)}skip(t){if(typeof t=="number"){if(this.pos+t>this.len)throw _n(this,t);this.pos+=t}else do if(this.pos>=this.len)throw _n(this);while(this.buf[this.pos++]&128);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new $t(0,0);let n=0;if(this.len-this.pos>4){for(;n<4;++n)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;n=0}else{for(;n<3;++n){if(this.pos>=this.len)throw _n(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<n*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<n*7)>>>0,t}if(this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw _n(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<n*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw _n(this,8);const t=wu(this.buf,this.pos+=4),n=wu(this.buf,this.pos+=4);return new $t(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=vS(this.buf,this.pos);return this.pos+=fr(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function zB(e){return new DB(e instanceof Uint8Array?e:e.subarray())}function ES(e,t,n){const r=zB(e);return t.decode(r,void 0,n)}function RB(e){let r,i=8192;return function(o){if(o<1||o>4096)return Pi(o);i+o>8192&&(r=Pi(8192),i=0);const a=r.subarray(i,i+=o);return i&7&&(i=(i|7)+1),a}}class Ia{constructor(t,n,r){x(this,"fn");x(this,"len");x(this,"next");x(this,"val");this.fn=t,this.len=n,this.next=void 0,this.val=r}}function Th(){}class FB{constructor(t){x(this,"head");x(this,"tail");x(this,"len");x(this,"next");this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const MB=RB();function jB(e){return globalThis.Buffer!=null?Pi(e):MB(e)}class cy{constructor(){x(this,"len");x(this,"head");x(this,"tail");x(this,"states");this.len=0,this.head=new Ia(Th,0,0),this.tail=this.head,this.states=null}_push(t,n,r){return this.tail=this.tail.next=new Ia(t,n,r),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new KB((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(gu,10,$t.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=$t.fromBigInt(t);return this._push(gu,n.length(),n)}uint64Number(t){return this._push(bS,fr(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=$t.fromBigInt(t).zzEncode();return this._push(gu,n.length(),n)}sint64Number(t){const n=$t.fromNumber(t).zzEncode();return this._push(gu,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(Bh,1,t?1:0)}fixed32(t){return this._push(wa,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=$t.fromBigInt(t);return this._push(wa,4,n.lo)._push(wa,4,n.hi)}fixed64Number(t){const n=$t.fromNumber(t);return this._push(wa,4,n.lo)._push(wa,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(kB,4,t)}double(t){return this._push(BB,8,t)}bytes(t){const n=t.length>>>0;return n===0?this._push(Bh,1,0):this.uint32(n)._push(HB,n,t)}string(t){const n=LB(t);return n!==0?this.uint32(n)._push(xS,n,t):this._push(Bh,1,0)}fork(){return this.states=new FB(this),this.head=this.tail=new Ia(Th,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ia(Th,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r!==0&&(this.tail.next=t.next,this.tail=n,this.len+=r),this}finish(){let t=this.head.next;const n=jB(this.len);let r=0;for(;t!=null;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n}}function Bh(e,t,n){t[n]=e&255}function VB(e,t,n){for(;e>127;)t[n++]=e&127|128,e>>>=7;t[n]=e}class KB extends Ia{constructor(n,r){super(VB,n,r);x(this,"next");this.next=void 0}}function gu(e,t,n){for(;e.hi!==0;)t[n++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=e.lo&127|128,e.lo=e.lo>>>7;t[n++]=e.lo}function wa(e,t,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function HB(e,t,n){t.set(e,n)}globalThis.Buffer!=null&&(cy.prototype.bytes=function(e){const t=e.length>>>0;return this.uint32(t),t>0&&this._push(qB,t,e),this},cy.prototype.string=function(e){const t=globalThis.Buffer.byteLength(e);return this.uint32(t),t>0&&this._push(WB,t,e),this});function qB(e,t,n){t.set(e,n)}function WB(e,t,n){e.length<40?xS(e,t,n):t.utf8Write!=null?t.utf8Write(e,n):t.set(xe(e),n)}function GB(){return new cy}function SS(e,t){const n=GB();return t.encode(e,n,{lengthDelimited:!1}),n.finish()}var Fl;(function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"})(Fl||(Fl={}));function AS(e,t,n,r){return{name:e,type:t,encode:n,decode:r}}function QB(e){function t(i){if(e[i.toString()]==null)throw new Error("Invalid enum value");return e[i]}const n=function(s,o){const a=t(s);o.int32(a)},r=function(s){const o=s.int32();return t(o)};return AS("enum",Fl.VARINT,n,r)}function CS(e,t){return AS("message",Fl.LENGTH_DELIMITED,e,t)}var tt;(function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.secp256k1="secp256k1",e.ECDSA="ECDSA"})(tt||(tt={}));var uy;(function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.secp256k1=2]="secp256k1",e[e.ECDSA=3]="ECDSA"})(uy||(uy={}));(function(e){e.codec=()=>QB(uy)})(tt||(tt={}));var ys;(function(e){let t;e.codec=()=>(t==null&&(t=CS((n,r,i={})=>{i.lengthDelimited!==!1&&r.fork(),n.Type!=null&&(r.uint32(8),tt.codec().encode(n.Type,r)),n.Data!=null&&(r.uint32(18),r.bytes(n.Data)),i.lengthDelimited!==!1&&r.ldelim()},(n,r,i={})=>{const s={},o=r==null?n.len:n.pos+r;for(;n.pos<o;){const a=n.uint32();switch(a>>>3){case 1:{s.Type=tt.codec().decode(n);break}case 2:{s.Data=n.bytes();break}default:{n.skipType(a&7);break}}}return s})),t),e.encode=n=>SS(n,e.codec()),e.decode=(n,r)=>ES(n,e.codec(),r)})(ys||(ys={}));var _1;(function(e){let t;e.codec=()=>(t==null&&(t=CS((n,r,i={})=>{i.lengthDelimited!==!1&&r.fork(),n.Type!=null&&(r.uint32(8),tt.codec().encode(n.Type,r)),n.Data!=null&&(r.uint32(18),r.bytes(n.Data)),i.lengthDelimited!==!1&&r.ldelim()},(n,r,i={})=>{const s={},o=r==null?n.len:n.pos+r;for(;n.pos<o;){const a=n.uint32();switch(a>>>3){case 1:{s.Type=tt.codec().decode(n);break}case 2:{s.Data=n.bytes();break}default:{n.skipType(a&7);break}}}return s})),t),e.encode=n=>SS(n,e.codec()),e.decode=(n,r)=>ES(n,e.codec(),r)})(_1||(_1={}));/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YB(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Uw(e,...t){if(!YB(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function k1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function JB(e,t){Uw(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ly(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Nh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Gn(e,t){return e<<32-t|e>>>t}function ZB(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $S(e){return typeof e=="string"&&(e=ZB(e)),Uw(e),e}class XB{}function eN(e){const t=r=>e().update($S(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class T1 extends Error{constructor(t="An error occurred while signing a message"){super(t),this.name="SigningError"}}class B1 extends Error{constructor(t="An error occurred while verifying a message"){super(t),this.name="VerificationError"}}class tN extends Error{constructor(t="Missing Web Crypto API"){super(t),this.name="WebCryptoMissingError"}}const Ml={get(e=globalThis){const t=e.crypto;if((t==null?void 0:t.subtle)==null)throw new tN("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p/blob/main/packages/crypto/README.md#web-crypto-api");return t}};function nN(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function rN(e,t,n){return e&t^~e&n}function iN(e,t,n){return e&t^e&n^t&n}class sN extends XB{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=Nh(this.buffer)}update(t){k1(this),t=$S(t),Uw(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Nh(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){k1(this),JB(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,ly(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;nN(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Nh(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ti=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oN=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ni=new Uint32Array(64);class aN extends sN{constructor(t=32){super(64,t,8,!1),this.A=ti[0]|0,this.B=ti[1]|0,this.C=ti[2]|0,this.D=ti[3]|0,this.E=ti[4]|0,this.F=ti[5]|0,this.G=ti[6]|0,this.H=ti[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)ni[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const y=ni[f-15],E=ni[f-2],h=Gn(y,7)^Gn(y,18)^y>>>3,b=Gn(E,17)^Gn(E,19)^E>>>10;ni[f]=b+ni[f-7]+h+ni[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const y=Gn(a,6)^Gn(a,11)^Gn(a,25),E=u+y+rN(a,c,l)+oN[f]+ni[f]|0,b=(Gn(r,2)^Gn(r,13)^Gn(r,22))+iN(r,i,s)|0;u=l,l=c,c=a,a=o+E|0,o=s,s=i,i=r,r=E+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){ly(ni)}destroy(){this.set(0,0,0,0,0,0,0,0),ly(this.buffer)}}const cN=eN(()=>new aN),IS=cN;class _S{constructor(t,n){x(this,"type","RSA");x(this,"jwk");x(this,"_raw");x(this,"_multihash");this.jwk=t,this._multihash=n}get raw(){return this._raw==null&&(this._raw=TS(this.jwk)),this._raw}toMultihash(){return this._multihash}toCID(){return Xf.createV1(114,this._multihash)}toString(){return bn.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}verify(t,n){return EN(this.jwk,n,t)}}class uN{constructor(t,n){x(this,"type","RSA");x(this,"jwk");x(this,"_raw");x(this,"publicKey");this.jwk=t,this.publicKey=n}get raw(){return this._raw==null&&(this._raw=pN(this.jwk)),this._raw}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}sign(t){return xN(this.jwk,t)}}const lN=8192,kS=18,fN=1062,dN=Uint8Array.from([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]);function hN(e){return{n:se(e[1],"base64url"),e:se(e[2],"base64url"),d:se(e[3],"base64url"),p:se(e[4],"base64url"),q:se(e[5],"base64url"),dp:se(e[6],"base64url"),dq:se(e[7],"base64url"),qi:se(e[8],"base64url"),kty:"RSA"}}function pN(e){if(e.n==null||e.e==null||e.d==null||e.p==null||e.q==null||e.dp==null||e.dq==null||e.qi==null)throw new qe("JWK was missing components");return Tr([Yt(Uint8Array.from([0])),Yt(xe(e.n,"base64url")),Yt(xe(e.e,"base64url")),Yt(xe(e.d,"base64url")),Yt(xe(e.p,"base64url")),Yt(xe(e.q,"base64url")),Yt(xe(e.dp,"base64url")),Yt(xe(e.dq,"base64url")),Yt(xe(e.qi,"base64url"))]).subarray()}function yN(e){const t=jo(e[1],{offset:0});return{kty:"RSA",n:se(t[0],"base64url"),e:se(t[1],"base64url")}}function TS(e){if(e.n==null||e.e==null)throw new qe("JWK was missing components");return Tr([dN,vw(Tr([Yt(xe(e.n,"base64url")),Yt(xe(e.e,"base64url"))]))]).subarray()}function wN(e){const t=hN(e);return mN(t)}function gN(e,t){if(e.byteLength>=fN)throw new yw("Key size is too large");const n=jo(e,{offset:0});return BS(n,e,t)}function BS(e,t,n){const r=yN(e);if(n==null){const i=IS(ys.encode({Type:tt.RSA,Data:t}));n=Eo(kS,i)}return new _S(r,n)}function mN(e){if(SN(e)>lN)throw new qe("Key size is too large");const t=bN(e),n=IS(ys.encode({Type:tt.RSA,Data:TS(t.publicKey)})),r=Eo(kS,n);return new uN(t.privateKey,new _S(t.publicKey,r))}function bN(e){if(e==null)throw new qe("Missing key parameter");return{privateKey:e,publicKey:{kty:e.kty,n:e.n,e:e.e}}}const vN="1.2.840.113549.1.1.1";async function xN(e,t){const n=await Ml.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),r=await Ml.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},n,t instanceof Uint8Array?t:t.subarray());return new Uint8Array(r,0,r.byteLength)}async function EN(e,t,n){const r=await Ml.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Ml.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},r,t,n instanceof Uint8Array?n:n.subarray())}function SN(e){if(e.kty!=="RSA")throw new qe("invalid key type");if(e.n==null)throw new qe("invalid key modulus");return xe(e.n,"base64url").length*8}class NS extends rS{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,dT(t);const r=xw(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return Ol(this),this.iHash.update(t),this}digestInto(t){Ol(this),nd(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const PS=(e,t,n)=>new NS(e,t).update(n).digest();PS.create=(e,t)=>new NS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function N1(e){e.lowS!==void 0&&_i("lowS",e.lowS),e.prehash!==void 0&&_i("prehash",e.prehash)}function AN(e){const t=Cw(e);Bc(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}class CN extends Error{constructor(t=""){super(t)}}const Er={Err:CN,_tlv:{encode:(e,t)=>{const{Err:n}=Er;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=yu(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?yu(i.length/2|128):"";return yu(e)+s+i+t},decode(e,t){const{Err:n}=Er;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Er;if(e<Cr)throw new t("integer: negative integers are not allowed");let n=yu(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Er;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return os(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Er,i=Ke("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=Er,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}},Cr=BigInt(0),Ze=BigInt(1);BigInt(2);const P1=BigInt(3);BigInt(4);function $N(e){const t=AN(e),{Fp:n}=t,r=id(t.n,t.nBitLength),i=t.toBytes||((b,S,w)=>{const m=S.toAffine();return Co(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),s=t.fromBytes||(b=>{const S=b.subarray(1),w=n.fromBytes(S.subarray(0,n.BYTES)),m=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:w,y:m}});function o(b){const{a:S,b:w}=t,m=n.sqr(b),g=n.mul(m,b);return n.add(n.add(g,n.mul(b,S)),w)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return Aw(b,Ze,t.n)}function c(b){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:m,n:g}=t;if(S&&typeof b!="bigint"){if(So(b)&&(b=Ao(b)),typeof b!="string"||!S.includes(b.length))throw new Error("invalid private key");b=b.padStart(w*2,"0")}let v;try{v=typeof b=="bigint"?b:os(Ke("private key",b,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof b)}return m&&(v=Te(v,g)),Dn("private key",v,Ze,g),v}function l(b){if(!(b instanceof y))throw new Error("ProjectivePoint expected")}const u=Rl((b,S)=>{const{px:w,py:m,pz:g}=b;if(n.eql(g,n.ONE))return{x:w,y:m};const v=b.is0();S==null&&(S=v?n.ONE:n.inv(g));const C=n.mul(w,S),k=n.mul(m,S),$=n.mul(g,S);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x:C,y:k}}),f=Rl(b=>{if(b.is0()){if(t.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=b.toAffine();if(!n.isValid(S)||!n.isValid(w))throw new Error("bad point: x or y not FE");const m=n.sqr(w),g=o(S);if(!n.eql(m,g))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(S,w,m){if(S==null||!n.isValid(S))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required");this.px=S,this.py=w,this.pz=m,Object.freeze(this)}static fromAffine(S){const{x:w,y:m}=S||{};if(!S||!n.isValid(w)||!n.isValid(m))throw new Error("invalid affine point");if(S instanceof y)throw new Error("projective point not allowed");const g=v=>n.eql(v,n.ZERO);return g(w)&&g(m)?y.ZERO:new y(w,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=n.invertBatch(S.map(m=>m.pz));return S.map((m,g)=>m.toAffine(w[g])).map(y.fromAffine)}static fromHex(S){const w=y.fromAffine(s(Ke("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return y.BASE.multiply(c(S))}static msm(S,w){return wS(y,r,S,w)}_setWindowSize(S){h.setWindowSize(this,S)}assertValidity(){f(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){l(S);const{px:w,py:m,pz:g}=this,{px:v,py:C,pz:k}=S,$=n.eql(n.mul(w,k),n.mul(v,g)),I=n.eql(n.mul(m,k),n.mul(C,g));return $&&I}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:w}=t,m=n.mul(w,P1),{px:g,py:v,pz:C}=this;let k=n.ZERO,$=n.ZERO,I=n.ZERO,N=n.mul(g,g),V=n.mul(v,v),Y=n.mul(C,C),R=n.mul(g,v);return R=n.add(R,R),I=n.mul(g,C),I=n.add(I,I),k=n.mul(S,I),$=n.mul(m,Y),$=n.add(k,$),k=n.sub(V,$),$=n.add(V,$),$=n.mul(k,$),k=n.mul(R,k),I=n.mul(m,I),Y=n.mul(S,Y),R=n.sub(N,Y),R=n.mul(S,R),R=n.add(R,I),I=n.add(N,N),N=n.add(I,N),N=n.add(N,Y),N=n.mul(N,R),$=n.add($,N),Y=n.mul(v,C),Y=n.add(Y,Y),N=n.mul(Y,R),k=n.sub(k,N),I=n.mul(Y,V),I=n.add(I,I),I=n.add(I,I),new y(k,$,I)}add(S){l(S);const{px:w,py:m,pz:g}=this,{px:v,py:C,pz:k}=S;let $=n.ZERO,I=n.ZERO,N=n.ZERO;const V=t.a,Y=n.mul(t.b,P1);let R=n.mul(w,v),ee=n.mul(m,C),M=n.mul(g,k),j=n.add(w,m),W=n.add(v,C);j=n.mul(j,W),W=n.add(R,ee),j=n.sub(j,W),W=n.add(w,g);let F=n.add(v,k);return W=n.mul(W,F),F=n.add(R,M),W=n.sub(W,F),F=n.add(m,g),$=n.add(C,k),F=n.mul(F,$),$=n.add(ee,M),F=n.sub(F,$),N=n.mul(V,W),$=n.mul(Y,M),N=n.add($,N),$=n.sub(ee,N),N=n.add(ee,N),I=n.mul($,N),ee=n.add(R,R),ee=n.add(ee,R),M=n.mul(V,M),W=n.mul(Y,W),ee=n.add(ee,M),M=n.sub(R,M),M=n.mul(V,M),W=n.add(W,M),R=n.mul(ee,W),I=n.add(I,R),R=n.mul(F,W),$=n.mul(j,$),$=n.sub($,R),R=n.mul(j,ee),N=n.mul(F,N),N=n.add(N,R),new y($,I,N)}subtract(S){return this.add(S.negate())}is0(){return this.equals(y.ZERO)}wNAF(S){return h.wNAFCached(this,S,y.normalizeZ)}multiplyUnsafe(S){const{endo:w,n:m}=t;Dn("scalar",S,Cr,m);const g=y.ZERO;if(S===Cr)return g;if(this.is0()||S===Ze)return this;if(!w||h.hasPrecomputes(this))return h.wNAFCachedUnsafe(this,S,y.normalizeZ);let{k1neg:v,k1:C,k2neg:k,k2:$}=w.splitScalar(S),I=g,N=g,V=this;for(;C>Cr||$>Cr;)C&Ze&&(I=I.add(V)),$&Ze&&(N=N.add(V)),V=V.double(),C>>=Ze,$>>=Ze;return v&&(I=I.negate()),k&&(N=N.negate()),N=new y(n.mul(N.px,w.beta),N.py,N.pz),I.add(N)}multiply(S){const{endo:w,n:m}=t;Dn("scalar",S,Ze,m);let g,v;if(w){const{k1neg:C,k1:k,k2neg:$,k2:I}=w.splitScalar(S);let{p:N,f:V}=this.wNAF(k),{p:Y,f:R}=this.wNAF(I);N=h.constTimeNegate(C,N),Y=h.constTimeNegate($,Y),Y=new y(n.mul(Y.px,w.beta),Y.py,Y.pz),g=N.add(Y),v=V.add(R)}else{const{p:C,f:k}=this.wNAF(S);g=C,v=k}return y.normalizeZ([g,v])[0]}multiplyAndAddUnsafe(S,w,m){const g=y.BASE,v=(k,$)=>$===Cr||$===Ze||!k.equals(g)?k.multiplyUnsafe($):k.multiply($),C=v(this,w).add(v(S,m));return C.is0()?void 0:C}toAffine(S){return u(this,S)}isTorsionFree(){const{h:S,isTorsionFree:w}=t;if(S===Ze)return!0;if(w)return w(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=t;return S===Ze?this:w?w(y,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return _i("isCompressed",S),this.assertValidity(),i(y,this,S)}toHex(S=!0){return _i("isCompressed",S),Ao(this.toRawBytes(S))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const E=t.nBitLength,h=yS(y,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function IN(e){const t=Cw(e);return Bc(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function _N(e){const t=IN(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(M){return Te(M,r)}function a(M){return oy(M,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:f}=$N({...t,toBytes(M,j,W){const F=j.toAffine(),T=n.toBytes(F.x),L=Co;return _i("isCompressed",W),W?L(Uint8Array.from([j.hasEvenY()?2:3]),T):L(Uint8Array.from([4]),T,n.toBytes(F.y))},fromBytes(M){const j=M.length,W=M[0],F=M.subarray(1);if(j===i&&(W===2||W===3)){const T=os(F);if(!Aw(T,Ze,n.ORDER))throw new Error("Point is not on curve");const L=u(T);let O;try{O=n.sqrt(L)}catch(te){const ne=te instanceof Error?": "+te.message:"";throw new Error("Point is not on curve"+ne)}const D=(O&Ze)===Ze;return(W&1)===1!==D&&(O=n.neg(O)),{x:T,y:O}}else if(j===s&&W===4){const T=n.fromBytes(F.subarray(0,n.BYTES)),L=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:T,y:L}}else{const T=i,L=s;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+L+", got "+j)}}}),y=M=>Ao(cc(M,t.nByteLength));function E(M){const j=r>>Ze;return M>j}function h(M){return E(M)?o(-M):M}const b=(M,j,W)=>os(M.slice(j,W));class S{constructor(j,W,F){Dn("r",j,Ze,r),Dn("s",W,Ze,r),this.r=j,this.s=W,F!=null&&(this.recovery=F),Object.freeze(this)}static fromCompact(j){const W=t.nByteLength;return j=Ke("compactSignature",j,W*2),new S(b(j,0,W),b(j,W,2*W))}static fromDER(j){const{r:W,s:F}=Er.toSig(Ke("DER",j));return new S(W,F)}assertValidity(){}addRecoveryBit(j){return new S(this.r,this.s,j)}recoverPublicKey(j){const{r:W,s:F,recovery:T}=this,L=k(Ke("msgHash",j));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const O=T===2||T===3?W+t.n:W;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=T&1?"03":"02",G=c.fromHex(D+y(O)),te=a(O),ne=o(-L*te),ie=o(F*te),J=c.BASE.multiplyAndAddUnsafe(G,ne,ie);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Dl(this.toDERHex())}toDERHex(){return Er.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Dl(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const w={isValidPrivateKey(M){try{return l(M),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const M=dS(t.n);return oB(t.randomBytes(M),t.n)},precompute(M=8,j=c.BASE){return j._setWindowSize(M),j.multiply(BigInt(3)),j}};function m(M,j=!0){return c.fromPrivateKey(M).toRawBytes(j)}function g(M){const j=So(M),W=typeof M=="string",F=(j||W)&&M.length;return j?F===i||F===s:W?F===2*i||F===2*s:M instanceof c}function v(M,j,W=!0){if(g(M))throw new Error("first arg must be private key");if(!g(j))throw new Error("second arg must be public key");return c.fromHex(j).multiply(l(M)).toRawBytes(W)}const C=t.bits2int||function(M){if(M.length>8192)throw new Error("input is too large");const j=os(M),W=M.length*8-t.nBitLength;return W>0?j>>BigInt(W):j},k=t.bits2int_modN||function(M){return o(C(M))},$=rd(t.nBitLength);function I(M){return Dn("num < 2^"+t.nBitLength,M,Cr,$),cc(M,t.nByteLength)}function N(M,j,W=V){if(["recovered","canonical"].some(de=>de in W))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:T}=t;let{lowS:L,prehash:O,extraEntropy:D}=W;L==null&&(L=!0),M=Ke("msgHash",M),N1(W),O&&(M=Ke("prehashed msgHash",F(M)));const G=k(M),te=l(j),ne=[I(te),I(G)];if(D!=null&&D!==!1){const de=D===!0?T(n.BYTES):D;ne.push(Ke("extraEntropy",de))}const ie=Co(...ne),J=G;function fe(de){const _e=C(de);if(!f(_e))return;const We=a(_e),Me=c.BASE.multiply(_e).toAffine(),Ge=o(Me.x);if(Ge===Cr)return;const Ve=o(We*o(J+Ge*te));if(Ve===Cr)return;let dt=(Me.x===Ge?0:2)|Number(Me.y&Ze),$n=Ve;return L&&E(Ve)&&($n=h(Ve),dt^=1),new S(Ge,$n,dt)}return{seed:ie,k2sig:fe}}const V={lowS:t.lowS,prehash:!1},Y={lowS:t.lowS,prehash:!1};function R(M,j,W=V){const{seed:F,k2sig:T}=N(M,j,W),L=t;return QT(L.hash.outputLen,L.nByteLength,L.hmac)(F,T)}c.BASE._setWindowSize(8);function ee(M,j,W,F=Y){var dt;const T=M;j=Ke("msgHash",j),W=Ke("publicKey",W);const{lowS:L,prehash:O,format:D}=F;if(N1(F),"strict"in F)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const G=typeof T=="string"||So(T),te=!G&&!D&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!G&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ne,ie;try{if(te&&(ne=new S(T.r,T.s)),G){try{D!=="compact"&&(ne=S.fromDER(T))}catch($n){if(!($n instanceof Er.Err))throw $n}!ne&&D!=="der"&&(ne=S.fromCompact(T))}ie=c.fromHex(W)}catch{return!1}if(!ne||L&&ne.hasHighS())return!1;O&&(j=t.hash(j));const{r:J,s:fe}=ne,de=k(j),_e=a(fe),We=o(de*_e),Me=o(J*_e),Ge=(dt=c.BASE.multiplyAndAddUnsafe(ie,We,Me))==null?void 0:dt.toAffine();return Ge?o(Ge.x)===J:!1}return{CURVE:t,getPublicKey:m,getSharedSecret:v,sign:R,verify:ee,ProjectivePoint:c,Signature:S,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kN(e){return{hash:e,hmac:(t,...n)=>PS(e,t,yT(...n)),randomBytes:sS}}function TN(e,t){const n=r=>_N({...e,...kN(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const US=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),U1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BN=BigInt(1),fy=BigInt(2),L1=(e,t)=>(e+t/fy)/t;function NN(e){const t=US,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,f=Re(u,n,t)*u%t,y=Re(f,n,t)*u%t,E=Re(y,fy,t)*l%t,h=Re(E,i,t)*E%t,b=Re(h,s,t)*h%t,S=Re(b,a,t)*b%t,w=Re(S,c,t)*S%t,m=Re(w,a,t)*b%t,g=Re(m,n,t)*u%t,v=Re(g,o,t)*h%t,C=Re(v,r,t)*l%t,k=Re(C,fy,t);if(!dy.eql(dy.sqr(k),e))throw new Error("Cannot find square root");return k}const dy=id(US,void 0,void 0,{sqrt:NN}),ar=TN({a:BigInt(0),b:BigInt(7),Fp:dy,n:U1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=U1,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-BN*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=L1(s*e,t),c=L1(-r*e,t);let l=Te(e-a*n-c*i,t),u=Te(-a*r-c*s,t);const f=l>o,y=u>o;if(f&&(l=t-l),y&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:y,k2:u}}}},xT);BigInt(0);ar.ProjectivePoint;function PN({name:e,code:t,encode:n}){return new UN(e,t,n)}let UN=class{constructor(t,n,r){x(this,"name");x(this,"code");x(this,"encode");this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Eo(this.code,n):n.then(r=>Eo(this.code,r))}else throw Error("Unknown type, must be binary type")}};function LN(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}const LS=PN({name:"sha2-256",code:18,encode:LN("SHA-256")});function OS(e){return e==null?!1:typeof e.then=="function"&&typeof e.catch=="function"&&typeof e.finally=="function"}const ON=33,DN=32;function zN(e,t){const n=LS.digest(t instanceof Uint8Array?t:t.subarray());if(OS(n))return n.then(({digest:r})=>ar.sign(r,e).toDERRawBytes()).catch(r=>{throw new T1(String(r))});try{return ar.sign(n.digest,e).toDERRawBytes()}catch(r){throw new T1(String(r))}}function RN(e,t,n){const r=LS.digest(n instanceof Uint8Array?n:n.subarray());if(OS(r))return r.then(({digest:i})=>ar.verify(t,i,e)).catch(i=>{throw new B1(String(i))});try{return ar.verify(t,r.digest,e)}catch(i){throw new B1(String(i))}}class DS{constructor(t){x(this,"type","secp256k1");x(this,"raw");x(this,"_key");this._key=KN(t),this.raw=jN(this._key)}toMultihash(){return bw.digest(Ow(this))}toCID(){return Xf.createV1(114,this.toMultihash())}toString(){return bn.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}verify(t,n){return RN(this._key,n,t)}}class zS{constructor(t,n){x(this,"type","secp256k1");x(this,"raw");x(this,"publicKey");this.raw=VN(t),this.publicKey=new DS(n??HN(t))}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:An(this.raw,t.raw)}sign(t){return zN(this.raw,t)}}function FN(e){return new zS(e)}function Lw(e){return new DS(e)}async function MN(){const e=qN();return new zS(e)}function jN(e){return ar.ProjectivePoint.fromHex(e).toRawBytes(!0)}function VN(e){try{return ar.getPublicKey(e,!0),e}catch(t){throw new ww(String(t))}}function KN(e){try{return ar.ProjectivePoint.fromHex(e),e}catch(t){throw new yw(String(t))}}function HN(e){try{return ar.getPublicKey(e,!0)}catch(t){throw new ww(String(t))}}function qN(){return ar.utils.randomPrivateKey()}async function WN(e,t){return MN()}function GN(e,t){const{Type:n,Data:r}=ys.decode(e),i=r??new Uint8Array;switch(n){case tt.RSA:return gN(i,t);case tt.Ed25519:return Iw(i);case tt.secp256k1:return Lw(i);case tt.ECDSA:return eS(i);default:throw new gw}}function QN(e){var r,i;if(e.byteLength===uc)return Iw(e);if(e.byteLength===ON)return Lw(e);const t=jo(e),n=(r=t[1])==null?void 0:r[0];if(n===G2||n===Q2||n===Y2)return tS(t);if(((i=t[0])==null?void 0:i[0])===vN)return BS(t,e);throw new qe("Could not extract public key from raw bytes")}function YN(e){const{Type:t,Data:n}=ys.decode(e.digest),r=n??new Uint8Array;switch(t){case tt.Ed25519:return Iw(r);case tt.secp256k1:return Lw(r);case tt.ECDSA:return eS(r);default:throw new gw}}function Ow(e){return ys.encode({Type:tt[e.type],Data:e.raw})}function O1(e){var r;if(e.byteLength===oi)return SB(e);if(e.byteLength===DN)return FN(e);const t=jo(e),n=(r=t[2])==null?void 0:r[0];if(n===G2||n===Q2||n===Y2)return cT(t);if(t.length>8)return wN(t);throw new qe("Could not extract private key from raw bytes")}function JN(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}const ZN=async(e,t,n)=>{if(!e)throw new Error("No signature given");if(!t)throw new Error("Given publicKey was undefined");if(!n)throw new Error("Given input data was undefined");n instanceof Uint8Array||(n=typeof n=="string"?xe(n):new Uint8Array(n));const r=(s,o,a)=>s.verify(o,a);let i=!1;try{const s=QN(xe(t,"base16"));i=await r(s,n,xe(e,"base16"))}catch{}return Promise.resolve(i)},hy=async(e,t)=>{if(!e)throw new Error("No signing key given");if(!t)throw new Error("Given input data was undefined");return t instanceof Uint8Array||(t=typeof t=="string"?xe(t):new Uint8Array(t)),se(await e.sign(t),"base16")},XN=or({size:1e3}),RS=async(e,t,n)=>{const r=await XN,i=await r.get(e);let s=!1;if(i){const o=(a,c)=>c instanceof Uint8Array?JN(a,c)===0:a.toString()===c.toString();s=i.publicKey===t&&o(i.data,n)}else{const o=await ZN(e,t,n);s=o,o&&await r.put(e,{publicKey:t,data:n})}return s},eP="./keystore",FS=async({storage:e,path:t}={})=>{e=e||await is(await or({size:1e3}),await Jp({path:t||eP}));const n=await or({size:1e3}),r=async()=>{await e.close(),await n.close()},i=async()=>{await e.clear(),await n.clear()},s=async u=>{if(!u)throw new Error("id needed to check a key");let f=!1,y=await n.get(u);if(y)f=!0;else try{y=await e.get("private_"+u),f=y!=null}catch{console.error("Error: ENOENT: no such file or directory")}return f},o=async(u,f)=>{const{privateKey:y}=f;await e.put("private_"+u,y);const E=O1(y);await n.put(u,E)};return{clear:i,close:r,hasKey:s,addKey:o,createKey:async u=>{if(!u)throw new Error("id needed to create a key");const f=await WN(),y={publicKey:f.publicKey.raw,privateKey:f.raw};return await o(u,y),f},getKey:async u=>{if(!u)throw new Error("id needed to get a key");let f=await n.get(u);if(!f){let y;try{y=await e.get("private_"+u)}catch{}if(!y)return;f=O1(y),await n.put(u,f)}return f},getPublic:(u,f={})=>{const y=["hex","buffer"],E=f.format||"hex";if(y.indexOf(E)===-1)throw new Error("Supported formats are `hex` and `buffer`");const h=u.publicKey.raw;return E==="buffer"?h:se(h,"base16")}}},MS=Cc,jS=Ff,tP=Pt,VS=async({id:e,publicKey:t,signatures:n,type:r,sign:i,verify:s}={})=>{if(!e)throw new Error("Identity id is required");if(!t)throw new Error("Invalid public key");if(!n)throw new Error("Signatures object is required");if(!n.id)throw new Error("Signature of id is required");if(!n.publicKey)throw new Error("Signature of publicKey+id is required");if(!r)throw new Error("Identity type is required");n=Object.assign({},n);const o={id:e,publicKey:t,signatures:n,type:r,sign:i,verify:s},{hash:a,bytes:c}=await nP(o);return o.hash=a,o.bytes=c,o},nP=async e=>{const{id:t,publicKey:n,signatures:r,type:i}=e,s={id:t,publicKey:n,signatures:r,type:i},{cid:o,bytes:a}=await Oo({value:s,codec:MS,hasher:jS});return{hash:o.toString(tP),bytes:Uint8Array.from(a)}},rP=async e=>{const{value:t}=await Lf({bytes:e,codec:MS,hasher:jS});return VS({...t})},iP=e=>!!(e.id&&e.hash&&e.bytes&&e.publicKey&&e.signatures&&e.signatures.id&&e.signatures.publicKey&&e.type),sP=(e,t)=>e.id===t.id&&e.hash===t.hash&&e.type===t.type&&e.publicKey===t.publicKey&&e.signatures.id===t.signatures.id&&e.signatures.publicKey===t.signatures.publicKey,KS="publickey",oP=async e=>{const{id:t,publicKey:n,signatures:r}=e;return RS(r.publicKey,t,n+r.id)},Dw=({keystore:e})=>async()=>{if(!e)throw new Error("PublicKeyIdentityProvider requires a keystore parameter");return{type:KS,getId:async({id:r}={})=>{if(!r)throw new Error("id is required");const i=await e.getKey(r)||await e.createKey(r);return se(i.publicKey.raw,"base16")},signIdentity:async(r,{id:i}={})=>{if(!i)throw new Error("id is required");const s=await e.getKey(i);if(!s)throw new Error(`Signing key for '${i}' not found`);return hy(s,r)}}};Dw.verifyIdentity=oP;Dw.type=KS;const zw={},aP=e=>Object.keys(zw).includes(e),Ph=e=>{if(!aP(e))throw new Error(`IdentityProvider type '${e}' is not supported`);return zw[e]},cP=e=>{if(!e.type||typeof e.type!="string")throw new Error("Given IdentityProvider doesn't have a field 'type'.");if(!e.verifyIdentity)throw new Error("Given IdentityProvider doesn't have a function 'verifyIdentity'.");zw[e.type]=e};cP(Dw);const uP=$i("./orbitdb","identities"),lP=async({keystore:e,path:t,storage:n,ipfs:r}={})=>{e=e||await FS({path:t||uP}),n||(n=r?await is(await or({size:1e3}),await Vf({ipfs:r,pin:!0})):await tw());const i=await or({size:1e3}),s=async u=>{const f=await n.get(u);if(f)return rP(f)},o=async(u={})=>{u.keystore=e;const f=Ph("publickey"),E=await(u.provider||f({keystore:e}))();if(!Ph(E.type))throw new Error("Identity provider is unknown. Use useIdentityProvider(provider) to register the identity provider");const h=await E.getId(u),b=await e.getKey(h)||await e.createKey(h),S=e.getPublic(b),w=await hy(b,h),m=await E.signIdentity(S+w,u),v=await VS({id:h,publicKey:S,signatures:{id:w,publicKey:m},type:E.type,sign:c,verify:l});return await n.put(v.hash,v.bytes),v},a=async u=>{if(!iP(u))return!1;const{id:f,publicKey:y,signatures:E}=u;if(!await l(E.id,y,f))return!1;const b=await i.get(E.id);if(b)return sP(u,b);const w=await Ph(u.type).verifyIdentity(u);return w&&await i.put(E.id,u),w},c=async(u,f)=>{const y=await e.getKey(u.id);if(!y)throw new Error("Private signing key not found from KeyStore");return await hy(y,f)},l=async(u,f,y)=>await RS(u,f,y);return{createIdentity:o,verifyIdentity:a,getIdentity:s,sign:c,verify:l,keystore:e}},fP=e=>{if(e=e.toString(),!e.startsWith("/orbitdb")&&!e.startsWith("\\orbitdb"))return!1;e=e.replaceAll("/orbitdb/",""),e=e.replaceAll("\\orbitdb\\",""),e=e.replaceAll("/",""),e=e.replaceAll("\\","");let t;try{t=Mn.parse(e,Pt)}catch{return!1}return t!==void 0},D1=e=>{if(e&&e.protocol==="orbitdb"&&e.hash)return e;const t="orbitdb",n=e.replace("/orbitdb/","").replace("\\orbitdb\\","");return{protocol:t,hash:n,address:e,toString:()=>$i("/",t,n)}},z1=Cc,R1=Ff,dP=Pt,hP=async({ipfs:e,storage:t}={})=>(t=t||await is(await or({size:1e5}),await Vf({ipfs:e,pin:!0})),{get:async s=>{const o=await t.get(s),{value:a}=await Lf({bytes:o,codec:z1,hasher:R1});return a&&await t.put(s,o),a},create:async({name:s,type:o,accessController:a,meta:c})=>{if(!s)throw new Error("name is required");if(!o)throw new Error("type is required");if(!a)throw new Error("accessController is required");const l=Object.assign({name:s,type:o,accessController:a},c!==void 0?{meta:c}:{}),{cid:u,bytes:f}=await Oo({value:l,codec:z1,hasher:R1}),y=u.toString(dP);return await t.put(y,f),{hash:y,manifest:l}},close:async()=>{await t.close()}}),HS=async(e=32)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="",r=0;for(;r<e;)n+=t.charAt(Math.floor(Math.random()*t.length)),r+=1;return n},qS=Cc,WS=Ff,pP=Pt,yP=async({storage:e,type:t,params:n})=>{const r={type:t,...n},{cid:i,bytes:s}=await Oo({value:r,codec:qS,hasher:WS}),o=i.toString(pP);return await e.put(o,s),o},Vu="ipfs",od=({write:e,storage:t}={})=>async({orbitdb:n,identities:r,address:i})=>{if(t=t||await is(await or({size:1e3}),await Vf({ipfs:n.ipfs,pin:!0})),e=e||[n.identity.id],i){const o=await t.get(i.replaceAll("/ipfs/","")),{value:a}=await Lf({bytes:o,codec:qS,hasher:WS});e=a.write}else i=await yP({storage:t,type:Vu,params:{write:e}}),i=$i("/",Vu,i);return{type:Vu,address:i,write:e,canAppend:async o=>{const a=await r.getIdentity(o.identity);if(!a)return!1;const{id:c}=a;return e.includes(c)||e.includes("*")?await r.verifyIdentity(a):!1}}};od.type=Vu;const GS="orbitdb",QS=({write:e}={})=>async({orbitdb:t,identities:n,address:r,name:i})=>{r=r||i||await HS(64),e=e||[t.identity.id];const s=await t.open(r,{type:"keyvalue",AccessController:od({write:e})});r=s.address;const o=async h=>{const b=await n.getIdentity(h.identity);if(!b)return!1;const{id:S}=b;return await f("write",S)||await f("admin",S)?await n.verifyIdentity(b):!1},a=async()=>{const h=[];for await(const S of s.iterator())h[S.key]=S.value;const b=S=>{const w=S[0];h[w]=new Set([...h[w]||[],...S[1]])};return Object.entries({...h,admin:new Set([...h.admin||[],...s.access.write])}).forEach(b),h},c=async h=>(await a())[h]||new Set([]),l=async()=>{await s.close()},u=async()=>{await s.drop()},f=async(h,b)=>{const S=new Set(await c(h));return S.has(b)||S.has("*")};return{type:GS,address:r,write:e,canAppend:o,capabilities:a,get:c,grant:async(h,b)=>{const S=new Set([...await s.get(h)||[],b]);await s.put(h,Array.from(S.values()))},revoke:async(h,b)=>{const S=new Set(await s.get(h)||[]);S.delete(b),S.size>0?await s.put(h,Array.from(S.values())):await s.del(h)},close:l,drop:u,events:s.events}};QS.type=GS;const py={},wP=e=>{if(!py[e])throw new Error(`AccessController type '${e}' is not supported`);return py[e]},YS=e=>{if(!e.type)throw new Error("AccessController does not contain required field 'type'.");py[e.type]=e};YS(od);YS(QS);const gP="events",mP=od,bP=async({ipfs:e,id:t,identity:n,identities:r,directory:i}={})=>{if(e==null)throw new Error("IPFS instance is a required argument.");t=t||await HS();const s=e.libp2p.peerId;i=i||"./orbitdb";let o;r?o=r.keystore:(o=await FS({path:$i(i,"./keystore")}),r=await lP({ipfs:e,keystore:o})),n?n.provider&&(n=await r.createIdentity({...n})):n=await r.createIdentity({id:t});const a=await hP({ipfs:e});let c={};const l=async(y,{type:E,meta:h,sync:b,Database:S,AccessController:w,headsStorage:m,entryStorage:g,indexStorage:v,referencesCount:C}={})=>{let k,$,I;if(c[y])return c[y];if(fP(y)){const V=D1(y);$=await a.get(V.hash);const Y=$.accessController.split("/",2).pop();w=wP(Y)(),I=await w({orbitdb:{open:l,identity:n,ipfs:e},identities:r,address:$.accessController}),k=$.name,E=E||$.type,h=$.meta}else{E=E||gP,w=w||mP(),I=await w({orbitdb:{open:l,identity:n,ipfs:e},identities:r,name:y});const V=await a.create({name:y,type:E,accessController:I.address,meta:h});if($=V.manifest,y=D1(V.hash),k=$.name,h=$.meta,c[y])return c[y]}if(S=S||w_(E)(),!S)throw new Error(`Unsupported database type: '${E}'`);y=y.toString();const N=await S({ipfs:e,identity:n,address:y,name:k,access:I,directory:i,meta:h,syncAutomatically:b,headsStorage:m,entryStorage:g,indexStorage:v,referencesCount:C});return N.events.on("close",u(y)),c[y]=N,N},u=y=>()=>{delete c[y]};return{id:t,open:l,stop:async()=>{for(const y of Object.values(c))await y.close();o&&await o.close(),a&&await a.close(),c={}},ipfs:e,directory:i,keystore:o,identities:r,identity:n,peerId:s}};class vP{constructor(){x(this,"index",0);x(this,"input","")}new(t){return this.index=0,this.input=t,this}readAtomically(t){const n=this.index,r=t();return r===void 0&&(this.index=n),r}parseWith(t){const n=t();if(this.index===this.input.length)return n}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{const n=this.readChar();if(n===t)return n})}readSeparator(t,n,r){return this.readAtomically(()=>{if(!(n>0&&this.readGivenChar(t)===void 0))return r()})}readNumber(t,n,r,i){return this.readAtomically(()=>{let s=0,o=0;const a=this.peekChar();if(a===void 0)return;const c=a==="0",l=2**(8*i)-1;for(;;){const u=this.readAtomically(()=>{const f=this.readChar();if(f===void 0)return;const y=Number.parseInt(f,t);if(!Number.isNaN(y))return y});if(u===void 0)break;if(s*=t,s+=u,s>l||(o+=1,n!==void 0&&o>n))return}if(o!==0)return!r&&c&&o>1?void 0:s})}readIPv4Addr(){return this.readAtomically(()=>{const t=new Uint8Array(4);for(let n=0;n<t.length;n++){const r=this.readSeparator(".",n,()=>this.readNumber(10,3,!1,1));if(r===void 0)return;t[n]=r}return t})}readIPv6Addr(){const t=n=>{for(let r=0;r<n.length/2;r++){const i=r*2;if(r<n.length-3){const o=this.readSeparator(":",r,()=>this.readIPv4Addr());if(o!==void 0)return n[i]=o[0],n[i+1]=o[1],n[i+2]=o[2],n[i+3]=o[3],[i+4,!0]}const s=this.readSeparator(":",r,()=>this.readNumber(16,4,!0,2));if(s===void 0)return[i,!1];n[i]=s>>8,n[i+1]=s&255}return[n.length,!1]};return this.readAtomically(()=>{const n=new Uint8Array(16),[r,i]=t(n);if(r===16)return n;if(i||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const s=new Uint8Array(14),o=16-(r+2),[a]=t(s.subarray(0,o));return n.set(s.subarray(0,a),16-a),n})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const JS=45,xP=15,$o=new vP;function EP(e){if(!(e.length>xP))return $o.new(e).parseWith(()=>$o.readIPv4Addr())}function SP(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>JS))return $o.new(e).parseWith(()=>$o.readIPv6Addr())}function AP(e,t=!1){if(e.includes("%")&&(e=e.split("%")[0]),e.length>JS)return;const n=$o.new(e).parseWith(()=>$o.readIPAddr());if(n)return t&&n.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,n[0],n[1],n[2],n[3]]):n}function CP(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Rw(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function $P(e){return new TextEncoder().encode(e)}function IP(e){return new TextDecoder().decode(e)}function _P(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var kP=_P,TP=kP;let BP=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},NP=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ZS(this,t)}},PP=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return ZS(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function ZS(e,t){return new PP({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let UP=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new BP(t,n,r),this.decoder=new NP(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function ad({name:e,prefix:t,encode:n,decode:r}){return new UP(e,t,n,r)}function Pc({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=TP(n,e);return ad({prefix:t,name:e,encode:r,decode:s=>Rw(i(s))})}function LP(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function OP(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function ut({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return ad({prefix:t,name:e,encode(i){return OP(i,r,n)},decode(i){return LP(i,r,n,e)}})}const cs=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),DP=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zP=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),RP=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),FP=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),MP=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jP=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),VP=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),KP=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),HP=Object.freeze(Object.defineProperty({__proto__:null,base32:cs,base32hex:FP,base32hexpad:jP,base32hexpadupper:VP,base32hexupper:MP,base32pad:zP,base32padupper:RP,base32upper:DP,base32z:KP},Symbol.toStringTag,{value:"Module"})),On=Pc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qP=Pc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),WP=Object.freeze(Object.defineProperty({__proto__:null,base58btc:On,base58flickr:qP},Symbol.toStringTag,{value:"Module"})),GP=Pc({prefix:"9",name:"base10",alphabet:"0123456789"}),QP=Object.freeze(Object.defineProperty({__proto__:null,base10:GP},Symbol.toStringTag,{value:"Module"})),YP=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),JP=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ZP=Object.freeze(Object.defineProperty({__proto__:null,base16:YP,base16upper:JP},Symbol.toStringTag,{value:"Module"})),XP=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),eU=Object.freeze(Object.defineProperty({__proto__:null,base2:XP},Symbol.toStringTag,{value:"Module"})),XS=Array.from(""),tU=XS.reduce((e,t,n)=>(e[n]=t,e),[]),nU=XS.reduce((e,t,n)=>{const r=t.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${t}`);return e[r]=n,e},[]);function rU(e){return e.reduce((t,n)=>(t+=tU[n],t),"")}function iU(e){const t=[];for(const n of e){const r=n.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${n}`);const i=nU[r];if(i==null)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}const sU=ad({prefix:"",name:"base256emoji",encode:rU,decode:iU}),oU=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:sU},Symbol.toStringTag,{value:"Module"})),Ku=Pc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aU=Pc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),cU=Object.freeze(Object.defineProperty({__proto__:null,base36:Ku,base36upper:aU},Symbol.toStringTag,{value:"Module"})),uU=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lU=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fU=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dU=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),hU=Object.freeze(Object.defineProperty({__proto__:null,base64:uU,base64pad:lU,base64url:fU,base64urlpad:dU},Symbol.toStringTag,{value:"Module"})),pU=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),yU=Object.freeze(Object.defineProperty({__proto__:null,base8:pU},Symbol.toStringTag,{value:"Module"})),wU=ad({prefix:"\0",name:"identity",encode:e=>IP(e),decode:e=>$P(e)}),gU=Object.freeze(Object.defineProperty({__proto__:null,identity:wU},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;var mU=e8,F1=128,bU=-128,vU=Math.pow(2,31);function e8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=vU;)t[n++]=e&255|F1,e/=128;for(;e&bU;)t[n++]=e&255|F1,e>>>=7;return t[n]=e|0,e8.bytes=n-r+1,t}var xU=yy,EU=128,M1=127;function yy(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw yy.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&M1)<<i:(o&M1)*Math.pow(2,i),i+=7}while(o>=EU);return yy.bytes=s-r,n}var SU=Math.pow(2,7),AU=Math.pow(2,14),CU=Math.pow(2,21),$U=Math.pow(2,28),IU=Math.pow(2,35),_U=Math.pow(2,42),kU=Math.pow(2,49),TU=Math.pow(2,56),BU=Math.pow(2,63),NU=function(e){return e<SU?1:e<AU?2:e<CU?3:e<$U?4:e<IU?5:e<_U?6:e<kU?7:e<TU?8:e<BU?9:10},PU={encode:mU,decode:xU,encodingLength:NU},jl=PU;function wy(e,t=0){return[jl.decode(e,t),jl.decode.bytes]}function Vl(e,t,n=0){return jl.encode(e,t,n),t}function Kl(e){return jl.encodingLength(e)}function UU(e,t){const n=t.byteLength,r=Kl(e),i=r+Kl(n),s=new Uint8Array(i+n);return Vl(e,s,0),Vl(n,s,r),s.set(t,i),new Fw(e,n,t,s)}function t8(e){const t=Rw(e),[n,r]=wy(t),[i,s]=wy(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Fw(n,i,o,t)}function LU(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&CP(e.bytes,n.bytes)}}let Fw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function j1(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return DU(n,gy(e),t??On.encoder);default:return zU(n,gy(e),t??cs.encoder)}}const V1=new WeakMap;function gy(e){const t=V1.get(e);if(t==null){const n=new Map;return V1.set(e,n),n}return t}var Qb;let n8=class mt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,Qb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ga)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==RU)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return mt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=UU(t,n);return mt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return mt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&LU(t.multihash,r.multihash)}toString(t){return j1(this,t)}toJSON(){return{"/":j1(this)}}link(){return this}[(Qb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof mt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new mt(r,i,s,o??K1(r,i,s.bytes))}else if(n[FU]===!0){const{version:r,multihash:i,code:s}=n,o=t8(i);return mt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==ga)throw new Error(`Version 0 CID must use dag-pb (code: ${ga}) block encoding`);return new mt(t,n,r,r.bytes)}case 1:{const i=K1(t,n,r.bytes);return new mt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return mt.create(0,ga,t)}static createV1(t,n){return mt.create(1,t,n)}static decode(t){const[n,r]=mt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=mt.inspectBytes(t),r=n.size-n.multihashSize,i=Rw(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new Fw(n.multihashCode,n.digestSize,s,i);return[n.version===0?mt.createV0(o):mt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=wy(t.subarray(n));return n+=y,f};let i=r(),s=ga;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=OU(t,n),s=mt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return gy(s).set(r,t),s}};function OU(e,t){switch(e[0]){case"Q":{const n=t??On;return[On.prefix,n.decode(`${On.prefix}${e}`)]}case On.prefix:{const n=t??On;return[On.prefix,n.decode(e)]}case cs.prefix:{const n=t??cs;return[cs.prefix,n.decode(e)]}case Ku.prefix:{const n=t??Ku;return[Ku.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function DU(e,t,n){const{prefix:r}=n;if(r!==On.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function zU(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const ga=112,RU=18;function K1(e,t,n){const r=Kl(e),i=r+Kl(t),s=new Uint8Array(i+n.byteLength);return Vl(e,s,0),Vl(t,s,r),s.set(n,i),s}const FU=Symbol.for("@ipld/js-cid/CID"),MU={...gU,...eU,...yU,...QP,...ZP,...HP,...cU,...WP,...hU,...oU};function jU(e){return!!EP(e)}function VU(e){return!!SP(e)}function r8(e){return!!AP(e)}const H1=jU,KU=VU,i8=function(e){let t=0;if(e=e.toString().trim(),H1(e)){const n=new Uint8Array(t+4);return e.split(/\./g).forEach(r=>{n[t++]=parseInt(r,10)&255}),n}if(KU(e)){const n=e.split(":",8);let r;for(r=0;r<n.length;r++){const s=H1(n[r]);let o;s&&(o=i8(n[r]),n[r]=se(o.slice(0,2),"base16")),o!=null&&++r<8&&n.splice(r,0,se(o.slice(2,4),"base16"))}if(n[0]==="")for(;n.length<8;)n.unshift("0");else if(n[n.length-1]==="")for(;n.length<8;)n.push("0");else if(n.length<8){for(r=0;r<n.length&&n[r]!=="";r++);const s=[r,1];for(r=9-n.length;r>0;r--)s.push("0");n.splice.apply(n,s)}const i=new Uint8Array(t+16);for(r=0;r<n.length;r++){const s=parseInt(n[r],16);i[t++]=s>>8&255,i[t++]=s&255}return i}throw new Error("invalid ip address")},HU=function(e,t=0,n){t=~~t,n=n??e.length-t;const r=new DataView(e.buffer);if(n===4){const i=[];for(let s=0;s<n;s++)i.push(e[t+s]);return i.join(".")}if(n===16){const i=[];for(let s=0;s<n;s+=2)i.push(r.getUint16(t+s).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},Wt=-1,fc={},my={},qU=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,Wt,"ip6zone"],[43,8,"ipcidr"],[53,Wt,"dns",!0],[54,Wt,"dns4",!0],[55,Wt,"dns6",!0],[56,Wt,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,Wt,"unix",!1,!0],[421,Wt,"ipfs"],[421,Wt,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,Wt,"garlic64"],[448,0,"tls"],[449,Wt,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,Wt,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,Wt,"http-path"],[777,Wt,"memory"]];qU.forEach(e=>{const t=WU(...e);my[t.code]=t,fc[t.name]=t});function WU(e,t,n,r,i){return{code:e,size:t,name:n,resolvable:!!r,path:!!i}}function he(e){if(typeof e=="number"){if(my[e]!=null)return my[e];throw new Error(`no protocol with code: ${e}`)}else if(typeof e=="string"){if(fc[e]!=null)return fc[e];throw new Error(`no protocol with name: ${e}`)}throw new Error(`invalid protocol id type: ${typeof e}`)}he("ip4");he("ip6");he("ipcidr");function s8(e,t){switch(he(e).code){case 4:case 41:return QU(t);case 42:return Oh(t);case 43:return se(t,"base10");case 6:case 273:case 33:case 132:return o8(t).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return Oh(t);case 421:return XU(t);case 444:return G1(t);case 445:return G1(t);case 466:return ZU(t);case 481:return globalThis.encodeURIComponent(Oh(t));default:return se(t,"base16")}}function q1(e,t){switch(he(e).code){case 4:return W1(t);case 41:return W1(t);case 42:return Lh(t);case 43:return xe(t,"base10");case 6:case 273:case 33:case 132:return Mw(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return Lh(t);case 421:return YU(t);case 444:return eL(t);case 445:return tL(t);case 466:return JU(t);case 481:return Lh(globalThis.decodeURIComponent(t));default:return xe(t,"base16")}}const Uh=Object.values(MU).map(e=>e.decoder),GU=function(){let e=Uh[0].or(Uh[1]);return Uh.slice(2).forEach(t=>e=e.or(t)),e}();function W1(e){if(!r8(e))throw new Error("invalid ip address");return i8(e)}function QU(e){const t=HU(e,0,e.length);if(t==null)throw new Error("ipBuff is required");if(!r8(t))throw new Error("invalid ip address");return t}function Mw(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function o8(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function Lh(e){const t=xe(e),n=Uint8Array.from(sd(t.length));return Lr([n,t],n.length+t.length)}function Oh(e){const t=Nc(e);if(e=e.slice(fr(t)),e.length!==t)throw new Error("inconsistent lengths");return se(e)}function YU(e){let t;e[0]==="Q"||e[0]==="1"?t=t8(On.decode(`z${e}`)).bytes:t=n8.parse(e).multihash.bytes;const n=Uint8Array.from(sd(t.length));return Lr([n,t],n.length+t.length)}function JU(e){const t=GU.decode(e),n=Uint8Array.from(sd(t.length));return Lr([n,t],n.length+t.length)}function ZU(e){const t=Nc(e),n=e.slice(fr(t));if(n.length!==t)throw new Error("inconsistent lengths");return"u"+se(n,"base64url")}function XU(e){const t=Nc(e),n=e.slice(fr(t));if(n.length!==t)throw new Error("inconsistent lengths");return se(n,"base58btc")}function eL(e){const t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);const n=cs.decode("b"+t[0]),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const i=Mw(r);return Lr([n,i],n.length+i.length)}function tL(e){const t=e.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);const n=cs.decode(`b${t[0]}`),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const i=Mw(r);return Lr([n,i],n.length+i.length)}function G1(e){const t=e.slice(0,e.length-2),n=e.slice(e.length-2),r=se(t,"base32"),i=o8(n);return`${r}:${i}`}function nL(e){e=by(e);const t=[],n=[];let r=null;const i=e.split("/").slice(1);if(i.length===1&&i[0]==="")return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let s=0;s<i.length;s++){const o=i[s],a=he(o);if(a.size===0){t.push([a.code]),n.push([a.code]);continue}if(s++,s>=i.length)throw new jw("invalid address: "+e);if(a.path===!0){r=by(i.slice(s).join("/")),t.push([a.code,q1(a.code,r)]),n.push([a.code,r]);break}const c=q1(a.code,i[s]);t.push([a.code,c]),n.push([a.code,s8(a.code,c)])}return{string:a8(n),bytes:c8(t),tuples:t,stringTuples:n,path:r}}function Q1(e){const t=[],n=[];let r=null,i=0;for(;i<e.length;){const s=Nc(e,i),o=fr(s),a=he(s),c=rL(a,e.slice(i+o));if(c===0){t.push([s]),n.push([s]),i+=o;continue}const l=e.slice(i+o,i+o+c);if(i+=c+o,i>e.length)throw new jw("Invalid address Uint8Array: "+se(e,"base16"));t.push([s,l]);const u=s8(s,l);if(n.push([s,u]),a.path===!0){r=u;break}}return{bytes:Uint8Array.from(e),string:a8(n),tuples:t,stringTuples:n,path:r}}function a8(e){const t=[];return e.map(n=>{const r=he(n[0]);return t.push(r.name),n.length>1&&n[1]!=null&&t.push(n[1]),null}),by(t.join("/"))}function c8(e){return Lr(e.map(t=>{const n=he(t[0]);let r=Uint8Array.from(sd(n.code));return t.length>1&&t[1]!=null&&(r=Lr([r,t[1]])),r}))}function rL(e,t){if(e.size>0)return e.size/8;if(e.size===0)return 0;{const n=Nc(t instanceof Uint8Array?t:Uint8Array.from(t));return n+fr(n)}}function by(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}class jw extends Error{constructor(n){super(`Error parsing address: ${n}`);x(this,"name","ParseError")}}x(jw,"name","ParseError");const iL=Symbol.for("nodejs.util.inspect.custom"),u8=Symbol.for("@multiformats/js-multiaddr/multiaddr"),sL=[he("dns").code,he("dns4").code,he("dns6").code,he("dnsaddr").code];class oL extends Error{constructor(t="No available resolver"){super(t),this.name="NoAvailableResolverError"}}var Yb,fo,pi,wc,gc;const Gs=class Gs{constructor(t){x(this,"bytes");ze(this,fo);ze(this,pi);ze(this,wc);ze(this,gc);x(this,Yb,!0);t==null&&(t="");let n;if(t instanceof Uint8Array)n=Q1(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);n=nL(t)}else if(Hl(t))n=Q1(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=n.bytes,Ae(this,fo,n.string),Ae(this,pi,n.tuples),Ae(this,wc,n.stringTuples),Ae(this,gc,n.path)}toString(){return X(this,fo)}toJSON(){return this.toString()}toOptions(){let t,n,r,i,s="";const o=he("tcp"),a=he("udp"),c=he("ip4"),l=he("ip6"),u=he("dns6"),f=he("ip6zone");for(const[E,h]of this.stringTuples())E===f.code&&(s=`%${h??""}`),sL.includes(E)&&(n=o.name==="tcp"?"tcp":"udp",i=443,r=`${h??""}${s}`,t=E===u.code?6:4),(E===o.code||E===a.code)&&(n=he(E).name==="tcp"?"tcp":"udp",i=parseInt(h??"")),(E===c.code||E===l.code)&&(n=he(E).name==="tcp"?"tcp":"udp",r=`${h??""}${s}`,t=E===l.code?6:4);if(t==null||n==null||r==null||i==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:r,transport:n,port:i}}protos(){return X(this,pi).map(([t])=>Object.assign({},he(t)))}protoCodes(){return X(this,pi).map(([t])=>t)}protoNames(){return X(this,pi).map(([t])=>he(t).name)}tuples(){return X(this,pi).map(([t,n])=>n==null?[t]:[t,n])}stringTuples(){return X(this,wc).map(([t,n])=>n==null?[t]:[t,n])}encapsulate(t){return t=new Gs(t),new Gs(this.toString()+t.toString())}decapsulate(t){const n=t.toString(),r=this.toString(),i=r.lastIndexOf(n);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new Gs(r.slice(0,i))}decapsulateCode(t){const n=this.tuples();for(let r=n.length-1;r>=0;r--)if(n[r][0]===t)return new Gs(c8(n.slice(0,r)));return this}getPeerId(){try{let t=[];this.stringTuples().forEach(([r,i])=>{r===fc.p2p.code&&t.push([r,i]),r===fc["p2p-circuit"].code&&(t=[])});const n=t.pop();if((n==null?void 0:n[1])!=null){const r=n[1];return r[0]==="Q"||r[0]==="1"?se(On.decode(`z${r}`),"base58btc"):se(n8.parse(r).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){return X(this,gc)}equals(t){return An(this.bytes,t.bytes)}async resolve(t){const n=this.protos().find(s=>s.resolvable);if(n==null)return[this];const r=aL.get(n.name);if(r==null)throw new oL(`no available resolver for ${n.name}`);return(await r(this,t)).map(s=>jt(s))}nodeAddress(){const t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){const n=(t??this).protos();return!(n.length!==2||n[0].code!==4&&n[0].code!==41||n[1].code!==6&&n[1].code!==273)}[(Yb=u8,iL)](){return`Multiaddr(${X(this,fo)})`}};fo=new WeakMap,pi=new WeakMap,wc=new WeakMap,gc=new WeakMap;let vy=Gs;const aL=new Map;function Hl(e){return!!(e!=null&&e[u8])}function jt(e){return new vy(e)}class cL extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const n=this.inRecursive[this.inRecursive.length-1];n&&(n.type===P.array&&(n.elements++,n.elements!==1&&t.push([44])),n.type===P.map&&(n.elements++,n.elements!==1&&(n.elements%2===1?t.push([44]):t.push([58]))))}[P.uint.major](t,n){this.prefix(t);const r=String(n.value),i=[];for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);t.push(i)}[P.negint.major](t,n){this[P.uint.major](t,n)}[P.bytes.major](t,n){throw new Error(`${rs} unsupported type: Uint8Array`)}[P.string.major](t,n){this.prefix(t);const r=jE(JSON.stringify(n.value));t.push(r.length>32?j0(r):r)}[P.array.major](t,n){this.prefix(t),this.inRecursive.push({type:P.array,elements:0}),t.push([91])}[P.map.major](t,n){this.prefix(t),this.inRecursive.push({type:P.map,elements:0}),t.push([123])}[P.tag.major](t,n){}[P.float.major](t,n){if(n.type.name==="break"){const o=this.inRecursive.pop();if(o){if(o.type===P.array)t.push([93]);else if(o.type===P.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(n.value===void 0)throw new Error(`${rs} unsupported type: undefined`);if(this.prefix(t),n.type.name==="true"){t.push([116,114,117,101]);return}else if(n.type.name==="false"){t.push([102,97,108,115,101]);return}else if(n.type.name==="null"){t.push([110,117,108,108]);return}const r=String(n.value),i=[];let s=!1;for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o),!s&&(i[o]===46||i[o]===101||i[o]===69)&&(s=!0);s||(i.push(46),i.push(48)),t.push(i)}}function uL(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${rs} complex map keys are not supported`);const n=e[0],r=t[0];if(n.type!==P.string||r.type!==P.string)throw new Error(`${rs} non-string map keys are not supported`);if(n<r)return-1;if(n>r)return 1;throw new Error(`${rs} unexpected duplicate map keys, this is not supported`)}const lL={addBreakTokens:!0,mapSorter:uL};function fL(e,t){return t=Object.assign({},lL,t),ZE(e,new cL,t)}class l8{constructor(t,n={}){this._pos=0,this.data=t,this.options=n,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this._pos]}expect(t){if(this.data.length-this._pos<t.length)throw new Error(`${re} unexpected end of input at position ${this._pos}`);for(let n=0;n<t.length;n++)if(this.data[this._pos++]!==t[n])throw new Error(`${re} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this._pos;let n=!1,r=!1;const i=a=>{for(;!this.done();){const c=this.ch();if(a.includes(c))this._pos++;else break}};if(this.ch()===45&&(n=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,r=!0;else return new q(P.uint,0,this._pos-t);if(i([48,49,50,51,52,53,54,55,56,57]),n&&this._pos===t+1)throw new Error(`${re} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(r)throw new Error(`${re} unexpected token at position ${this._pos}`);r=!0,this._pos++,i([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(r=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,i([48,49,50,51,52,53,54,55,56,57]));const s=String.fromCharCode.apply(null,this.data.subarray(t,this._pos)),o=parseFloat(s);return r?new q(P.float,o,this._pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(o)?new q(o>=0?P.uint:P.negint,o,this._pos-t):new q(o>=0?P.uint:P.negint,BigInt(s),this._pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${re} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let s=this._pos,o=0;s<this.data.length&&o<65536;s++,o++){const a=this.data[s];if(a===92||a<32||a>=128)break;if(a===34){const c=String.fromCharCode.apply(null,this.data.subarray(this._pos,s));return this._pos=s+1,new q(P.string,c,o)}}const t=this._pos,n=[],r=()=>{if(this._pos+4>=this.data.length)throw new Error(`${re} unexpected end of unicode escape sequence at position ${this._pos}`);let s=0;for(let o=0;o<4;o++){let a=this.ch();if(a>=48&&a<=57)a-=48;else if(a>=97&&a<=102)a=a-97+10;else if(a>=65&&a<=70)a=a-65+10;else throw new Error(`${re} unexpected unicode escape character at position ${this._pos}`);s=s*16+a,this._pos++}return s},i=()=>{const s=this.ch();let o=null,a=s>239?4:s>223?3:s>191?2:1;if(this._pos+a>this.data.length)throw new Error(`${re} unexpected unicode sequence at position ${this._pos}`);let c,l,u,f;switch(a){case 1:s<128&&(o=s);break;case 2:c=this.data[this._pos+1],(c&192)===128&&(f=(s&31)<<6|c&63,f>127&&(o=f));break;case 3:c=this.data[this._pos+1],l=this.data[this._pos+2],(c&192)===128&&(l&192)===128&&(f=(s&15)<<12|(c&63)<<6|l&63,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:c=this.data[this._pos+1],l=this.data[this._pos+2],u=this.data[this._pos+3],(c&192)===128&&(l&192)===128&&(u&192)===128&&(f=(s&15)<<18|(c&63)<<12|(l&63)<<6|u&63,f>65535&&f<1114112&&(o=f))}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),this._pos+=a};for(;!this.done();){const s=this.ch();let o;switch(s){case 92:if(this._pos++,this.done())throw new Error(`${re} unexpected string termination at position ${this._pos}`);switch(o=this.ch(),this._pos++,o){case 34:case 39:case 92:case 47:n.push(o);break;case 98:n.push(8);break;case 116:n.push(9);break;case 110:n.push(10);break;case 102:n.push(12);break;case 114:n.push(13);break;case 117:n.push(r());break;default:throw new Error(`${re} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new q(P.string,VE(n),this._pos-t);default:if(s<32)throw new Error(`${re} invalid control character at position ${this._pos}`);s<128?(n.push(s),this._pos++):i()}}throw new Error(`${re} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new q(P.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new q(P.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new q(P.null,null,4);case 102:return this.expect([102,97,108,115,101]),new q(P.false,!1,5);case 116:return this.expect([116,114,117,101]),new q(P.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${re} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new q(P.break,void 0,1);if(this.ch()!==44)throw new Error(`${re} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new q(P.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new q(P.break,void 0,1);if(this.ch()!==44)throw new Error(`${re} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new q(P.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${re} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${re} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function dL(e,t){return t=Object.assign({tokenizer:new l8(e,t)},t),XE(e,t)}function hL(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Vw(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function pL(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var yL=pL,wL=yL;let gL=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},mL=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return f8(this,t)}},bL=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return f8(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function f8(e,t){return new bL({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let vL=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new gL(t,n,r),this.decoder=new mL(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function d8({name:e,prefix:t,encode:n,decode:r}){return new vL(e,t,n,r)}function cd({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=wL(n,e);return d8({prefix:t,name:e,encode:r,decode:s=>Vw(i(s))})}function xL(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function EL(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function an({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return d8({prefix:t,name:e,encode(i){return EL(i,r,n)},decode(i){return xL(i,r,n,e)}})}const Hu=an({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});an({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});an({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});an({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});an({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});an({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});an({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});an({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});an({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const Dh=cd({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});cd({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const ai=cd({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});cd({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var SL=h8,Y1=128,AL=-128,CL=Math.pow(2,31);function h8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=CL;)t[n++]=e&255|Y1,e/=128;for(;e&AL;)t[n++]=e&255|Y1,e>>>=7;return t[n]=e|0,h8.bytes=n-r+1,t}var $L=xy,IL=128,J1=127;function xy(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw xy.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&J1)<<i:(o&J1)*Math.pow(2,i),i+=7}while(o>=IL);return xy.bytes=s-r,n}var _L=Math.pow(2,7),kL=Math.pow(2,14),TL=Math.pow(2,21),BL=Math.pow(2,28),NL=Math.pow(2,35),PL=Math.pow(2,42),UL=Math.pow(2,49),LL=Math.pow(2,56),OL=Math.pow(2,63),DL=function(e){return e<_L?1:e<kL?2:e<TL?3:e<BL?4:e<NL?5:e<PL?6:e<UL?7:e<LL?8:e<OL?9:10},zL={encode:SL,decode:$L,encodingLength:DL},ql=zL;function Ey(e,t=0){return[ql.decode(e,t),ql.decode.bytes]}function Wl(e,t,n=0){return ql.encode(e,t,n),t}function Gl(e){return ql.encodingLength(e)}function RL(e,t){const n=t.byteLength,r=Gl(e),i=r+Gl(n),s=new Uint8Array(i+n);return Wl(e,s,0),Wl(n,s,r),s.set(t,i),new Kw(e,n,t,s)}function FL(e){const t=Vw(e),[n,r]=Ey(t),[i,s]=Ey(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Kw(n,i,o,t)}function ML(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&hL(e.bytes,n.bytes)}}let Kw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function Z1(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return VL(n,Sy(e),t??ai.encoder);default:return KL(n,Sy(e),t??Hu.encoder)}}const X1=new WeakMap;function Sy(e){const t=X1.get(e);if(t==null){const n=new Map;return X1.set(e,n),n}return t}var Jb;let p8=class bt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,Jb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ma)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==HL)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return bt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=RL(t,n);return bt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return bt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&ML(t.multihash,r.multihash)}toString(t){return Z1(this,t)}toJSON(){return{"/":Z1(this)}}link(){return this}[(Jb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof bt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new bt(r,i,s,o??eb(r,i,s.bytes))}else if(n[qL]===!0){const{version:r,multihash:i,code:s}=n,o=FL(i);return bt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==ma)throw new Error(`Version 0 CID must use dag-pb (code: ${ma}) block encoding`);return new bt(t,n,r,r.bytes)}case 1:{const i=eb(t,n,r.bytes);return new bt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return bt.create(0,ma,t)}static createV1(t,n){return bt.create(1,t,n)}static decode(t){const[n,r]=bt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=bt.inspectBytes(t),r=n.size-n.multihashSize,i=Vw(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new Kw(n.multihashCode,n.digestSize,s,i);return[n.version===0?bt.createV0(o):bt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=Ey(t.subarray(n));return n+=y,f};let i=r(),s=ma;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=jL(t,n),s=bt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Sy(s).set(r,t),s}};function jL(e,t){switch(e[0]){case"Q":{const n=t??ai;return[ai.prefix,n.decode(`${ai.prefix}${e}`)]}case ai.prefix:{const n=t??ai;return[ai.prefix,n.decode(e)]}case Hu.prefix:{const n=t??Hu;return[Hu.prefix,n.decode(e)]}case Dh.prefix:{const n=t??Dh;return[Dh.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function VL(e,t,n){const{prefix:r}=n;if(r!==ai.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function KL(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const ma=112,HL=18;function eb(e,t,n){const r=Gl(e),i=r+Gl(t),s=new Uint8Array(i+n.byteLength);return Wl(e,s,0),Wl(t,s,r),s.set(n,i),s}const qL=Symbol.for("@ipld/js-cid/CID"),y8=an({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});an({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});an({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});an({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function WL(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function GL(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=p8.asCID(e);if(!t)return null;const n=t.toString();return[new q(P.map,1/0,1),new q(P.string,"/",1),new q(P.string,n,n.length),new q(P.break,void 0,1)]}function Ql(e){const t=y8.encode(e).slice(1);return[new q(P.map,1/0,1),new q(P.string,"/",1),new q(P.map,1/0,1),new q(P.string,"bytes",5),new q(P.string,t,t.length),new q(P.break,void 0,1),new q(P.break,void 0,1)]}function kn(e){return Ql(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function QL(e){return Ql(new Uint8Array(e))}function YL(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function JL(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const ZL={typeEncoders:{Object:GL,Buffer:Ql,Uint8Array:Ql,Int8Array:kn,Uint16Array:kn,Int16Array:kn,Uint32Array:kn,Int32Array:kn,Float32Array:kn,Float64Array:kn,Uint8ClampedArray:kn,BigInt64Array:kn,BigUint64Array:kn,DataView:kn,ArrayBuffer:QL,undefined:YL,number:JL}};class XL extends l8{constructor(t,n){super(t,n),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===P.map){const n=this._next();if(n.type===P.string&&n.value==="/"){const r=this._next();if(r.type===P.string){if(this._next().type!==P.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(r),new q(P.tag,42,0)}if(r.type===P.map){const i=this._next();if(i.type===P.string&&i.value==="bytes"){const s=this._next();if(s.type===P.string){for(let a=0;a<2;a++)if(this._next().type!==P.break)throw new Error("Invalid encoded Bytes form");const o=y8.decode(`m${s.value}`);return new q(P.bytes,o,s.value.length)}this.tokenBuffer.push(s)}this.tokenBuffer.push(i)}this.tokenBuffer.push(r)}this.tokenBuffer.push(n)}return t}}const Ay={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Ay.tags[42]=p8.parse;const eO="dag-json",tO=297,w8=e=>fL(e,ZL),g8=e=>{const t=WL(e),n=Object.assign(Ay,{tokenizer:new XL(t,Ay)});return dL(t,n)},tb=e=>nO.decode(w8(e)),nO=new TextDecoder,rO=e=>g8(iO.encode(e)),iO=new TextEncoder,sO=Object.freeze(Object.defineProperty({__proto__:null,code:tO,decode:g8,encode:w8,format:tb,name:eO,parse:rO,stringify:tb},Symbol.toStringTag,{value:"Module"}));function oO(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Hw(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function aO(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var cO=aO,uO=cO;let lO=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},fO=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return m8(this,t)}},dO=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return m8(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function m8(e,t){return new dO({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let hO=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new lO(t,n,r),this.decoder=new fO(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function b8({name:e,prefix:t,encode:n,decode:r}){return new hO(e,t,n,r)}function ud({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=uO(n,e);return b8({prefix:t,name:e,encode:r,decode:s=>Hw(i(s))})}function pO(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function yO(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function Fr({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return b8({prefix:t,name:e,encode(i){return yO(i,r,n)},decode(i){return pO(i,r,n,e)}})}const qu=Fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const zh=ud({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});ud({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const ci=ud({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});ud({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var wO=v8,nb=128,gO=-128,mO=Math.pow(2,31);function v8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=mO;)t[n++]=e&255|nb,e/=128;for(;e&gO;)t[n++]=e&255|nb,e>>>=7;return t[n]=e|0,v8.bytes=n-r+1,t}var bO=Cy,vO=128,rb=127;function Cy(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Cy.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&rb)<<i:(o&rb)*Math.pow(2,i),i+=7}while(o>=vO);return Cy.bytes=s-r,n}var xO=Math.pow(2,7),EO=Math.pow(2,14),SO=Math.pow(2,21),AO=Math.pow(2,28),CO=Math.pow(2,35),$O=Math.pow(2,42),IO=Math.pow(2,49),_O=Math.pow(2,56),kO=Math.pow(2,63),TO=function(e){return e<xO?1:e<EO?2:e<SO?3:e<AO?4:e<CO?5:e<$O?6:e<IO?7:e<_O?8:e<kO?9:10},BO={encode:wO,decode:bO,encodingLength:TO},Yl=BO;function $y(e,t=0){return[Yl.decode(e,t),Yl.decode.bytes]}function Jl(e,t,n=0){return Yl.encode(e,t,n),t}function Zl(e){return Yl.encodingLength(e)}function NO(e,t){const n=t.byteLength,r=Zl(e),i=r+Zl(n),s=new Uint8Array(i+n);return Jl(e,s,0),Jl(n,s,r),s.set(t,i),new qw(e,n,t,s)}function PO(e){const t=Hw(e),[n,r]=$y(t),[i,s]=$y(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new qw(n,i,o,t)}function UO(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&oO(e.bytes,n.bytes)}}let qw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function ib(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return OO(n,Iy(e),t??ci.encoder);default:return DO(n,Iy(e),t??qu.encoder)}}const sb=new WeakMap;function Iy(e){const t=sb.get(e);if(t==null){const n=new Map;return sb.set(e,n),n}return t}var Zb;let _a=class vt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,Zb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ba)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==zO)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return vt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=NO(t,n);return vt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return vt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&UO(t.multihash,r.multihash)}toString(t){return ib(this,t)}toJSON(){return{"/":ib(this)}}link(){return this}[(Zb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof vt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new vt(r,i,s,o??ob(r,i,s.bytes))}else if(n[RO]===!0){const{version:r,multihash:i,code:s}=n,o=PO(i);return vt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==ba)throw new Error(`Version 0 CID must use dag-pb (code: ${ba}) block encoding`);return new vt(t,n,r,r.bytes)}case 1:{const i=ob(t,n,r.bytes);return new vt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return vt.create(0,ba,t)}static createV1(t,n){return vt.create(1,t,n)}static decode(t){const[n,r]=vt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=vt.inspectBytes(t),r=n.size-n.multihashSize,i=Hw(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new qw(n.multihashCode,n.digestSize,s,i);return[n.version===0?vt.createV0(o):vt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=$y(t.subarray(n));return n+=y,f};let i=r(),s=ba;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=LO(t,n),s=vt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Iy(s).set(r,t),s}};function LO(e,t){switch(e[0]){case"Q":{const n=t??ci;return[ci.prefix,n.decode(`${ci.prefix}${e}`)]}case ci.prefix:{const n=t??ci;return[ci.prefix,n.decode(e)]}case qu.prefix:{const n=t??qu;return[qu.prefix,n.decode(e)]}case zh.prefix:{const n=t??zh;return[zh.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function OO(e,t,n){const{prefix:r}=n;if(r!==ci.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function DO(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const ba=112,zO=18;function ob(e,t,n){const r=Zl(e),i=r+Zl(t),s=new Uint8Array(i+n.byteLength);return Jl(e,s,0),Jl(t,s,r),s.set(n,i),s}const RO=Symbol.for("@ipld/js-cid/CID"),FO=new TextDecoder;function Ww(e,t){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(n+=r<28?(i&127)<<r:(i&127)*2**r,i<128)break}return[n,t]}function Xl(e,t){let n;[n,t]=Ww(e,t);const r=t+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,r),r]}function x8(e,t){let n;return[n,t]=Ww(e,t),[n&7,n>>3,t]}function MO(e){const t={},n=e.length;let r=0;for(;r<n;){let i,s;if([i,s,r]=x8(e,r),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,r]=Xl(e,r)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(i!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,r]=Xl(e,r),t.Name=FO.decode(o)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(i!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${i}) for Tsize`);[t.Tsize,r]=Ww(e,r)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function jO(e){const t=e.length;let n=0,r,i=!1,s;for(;n<t;){let a,c;if([a,c,n]=x8(e,n),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(c===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,n]=Xl(e,n),r&&(i=!0)}else if(c===2){if(i)throw new Error("protobuf: (PBNode) duplicate Links section");r||(r=[]);let l;[l,n]=Xl(e,n),r.push(MO(l))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const o={};return s&&(o.Data=s),o.Links=r||[],o}const E8=new TextEncoder,ab=2**32,VO=2**31;function KO(e,t){let n=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");n=Fa(t,n,e.Tsize)-1,t[n]=24}if(typeof e.Name=="string"){const r=E8.encode(e.Name);n-=r.length,t.set(r,n),n=Fa(t,n,r.length)-1,t[n]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),n=Fa(t,n,e.Hash.length)-1,t[n]=10),t.length-n}function HO(e){const t=WO(e),n=new Uint8Array(t);let r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),r=Fa(n,r,e.Data.length)-1,n[r]=10),e.Links)for(let i=e.Links.length-1;i>=0;i--){const s=KO(e.Links[i],n.subarray(0,r));r-=s,r=Fa(n,r,s)-1,n[r]=18}return n}function qO(e){let t=0;if(e.Hash){const n=e.Hash.length;t+=1+n+so(n)}if(typeof e.Name=="string"){const n=E8.encode(e.Name).length;t+=1+n+so(n)}return typeof e.Tsize=="number"&&(t+=1+so(e.Tsize)),t}function WO(e){let t=0;if(e.Data){const n=e.Data.length;t+=1+n+so(n)}if(e.Links)for(const n of e.Links){const r=qO(n);t+=1+r+so(r)}return t}function Fa(e,t,n){t-=so(n);const r=t;for(;n>=VO;)e[t++]=n&127|128,n/=128;for(;n>=128;)e[t++]=n&127|128,n>>>=7;return e[t]=n,r}function so(e){return e%2===0&&e++,Math.floor((GO(e)+6)/7)}function GO(e){let t=0;return e>=ab&&(e=Math.floor(e/ab),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+QO[e]}const QO=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],YO=["Data","Links"],JO=["Hash","Name","Tsize"],_y=new TextEncoder;function S8(e,t){if(e===t)return 0;const n=e.Name?_y.encode(e.Name):[],r=t.Name?_y.encode(t.Name):[];let i=n.length,s=r.length;for(let o=0,a=Math.min(i,s);o<a;++o)if(n[o]!==r[o]){i=n[o],s=r[o];break}return i<s?-1:s<i?1:0}function cb(e,t){return!Object.keys(e).some(n=>!t.includes(n))}function A8(e){if(typeof e.asCID=="object"){const n=_a.asCID(e);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let n=_a.asCID(e.Hash);try{n||(typeof e.Hash=="string"?n=_a.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=_a.decode(e.Hash)))}catch(r){throw new TypeError(`Invalid DAG-PB form: ${r.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function C8(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=_y.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(A8),t.Links.sort(S8);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function $8(e){if(!e||typeof e!="object"||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!cb(e,YO))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){const n=e.Links[t];if(!n||typeof n!="object"||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!cb(n,JO))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(n.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash==null||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(n.Name!==void 0&&typeof n.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(n.Tsize!==void 0){if(typeof n.Tsize!="number"||n.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&S8(n,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function ZO(e,t=[]){return C8({Data:e,Links:t})}function XO(e,t,n){return A8({Hash:n,Name:e,Tsize:t})}function eD(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}const tD="dag-pb",nD=112;function rD(e){$8(e);const t={};return e.Links&&(t.Links=e.Links.map(n=>{const r={};return n.Hash&&(r.Hash=n.Hash.bytes),n.Name!==void 0&&(r.Name=n.Name),n.Tsize!==void 0&&(r.Tsize=n.Tsize),r})),e.Data&&(t.Data=e.Data),HO(t)}function iD(e){const t=eD(e),n=jO(t),r={};return n.Data&&(r.Data=n.Data),n.Links&&(r.Links=n.Links.map(i=>{const s={};try{s.Hash=_a.decode(i.Hash)}catch{}if(!s.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(s.Name=i.Name),i.Tsize!==void 0&&(s.Tsize=i.Tsize),s})),r}const sD=Object.freeze(Object.defineProperty({__proto__:null,code:nD,createLink:XO,createNode:ZO,decode:iD,encode:rD,name:tD,prepare:C8,validate:$8},Symbol.toStringTag,{value:"Module"}));function oD(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Gw(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function aD(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var cD=aD,uD=cD;let lD=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},fD=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return I8(this,t)}},dD=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return I8(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function I8(e,t){return new dD({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let hD=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new lD(t,n,r),this.decoder=new fD(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function _8({name:e,prefix:t,encode:n,decode:r}){return new hD(e,t,n,r)}function k8({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=uD(n,e);return _8({prefix:t,name:e,encode:r,decode:s=>Gw(i(s))})}function pD(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function yD(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function cn({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return _8({prefix:t,name:e,encode(i){return yD(i,r,n)},decode(i){return pD(i,r,n,e)}})}cn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});cn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const T8=cn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});cn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function $r(e){return T8.encode(e).slice(1)}function tr(e){return T8.decode(`u${e}`)}const Wu=cn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});cn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});cn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});cn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});cn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});cn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});cn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});cn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});cn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const ui=k8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});k8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var wD=B8,ub=128,gD=-128,mD=Math.pow(2,31);function B8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=mD;)t[n++]=e&255|ub,e/=128;for(;e&gD;)t[n++]=e&255|ub,e>>>=7;return t[n]=e|0,B8.bytes=n-r+1,t}var bD=ky,vD=128,lb=127;function ky(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw ky.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&lb)<<i:(o&lb)*Math.pow(2,i),i+=7}while(o>=vD);return ky.bytes=s-r,n}var xD=Math.pow(2,7),ED=Math.pow(2,14),SD=Math.pow(2,21),AD=Math.pow(2,28),CD=Math.pow(2,35),$D=Math.pow(2,42),ID=Math.pow(2,49),_D=Math.pow(2,56),kD=Math.pow(2,63),TD=function(e){return e<xD?1:e<ED?2:e<SD?3:e<AD?4:e<CD?5:e<$D?6:e<ID?7:e<_D?8:e<kD?9:10},BD={encode:wD,decode:bD,encodingLength:TD},ef=BD;function Ty(e,t=0){return[ef.decode(e,t),ef.decode.bytes]}function tf(e,t,n=0){return ef.encode(e,t,n),t}function nf(e){return ef.encodingLength(e)}function ND(e,t){const n=t.byteLength,r=nf(e),i=r+nf(n),s=new Uint8Array(i+n);return tf(e,s,0),tf(n,s,r),s.set(t,i),new Qw(e,n,t,s)}function PD(e){const t=Gw(e),[n,r]=Ty(t),[i,s]=Ty(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Qw(n,i,o,t)}function UD(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&oD(e.bytes,n.bytes)}}let Qw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};function fb(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return OD(n,By(e),t??ui.encoder);default:return DD(n,By(e),t??Wu.encoder)}}const db=new WeakMap;function By(e){const t=db.get(e);if(t==null){const n=new Map;return db.set(e,n),n}return t}var Xb;let Yw=class xt{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,Xb,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==va)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==zD)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xt.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=ND(t,n);return xt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return xt.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&UD(t.multihash,r.multihash)}toString(t){return fb(this,t)}toJSON(){return{"/":fb(this)}}link(){return this}[(Xb=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof xt)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new xt(r,i,s,o??hb(r,i,s.bytes))}else if(n[RD]===!0){const{version:r,multihash:i,code:s}=n,o=PD(i);return xt.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==va)throw new Error(`Version 0 CID must use dag-pb (code: ${va}) block encoding`);return new xt(t,n,r,r.bytes)}case 1:{const i=hb(t,n,r.bytes);return new xt(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return xt.create(0,va,t)}static createV1(t,n){return xt.create(1,t,n)}static decode(t){const[n,r]=xt.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=xt.inspectBytes(t),r=n.size-n.multihashSize,i=Gw(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new Qw(n.multihashCode,n.digestSize,s,i);return[n.version===0?xt.createV0(o):xt.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=Ty(t.subarray(n));return n+=y,f};let i=r(),s=va;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=LD(t,n),s=xt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return By(s).set(r,t),s}};function LD(e,t){switch(e[0]){case"Q":{const n=t??ui;return[ui.prefix,n.decode(`${ui.prefix}${e}`)]}case ui.prefix:{const n=t??ui;return[ui.prefix,n.decode(e)]}case Wu.prefix:{const n=t??Wu;return[Wu.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function OD(e,t,n){const{prefix:r}=n;if(r!==ui.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function DD(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const va=112,zD=18;function hb(e,t,n){const r=nf(e),i=r+nf(t),s=new Uint8Array(i+n.byteLength);return tf(e,s,0),tf(t,s,r),s.set(n,i),s}const RD=Symbol.for("@ipld/js-cid/CID");function FD(e){const[t,n,r]=e;return{payload:n,signatures:[{protected:t,signature:r}],link:Yw.decode(tr(n))}}function MD(e){const t={signature:tr(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=tr(e.protected)),t}function jD(e){return{payload:tr(e.payload),signatures:e.signatures.map(MD)}}function VD(e){const t={signature:$r(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=$r(e.protected)),t}function KD(e){const t={payload:$r(e.payload),signatures:e.signatures.map(VD)};try{return t.pld=Ny(qD(e.payload)),t}catch{try{return t.link=Yw.decode(new Uint8Array(e.payload)),t}catch{throw new Error("Invalid payload, must be either JSON or CID")}}}function Ny(e){if(typeof e=="string"){if(e.startsWith("ipfs://"))return Yw.parse(e.slice(7))}else{if(Array.isArray(e))return e.map(Ny);if(HD(e)){const t={};for(const n in e)t[n]=Ny(e[n]);return t}}return e}function HD(e){return typeof e=="object"&&e!==null}function qD(e){return JSON.parse(new TextDecoder().decode(e))}function WD(e){const[t,n,r,i,s]=e,o={ciphertext:i,iv:r,protected:t,tag:s};return n&&(o.recipients=[{encrypted_key:n}]),o}function GD(e){const t={};return e.encrypted_key&&(t.encrypted_key=tr(e.encrypted_key)),e.header&&(t.header=e.header),t}function QD(e){const t={ciphertext:tr(e.ciphertext),protected:tr(e.protected),iv:tr(e.iv),tag:tr(e.tag)};return e.aad&&(t.aad=tr(e.aad)),e.recipients&&(t.recipients=e.recipients.map(GD)),e.unprotected&&(t.unprotected=e.unprotected),t}function YD(e){const t={};return e.encrypted_key&&(t.encrypted_key=$r(e.encrypted_key)),e.header&&(t.header=e.header),t}function JD(e){const t={ciphertext:$r(e.ciphertext),protected:$r(e.protected),iv:$r(e.iv),tag:$r(e.tag)};return e.aad&&(t.aad=$r(e.aad)),e.recipients&&(t.recipients=e.recipients.map(YD)),e.unprotected&&(t.unprotected=e.unprotected),t}const ZD="dag-jose",XD=133;function N8(e){return"payload"in e&&typeof e.payload=="string"&&"signatures"in e&&Array.isArray(e.signatures)}function e7(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function t7(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function P8(e){return"ciphertext"in e&&typeof e.ciphertext=="string"&&"iv"in e&&typeof e.iv=="string"&&"protected"in e&&typeof e.protected=="string"&&"tag"in e&&typeof e.tag=="string"}function U8(e){if(typeof e=="string"){const t=e.split(".");if(t.length===3)return FD(t);if(t.length===5)return WD(t);throw new Error("Not a valid JOSE string")}if(N8(e)||P8(e))return e;throw new Error("Not a valid unencoded JOSE object")}function n7(e){typeof e=="string"&&(e=U8(e));let t;if(N8(e))t=jD(e);else if(P8(e))t=QD(e);else throw new Error("Not a valid JOSE object");return new Uint8Array(o2(t))}function r7(e){let t;try{t=a2(e)}catch{throw new Error("Not a valid DAG-JOSE object")}if(e7(t))return KD(t);if(t7(t))return JD(t);throw new Error("Not a valid DAG-JOSE object")}const i7=Object.freeze(Object.defineProperty({__proto__:null,code:XD,decode:r7,encode:n7,name:ZD,toGeneral:U8},Symbol.toStringTag,{value:"Module"}));function s7(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Vo(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function o7(e){return new TextEncoder().encode(e)}function a7(e){return new TextDecoder().decode(e)}function c7(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var u7=c7,l7=u7;let f7=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},d7=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return L8(this,t)}},h7=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return L8(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function L8(e,t){return new h7({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let p7=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new f7(t,n,r),this.decoder=new d7(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function ld({name:e,prefix:t,encode:n,decode:r}){return new p7(e,t,n,r)}function Uc({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=l7(n,e);return ld({prefix:t,name:e,encode:r,decode:s=>Vo(i(s))})}function y7(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function w7(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function lt({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return ld({prefix:t,name:e,encode(i){return w7(i,r,n)},decode(i){return y7(i,r,n,e)}})}const g7=Uc({prefix:"9",name:"base10",alphabet:"0123456789"}),m7=Object.freeze(Object.defineProperty({__proto__:null,base10:g7},Symbol.toStringTag,{value:"Module"})),b7=lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v7=lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),x7=Object.freeze(Object.defineProperty({__proto__:null,base16:b7,base16upper:v7},Symbol.toStringTag,{value:"Module"})),E7=lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),S7=Object.freeze(Object.defineProperty({__proto__:null,base2:E7},Symbol.toStringTag,{value:"Module"})),O8=Array.from(""),A7=O8.reduce((e,t,n)=>(e[n]=t,e),[]),C7=O8.reduce((e,t,n)=>{const r=t.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${t}`);return e[r]=n,e},[]);function $7(e){return e.reduce((t,n)=>(t+=A7[n],t),"")}function I7(e){const t=[];for(const n of e){const r=n.codePointAt(0);if(r==null)throw new Error(`Invalid character: ${n}`);const i=C7[r];if(i==null)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}const _7=ld({prefix:"",name:"base256emoji",encode:$7,decode:I7}),k7=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:_7},Symbol.toStringTag,{value:"Module"})),Ma=lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T7=lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),B7=lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),N7=lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),P7=lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),U7=lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L7=lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),O7=lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),D7=lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),z7=Object.freeze(Object.defineProperty({__proto__:null,base32:Ma,base32hex:P7,base32hexpad:L7,base32hexpadupper:O7,base32hexupper:U7,base32pad:B7,base32padupper:N7,base32upper:T7,base32z:D7},Symbol.toStringTag,{value:"Module"})),Gu=Uc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),R7=Uc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),F7=Object.freeze(Object.defineProperty({__proto__:null,base36:Gu,base36upper:R7},Symbol.toStringTag,{value:"Module"})),Sr=Uc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),M7=Uc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),j7=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Sr,base58flickr:M7},Symbol.toStringTag,{value:"Module"})),V7=lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),K7=lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fd=lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),H7=lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),q7=Object.freeze(Object.defineProperty({__proto__:null,base64:V7,base64pad:K7,base64url:fd,base64urlpad:H7},Symbol.toStringTag,{value:"Module"})),W7=lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),G7=Object.freeze(Object.defineProperty({__proto__:null,base8:W7},Symbol.toStringTag,{value:"Module"})),Q7=ld({prefix:"\0",name:"identity",encode:e=>a7(e),decode:e=>o7(e)}),Y7=Object.freeze(Object.defineProperty({__proto__:null,identity:Q7},Symbol.toStringTag,{value:"Module"})),J7=new TextEncoder,Z7=new TextDecoder,X7="json",ez=512;function tz(e){return J7.encode(JSON.stringify(e))}function nz(e){return JSON.parse(Z7.decode(e))}const rz=Object.freeze(Object.defineProperty({__proto__:null,code:ez,decode:nz,encode:tz,name:X7},Symbol.toStringTag,{value:"Module"})),iz="raw",sz=85;function oz(e){return Vo(e)}function az(e){return Vo(e)}const cz=Object.freeze(Object.defineProperty({__proto__:null,code:sz,decode:az,encode:oz,name:iz},Symbol.toStringTag,{value:"Module"}));var uz=D8,pb=128,lz=-128,fz=Math.pow(2,31);function D8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=fz;)t[n++]=e&255|pb,e/=128;for(;e&lz;)t[n++]=e&255|pb,e>>>=7;return t[n]=e|0,D8.bytes=n-r+1,t}var dz=Py,hz=128,yb=127;function Py(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Py.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&yb)<<i:(o&yb)*Math.pow(2,i),i+=7}while(o>=hz);return Py.bytes=s-r,n}var pz=Math.pow(2,7),yz=Math.pow(2,14),wz=Math.pow(2,21),gz=Math.pow(2,28),mz=Math.pow(2,35),bz=Math.pow(2,42),vz=Math.pow(2,49),xz=Math.pow(2,56),Ez=Math.pow(2,63),Sz=function(e){return e<pz?1:e<yz?2:e<wz?3:e<gz?4:e<mz?5:e<bz?6:e<vz?7:e<xz?8:e<Ez?9:10},Az={encode:uz,decode:dz,encodingLength:Sz},rf=Az;function Uy(e,t=0){return[rf.decode(e,t),rf.decode.bytes]}function sf(e,t,n=0){return rf.encode(e,t,n),t}function of(e){return rf.encodingLength(e)}function af(e,t){const n=t.byteLength,r=of(e),i=r+of(n),s=new Uint8Array(i+n);return sf(e,s,0),sf(n,s,r),s.set(t,i),new Jw(e,n,t,s)}function Cz(e){const t=Vo(e),[n,r]=Uy(t),[i,s]=Uy(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Jw(n,i,o,t)}function $z(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&s7(e.bytes,n.bytes)}}let Jw=class{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}};const z8=0,Iz="identity",R8=Vo;function _z(e){return af(z8,R8(e))}const Ly={code:z8,name:Iz,encode:R8,digest:_z},kz=Object.freeze(Object.defineProperty({__proto__:null,identity:Ly},Symbol.toStringTag,{value:"Module"}));function F8({name:e,code:t,encode:n}){return new Tz(e,t,n)}let Tz=class{constructor(t,n,r){x(this,"name");x(this,"code");x(this,"encode");this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?af(this.code,n):n.then(r=>af(this.code,r))}else throw Error("Unknown type, must be binary type")}};function M8(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}const Bz=F8({name:"sha2-256",code:18,encode:M8("SHA-256")}),Nz=F8({name:"sha2-512",code:19,encode:M8("SHA-512")}),Pz=Object.freeze(Object.defineProperty({__proto__:null,sha256:Bz,sha512:Nz},Symbol.toStringTag,{value:"Module"}));function wb(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return Lz(n,Oy(e),t??Sr.encoder);default:return Oz(n,Oy(e),t??Ma.encoder)}}const gb=new WeakMap;function Oy(e){const t=gb.get(e);if(t==null){const n=new Map;return gb.set(e,n),n}return t}var ev;let ge=class Et{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,ev,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==xa)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Dz)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Et.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=af(t,n);return Et.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Et.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&$z(t.multihash,r.multihash)}toString(t){return wb(this,t)}toJSON(){return{"/":wb(this)}}link(){return this}[(ev=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof Et)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new Et(r,i,s,o??mb(r,i,s.bytes))}else if(n[zz]===!0){const{version:r,multihash:i,code:s}=n,o=Cz(i);return Et.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==xa)throw new Error(`Version 0 CID must use dag-pb (code: ${xa}) block encoding`);return new Et(t,n,r,r.bytes)}case 1:{const i=mb(t,n,r.bytes);return new Et(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return Et.create(0,xa,t)}static createV1(t,n){return Et.create(1,t,n)}static decode(t){const[n,r]=Et.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Et.inspectBytes(t),r=n.size-n.multihashSize,i=Vo(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new Jw(n.multihashCode,n.digestSize,s,i);return[n.version===0?Et.createV0(o):Et.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=Uy(t.subarray(n));return n+=y,f};let i=r(),s=xa;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=Uz(t,n),s=Et.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Oy(s).set(r,t),s}};function Uz(e,t){switch(e[0]){case"Q":{const n=t??Sr;return[Sr.prefix,n.decode(`${Sr.prefix}${e}`)]}case Sr.prefix:{const n=t??Sr;return[Sr.prefix,n.decode(e)]}case Ma.prefix:{const n=t??Ma;return[Ma.prefix,n.decode(e)]}case Gu.prefix:{const n=t??Gu;return[Gu.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function Lz(e,t,n){const{prefix:r}=n;if(r!==Sr.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function Oz(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const xa=112,Dz=18;function mb(e,t,n){const r=of(e),i=r+of(t),s=new Uint8Array(i+n.byteLength);return sf(e,s,0),sf(t,s,r),s.set(n,i),s}const zz=Symbol.for("@ipld/js-cid/CID"),Rz={...Y7,...S7,...G7,...m7,...x7,...z7,...F7,...j7,...q7,...k7},Fz={...Pz,...kz},Mz={raw:cz,json:rz};function Mr(e){const t=new globalThis.AbortController;function n(){t.abort();for(const s of e)(s==null?void 0:s.removeEventListener)!=null&&s.removeEventListener("abort",n)}for(const s of e){if((s==null?void 0:s.aborted)===!0){n();break}(s==null?void 0:s.addEventListener)!=null&&s.addEventListener("abort",n)}function r(){for(const s of e)(s==null?void 0:s.removeEventListener)!=null&&s.removeEventListener("abort",n)}const i=t.signal;return i.clear=r,i}const jz="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Vz=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=jz[n[e]&63];return t};function Kz(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var Hz=Kz;const qz=No(Hz),j8=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,Zw=qz(),dd=j8&&!Zw,Wz=Zw&&j8,Gz=typeof globalThis.process<"u"&&typeof globalThis.process.release<"u"&&globalThis.process.release.name==="node"&&!Zw,hd=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope;async function*pd(e,t={}){const n=e.getReader();try{for(;;){const r=await n.read();if(r.done)return;yield r.value}}finally{t.preventCancel!==!0&&await n.cancel(),n.releaseLock()}}function bb(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}function Qz(e,t,n){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");n||(n={}),typeof t=="object"&&(n=t,t=""),t&&(n.code=t);try{return bb(e,n)}catch{n.message=e.message,n.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),bb(new i,n)}}var Yz=Qz;const nr=No(Yz);function yd(e){const[t,n]=e[Symbol.asyncIterator]!=null?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:i=>{r.push(i)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}function Jz(e){return e[Symbol.asyncIterator]!=null}function vb(e,t){let n=0;if(Jz(e))return async function*(){for await(const c of e)yield t(c,n++)}();const r=yd(e),{value:i,done:s}=r.next();if(s===!0)return function*(){}();const o=t(i,n++);if(typeof o.then=="function")return async function*(){yield await o;for await(const c of r)yield t(c,n++)}();const a=t;return function*(){yield o;for(const c of r)yield a(c,n++)}()}let Zz=class extends Error{constructor(n){super(n.statusText);x(this,"response");this.name="HTTPError",this.response=n}};class Xz extends Error{constructor(t="Invalid mtime"){super(t),this.name="InvalidMtimeError"}}function Io(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function cf(e){return e.constructor!=null&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function Dy(e){return typeof e=="object"&&(e.path!=null||e.content!=null)}function uf(e){return typeof(e==null?void 0:e.getReader)=="function"}function V8(e){if(e!=null)return typeof e=="string"&&(e=parseInt(e,8)),e&4095}function eR(e){return Object.prototype.hasOwnProperty.call(e,"secs")}function tR(e){return Object.prototype.hasOwnProperty.call(e,"Seconds")}function nR(e){return Array.isArray(e)}function wd(e){if(e!=null){if(eR(e)&&(e={secs:e.secs,nsecs:e.nsecs}),tR(e)&&(e={secs:BigInt(e.Seconds),nsecs:e.FractionalNanoseconds}),nR(e)&&(e={secs:BigInt(e[0]),nsecs:e[1]}),e instanceof Date){const t=e.getTime(),n=Math.floor(t/1e3);e={secs:BigInt(n),nsecs:(t-n*1e3)*1e3}}if(typeof e=="bigint"){const t=e/BigInt(1e9),n=e-t*BigInt(1e9);e={secs:t,nsecs:Number(n)}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw new Xz("mtime-nsecs must be within the range [0,999999999]");return e}}}async function*rR(e,t){if(typeof e=="string"||e instanceof String||Io(e)||cf(e)||e._readableState!=null)throw nr(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(uf(e)&&(e=pd(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=yd(e),{value:r,done:i}=await n.peek();if(i===!0){yield*[];return}if(n.push(r),Number.isInteger(r))throw nr(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(r._readableState!=null){yield*vb(n,async s=>Rh({content:s},t));return}if(Io(r)){yield Rh({content:n},t);return}if(Dy(r)||r[Symbol.iterator]||r[Symbol.asyncIterator]||uf(r)||cf(r)){yield*vb(n,async s=>Rh(s,t));return}}throw Dy(e)?nr(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):nr(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function Rh(e,t){const{path:n,mode:r,mtime:i,content:s}=e,o={path:n??"",mode:V8(r),mtime:wd(i)};return s!=null?o.content=await t(s):n==null&&(o.content=await t(e)),o}function iR(e){return e[Symbol.asyncIterator]!=null}function K8(e){if(iR(e))return(async()=>{const n=[];for await(const r of e)n.push(r);return n})();const t=[];for(const n of e)t.push(n);return t}async function H8(e){if(Io(e))return new Blob([e]);if(typeof e=="string"||e instanceof String)return new Blob([e.toString()]);if(cf(e))return e;if(uf(e)&&(e=pd(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=yd(e),{value:n,done:r}=await t.peek();if(r===!0)return xb(t);if(t.push(n),Number.isInteger(n))return new Blob([Uint8Array.from(await K8(t))]);if(Io(n)||typeof n=="string"||n instanceof String)return xb(t)}throw new qe(`Unexpected input: ${e}`)}async function xb(e){const t=[];for await(const n of e)t.push(n);return new Blob(t)}function sR(e){return rR(e,H8)}function Xw(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}async function Eb(e,t,n={},r){const i=[],s=new FormData;let o=0,a=0;for await(const{content:c,path:l,mode:u,mtime:f}of sR(e)){let y="";const E=c!=null?"file":"dir";o>0&&(y=`-${o}`);let h=E+y;const b=[];if(u!=null&&b.push(`mode=${Xw(u)}`),f!=null){const{secs:S,nsecs:w}=f;b.push(`mtime=${S}`),w!=null&&b.push(`mtime-nsecs=${w}`)}if(b.length>0&&(h=`${h}?${b.join("&")}`),c!=null){s.set(h,c,l!=null?encodeURIComponent(l):void 0);const S=a+c.size;i.push({name:l,start:a,end:S}),a=S}else if(l!=null)s.set(h,new File([""],encodeURIComponent(l),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");o++}return{total:a,parts:i,headers:n,body:s}}async function zi(e,t,n={},r=`-----------------------------${Vz()}`){let i=Eb;return Wz&&(i=Eb),i(e,t,n,r)}function ft(e){if(e==null)return e;const t=/^[A-Z]+$/,n={};return Object.keys(e).reduce((r,i)=>(t.test(i)?r[i.toLowerCase()]=e[i]:t.test(i[0])?r[i[0].toLowerCase()+i.slice(1)]=e[i]:r[i]=e[i],r),n)}function H({arg:e,searchParams:t,hashAlg:n,mtime:r,mode:i,...s}={}){t!=null&&(s={...s,...t}),n!=null&&(s.hash=n),r!=null&&(r=wd(r),s.mtime=r.secs,s.mtimeNsecs=r.nsecs),i!=null&&(s.mode=Xw(i)),isNaN(s.timeout)||(s.timeout=`${s.timeout}ms`),e==null?e=[]:Array.isArray(e)||(e=[e]);const o=new URLSearchParams(s);return e.forEach(a=>{o.append("arg",a)}),o}function q8(e){return async function*(n,r={}){const i=new AbortController,s=Mr([i.signal,r.signal]);try{const{headers:o,body:a,total:c,parts:l}=await zi(n,i,r.headers),[u,f]=typeof r.progress=="function"?oR(c,r.progress,l):[void 0,void 0],y=await e.post("add",{searchParams:H({"stream-channels":!0,...r,progress:!!u}),onUploadProgress:f,signal:s,headers:o,body:a});for await(let E of y.ndjson())E=ft(E),E.hash!==void 0?yield cR(E):u!=null&&u(E.bytes??0,E.name)}finally{s.clear()}}}const oR=(e,t,n)=>n!=null?[void 0,aR(e,n,t)]:[t,void 0],aR=(e,t,n)=>{let r=0;const i=t.length;return({loaded:s,total:o})=>{const a=Math.floor(s/o*e);for(;r<i;){const{start:c,end:l,name:u}=t[r];if(a<l){n(a-c,u);break}else n(l-c,u),r+=1}}};function cR({name:e,hash:t,size:n,mode:r,mtime:i,mtimeNsecs:s}){const o={path:e,cid:ge.parse(t),size:parseInt(n)};return r!=null&&(o.mode=parseInt(r,8)),i!=null&&(o.mtime={secs:i,nsecs:s??0}),o}function uR(e){return e[Symbol.asyncIterator]!=null}function gd(e){if(uR(e))return(async()=>{let n;for await(const r of e)n=r;return n})();let t;for(const n of e)t=n;return t}async function*lR(e,t){if(e==null)throw nr(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield mu(e.toString(),t);return}if(Io(e)||cf(e)){yield mu(e,t);return}if(uf(e)&&(e=pd(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=yd(e),{value:r,done:i}=await n.peek();if(i===!0){yield{content:[]};return}if(n.push(r),Number.isInteger(r)||Io(r)||typeof r=="string"||r instanceof String){yield mu(n,t);return}throw nr(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(Dy(e)){yield mu(e,t);return}throw nr(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function mu(e,t){const{path:n,mode:r,mtime:i,content:s}=e,o={path:n??"",mode:V8(r),mtime:wd(i)};return s!=null?o.content=await t(s):n==null&&(o.content=await t(e)),o}function fR(e){return lR(e,H8)}function dR(e){const t=q8(e);return async function(r,i={}){const s=fR(r),o=t(s,i),a=await gd(o);if(a==null)throw new Error("Invalid body");return a}}function hR(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function md(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function pR(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var yR=pR,wR=yR;let gR=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},mR=class{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return W8(this,t)}},bR=class{constructor(t){x(this,"decoders");this.decoders=t}or(t){return W8(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function W8(e,t){return new bR({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}let vR=class{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new gR(t,n,r),this.decoder=new mR(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function G8({name:e,prefix:t,encode:n,decode:r}){return new vR(e,t,n,r)}function bd({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=wR(n,e);return G8({prefix:t,name:e,encode:r,decode:s=>md(i(s))})}function xR(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function ER(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function jr({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return G8({prefix:t,name:e,encode(i){return ER(i,r,n)},decode(i){return xR(i,r,n,e)}})}const Jn=bd({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});bd({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const Qu=jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const Fh=bd({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});bd({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var SR=Q8,Sb=128,AR=-128,CR=Math.pow(2,31);function Q8(e,t,n){t=t||[],n=n||0;for(var r=n;e>=CR;)t[n++]=e&255|Sb,e/=128;for(;e&AR;)t[n++]=e&255|Sb,e>>>=7;return t[n]=e|0,Q8.bytes=n-r+1,t}var $R=zy,IR=128,Ab=127;function zy(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw zy.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&Ab)<<i:(o&Ab)*Math.pow(2,i),i+=7}while(o>=IR);return zy.bytes=s-r,n}var _R=Math.pow(2,7),kR=Math.pow(2,14),TR=Math.pow(2,21),BR=Math.pow(2,28),NR=Math.pow(2,35),PR=Math.pow(2,42),UR=Math.pow(2,49),LR=Math.pow(2,56),OR=Math.pow(2,63),DR=function(e){return e<_R?1:e<kR?2:e<TR?3:e<BR?4:e<NR?5:e<PR?6:e<UR?7:e<LR?8:e<OR?9:10},zR={encode:SR,decode:$R,encodingLength:DR},lf=zR;function Ry(e,t=0){return[lf.decode(e,t),lf.decode.bytes]}function ff(e,t,n=0){return lf.encode(e,t,n),t}function df(e){return lf.encodingLength(e)}function hf(e,t){const n=t.byteLength,r=df(e),i=r+df(n),s=new Uint8Array(i+n);return ff(e,s,0),ff(n,s,r),s.set(t,i),new eg(e,n,t,s)}function Y8(e){const t=md(e),[n,r]=Ry(t),[i,s]=Ry(t.subarray(r)),o=t.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new eg(n,i,o,t)}function RR(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&hR(e.bytes,n.bytes)}}class eg{constructor(t,n,r,i){x(this,"code");x(this,"size");x(this,"digest");x(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=i}}function Cb(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return MR(n,Fy(e),t??Jn.encoder);default:return jR(n,Fy(e),t??Qu.encoder)}}const $b=new WeakMap;function Fy(e){const t=$b.get(e);if(t==null){const n=new Map;return $b.set(e,n),n}return t}var tv;class Qe{constructor(t,n,r,i){x(this,"code");x(this,"version");x(this,"multihash");x(this,"bytes");x(this,"/");x(this,tv,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Ea)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==VR)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Qe.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=hf(t,n);return Qe.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Qe.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&RR(t.multihash,r.multihash)}toString(t){return Cb(this,t)}toJSON(){return{"/":Cb(this)}}link(){return this}[(tv=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof Qe)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:i,multihash:s,bytes:o}=n;return new Qe(r,i,s,o??Ib(r,i,s.bytes))}else if(n[KR]===!0){const{version:r,multihash:i,code:s}=n,o=Y8(i);return Qe.create(r,s,o)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==Ea)throw new Error(`Version 0 CID must use dag-pb (code: ${Ea}) block encoding`);return new Qe(t,n,r,r.bytes)}case 1:{const i=Ib(t,n,r.bytes);return new Qe(t,n,r,i)}default:throw new Error("Invalid version")}}static createV0(t){return Qe.create(0,Ea,t)}static createV1(t,n){return Qe.create(1,t,n)}static decode(t){const[n,r]=Qe.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Qe.inspectBytes(t),r=n.size-n.multihashSize,i=md(t.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const s=i.subarray(n.multihashSize-n.digestSize),o=new eg(n.multihashCode,n.digestSize,s,i);return[n.version===0?Qe.createV0(o):Qe.createV1(n.codec,o),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[f,y]=Ry(t.subarray(n));return n+=y,f};let i=r(),s=Ea;if(i===18?(i=0,n=0):s=r(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const o=n,a=r(),c=r(),l=n+c,u=l-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,n){const[r,i]=FR(t,n),s=Qe.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Fy(s).set(r,t),s}}function FR(e,t){switch(e[0]){case"Q":{const n=t??Jn;return[Jn.prefix,n.decode(`${Jn.prefix}${e}`)]}case Jn.prefix:{const n=t??Jn;return[Jn.prefix,n.decode(e)]}case Qu.prefix:{const n=t??Qu;return[Qu.prefix,n.decode(e)]}case Fh.prefix:{const n=t??Fh;return[Fh.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function MR(e,t,n){const{prefix:r}=n;if(r!==Jn.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(i==null){const s=n.encode(e).slice(1);return t.set(r,s),s}else return i}function jR(e,t,n){const{prefix:r}=n,i=t.get(r);if(i==null){const s=n.encode(e);return t.set(r,s),s}else return i}const Ea=112,VR=18;function Ib(e,t,n){const r=df(e),i=r+df(t),s=new Uint8Array(i+n.byteLength);return ff(e,s,0),ff(t,s,r),s.set(n,i),s}const KR=Symbol.for("@ipld/js-cid/CID"),J8=0,HR="identity",Z8=md;function qR(e){return hf(J8,Z8(e))}const X8={code:J8,name:HR,encode:Z8,digest:qR};function WR({name:e,code:t,encode:n}){return new GR(e,t,n)}class GR{constructor(t,n,r){x(this,"name");x(this,"code");x(this,"encode");this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?hf(this.code,n):n.then(r=>hf(this.code,r))}else throw Error("Unknown type, must be binary type")}}function QR(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}const YR=WR({name:"sha2-256",code:18,encode:QR("SHA-256")}),e6=Symbol.for("nodejs.util.inspect.custom"),JR=114;var nv;class tg{constructor(t){x(this,"type");x(this,"multihash");x(this,"publicKey");x(this,"string");x(this,nv,!0);this.type=t.type,this.multihash=t.multihash,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}toString(){return this.string==null&&(this.string=Jn.encode(this.multihash.bytes).slice(1)),this.string}toMultihash(){return this.multihash}toCID(){return Qe.createV1(JR,this.multihash)}toJSON(){return this.toString()}equals(t){var n;if(t==null)return!1;if(t instanceof Uint8Array)return An(this.multihash.bytes,t);if(typeof t=="string")return this.toString()===t;if(((n=t==null?void 0:t.toMultihash())==null?void 0:n.bytes)!=null)return An(this.multihash.bytes,t.toMultihash().bytes);throw new Error("not valid Id")}[(nv=L2,e6)](){return`PeerId(${this.toString()})`}}class ZR extends tg{constructor(n){super({...n,type:"RSA"});x(this,"type","RSA");x(this,"publicKey");this.publicKey=n.publicKey}}class XR extends tg{constructor(n){super({...n,type:"Ed25519"});x(this,"type","Ed25519");x(this,"publicKey");this.publicKey=n.publicKey}}class eF extends tg{constructor(n){super({...n,type:"secp256k1"});x(this,"type","secp256k1");x(this,"publicKey");this.publicKey=n.publicKey}}const tF=2336;var rv,iv;class t6{constructor(t){x(this,"type","url");x(this,"multihash");x(this,"publicKey");x(this,"url");x(this,rv,!0);this.url=t.toString(),this.multihash=X8.digest(xe(this.url))}[(iv=e6,rv=L2,iv)](){return`PeerId(${this.url})`}toString(){return this.toCID().toString()}toMultihash(){return this.multihash}toCID(){return Qe.createV1(tF,this.toMultihash())}toJSON(){return this.toString()}equals(t){return t==null?!1:(t instanceof Uint8Array&&(t=se(t)),t.toString()===this.toString())}}const nF=114,_b=2336;function Zt(e,t){let n;if(e.charAt(0)==="1"||e.charAt(0)==="Q")n=Y8(Jn.decode(`z${e}`));else{if(e.startsWith("k51qzi5uqu5")||e.startsWith("kzwfwjn5ji4")||e.startsWith("k2k4r8")||e.startsWith("bafz"))return rF(Qe.parse(e));throw new qe('Please pass a multibase decoder for strings that do not start with "1" or "Q"')}return n6(n)}function n6(e){if(sF(e))return new ZR({multihash:e});if(iF(e))try{const t=YN(e);if(t.type==="Ed25519")return new XR({multihash:e,publicKey:t});if(t.type==="secp256k1")return new eF({multihash:e,publicKey:t})}catch{const n=se(e.digest);return new t6(new URL(n))}throw new D2("Supplied PeerID Multihash is invalid")}function rF(e){if((e==null?void 0:e.multihash)==null||e.version==null||e.version===1&&e.code!==nF&&e.code!==_b)throw new O2("Supplied PeerID CID is invalid");if(e.code===_b){const t=se(e.multihash.digest);return new t6(new URL(t))}return n6(e.multihash)}function iF(e){return e.code===X8.code}function sF(e){return e.code===YR.code}function r6(e){return async function(n={}){const r=await e.post("bitswap/stat",{searchParams:H(n),signal:n.signal,headers:n.headers});return oF(await r.json())}}function oF(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist??[]).map(t=>ge.parse(t["/"])),peers:(e.Peers??[]).map(t=>Zt(t)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}function aF(e){return async function(n,r={}){return((await(await e.post("bitswap/wantlist",{signal:r.signal,searchParams:H({...r,peer:n.toString()}),headers:r.headers})).json()).Keys??[]).map(s=>ge.parse(s["/"]))}}function cF(e){return async function(n={}){return((await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Keys??[]).map(i=>ge.parse(i["/"]))}}function uF(e){return{wantlist:cF(e),wantlistForPeer:aF(e),stat:r6(e)}}function i6(e){return async function(n,r={}){const i=await e.post("block/get",{signal:r.signal,searchParams:H({arg:n.toString(),...r}),headers:r.headers});return new Uint8Array(await i.arrayBuffer())}}function lF(e){return async function t(n,r={}){const i=new AbortController,s=Mr([i.signal,r.signal]);let o;try{o=await(await e.post("block/put",{signal:s,searchParams:H(r),...await zi([n],i,r.headers)})).json()}catch(a){if(r.format==="dag-pb")return await t(n,{...r,format:"protobuf"});if(r.format==="dag-cbor")return await t(n,{...r,format:"cbor"});throw a}finally{s.clear()}return ge.parse(o.Key)}}function fF(e){return async function*(n,r={}){Array.isArray(n)||(n=[n]);const i=await e.post("block/rm",{signal:r.signal,searchParams:H({arg:n.map(s=>s.toString()),"stream-channels":!0,...r}),headers:r.headers});for await(const s of i.ndjson())yield dF(s)}}function dF(e){const t={cid:ge.parse(e.Hash)};return e.Error!=null&&(t.error=new Error(e.Error)),t}function hF(e){return async function(n,r={}){const s=await(await e.post("block/stat",{signal:r.signal,searchParams:H({arg:n.toString(),...r}),headers:r.headers})).json();return{cid:ge.parse(s.Key),size:s.Size}}}function pF(e){return{get:i6(e),put:lF(e),rm:fF(e),stat:hF(e)}}function yF(e){return async function(n,r={}){const i=await e.post("bootstrap/add",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),{Peers:s}=await i.json();return{Peers:s.map(o=>jt(o))}}}function wF(e){return async function(n={}){const r=await e.post("bootstrap/list",{signal:n.signal,searchParams:H(n),headers:n.headers}),{Peers:i}=await r.json();return{Peers:i.map(s=>jt(s))}}}function gF(e){return async function(n,r={}){const i=await e.post("bootstrap/rm",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),{Peers:s}=await i.json();return{Peers:s.map(o=>jt(o))}}}function mF(e){return{add:yF(e),list:wF(e),rm:gF(e)}}function bF(e){return async function*(n,r={}){yield*(await e.post("cat",{signal:r.signal,searchParams:H({arg:n.toString(),...r}),headers:r.headers})).iterator()}}function vF(e){return async function(n={}){return(await e.post("commands",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()}}function xF(e){return async function(n={}){return await(await e.post("config/show",{signal:n.signal,searchParams:H({...n}),headers:n.headers})).json()}}function EF(e){return async function(n,r={}){if(n==null)throw new Error("key argument is required");return(await(await e.post("config",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json()).Value}}function SF(e){return async function(n,r={}){const s=await(await e.post("config/profile/apply",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json();return{original:s.OldCfg,updated:s.NewCfg}}}function AF(e){return{apply:SF(e)}}function CF(e){return async function(n,r={}){const i=new AbortController,s=Mr([i.signal,r.signal]);try{await(await e.post("config/replace",{signal:s,searchParams:H(r),...await zi([xe(JSON.stringify(n))],i,r.headers)})).text()}finally{s.clear()}}}function $F(e){return async function(n,r,i={}){if(typeof n!="string")throw new Error("Invalid key type");const s={...i,...IF(n,r)};await(await e.post("config",{signal:i.signal,searchParams:H(s),headers:i.headers})).text()}}function IF(e,t){switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}}function _F(e){return{getAll:xF(e),get:EF(e),set:$F(e),replace:CF(e),profiles:AF(e)}}function kF(e){return async function*(n,r={}){yield*(await e.post("dag/export",{signal:r.signal,searchParams:H({arg:n.toString()}),headers:r.headers})).iterator()}}function TF(e){return e[Symbol.asyncIterator]!=null}function BF(e){if(TF(e))return(async()=>{for await(const t of e)return t})();for(const t of e)return t}async function*kb(e,t,n,r,i){const s=async l=>{const u=await n.getCodec(l.code),f=await r(l,i);return u.decode(f)},o=t.split("/").filter(Boolean);let a=await s(e),c=e;for(;o.length>0;){const l=o.shift();if(l==null)throw nr(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(a,l))a=a[l],yield{value:a,remainderPath:o.join("/")};else throw nr(new Error(`no link named "${l}" under ${c}`),"ERR_NO_LINK");const u=ge.asCID(a);u!=null&&(c=u,a=await s(a))}yield{value:a,remainderPath:""}}function NF(e,t){const n=i6(e);return async function(i,s={}){if(s.path!=null){const u=s.localResolve===!0?await BF(kb(i,s.path,t,n,s)):await gd(kb(i,s.path,t,n,s));if(u==null)throw nr(new Error("Not found"),"ERR_NOT_FOUND");return u}const o=await t.getCodec(i.code),a=await n(i,s);return{value:o.decode(a),remainderPath:""}}}function PF(e){return async function*(n,r={}){const i=new AbortController,s=Mr([i.signal,r.signal]);try{const{headers:o,body:a}=await zi(n,i,r.headers),c=await e.post("dag/import",{signal:s,headers:o,body:a,searchParams:H({"pin-roots":r.pinRoots})});for await(const{Root:l}of c.ndjson())if(l!==void 0){const{Cid:{"/":u},PinErrorMsg:f}=l;yield{root:{cid:ge.parse(u),pinErrorMsg:f}}}}finally{s.clear()}}}function UF(e,t){return async function(r,i={}){const s={storeCodec:"dag-cbor",hashAlg:"sha2-256",...i};let o;if(s.inputCodec!=null){if(!(r instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");o=r}else o=(await t.getCodec(s.storeCodec??"dag-cbor")).encode(r),s.inputCodec=s.storeCodec;const a=new AbortController,c=Mr([a.signal,s.signal]);try{const u=await(await e.post("dag/put",{timeout:s.timeout,signal:c,searchParams:H(s),...await zi([o],a,s.headers)})).json();return ge.parse(u.Cid["/"])}finally{c.clear()}}}function LF(e){return async function(n,r={}){const s=await(await e.post("dag/resolve",{signal:r.signal,searchParams:H({arg:`${n}${r.path!=null?`/${r.path}`.replace(/\/[/]+/g,"/"):""}`,...r}),headers:r.headers})).json();return{cid:ge.parse(s.Cid["/"]),remainderPath:s.RemPath}}}function OF(e,t){return{export:kF(e),get:NF(e,t),import:PF(e),put:UF(e,t),resolve:LF(e)}}const DF=0,zF=1,RF=2,FF=3,MF=4,jF=5,VF=6,KF=7;function Ko(e){var t;if(e.Type===DF)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===zF)return{from:Zt(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses??[]).map(({ID:n,Addrs:r})=>({id:Zt(n),multiaddrs:r.map(i=>jt(i)),protocols:[]})),providers:(e.Responses??[]).map(({ID:n,Addrs:r})=>({id:Zt(n),multiaddrs:r.map(i=>jt(i)),protocols:[]}))};if(e.Type===RF){let n={id:e.ID??Zt(e.ID),multiaddrs:[],protocols:[]};return((t=e.Responses)==null?void 0:t.length)>0&&(n={id:Zt(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(r=>jt(r)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:n}}if(e.Type===FF)return{name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(e.Type===MF)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:n,Addrs:r})=>({id:Zt(n),multiaddrs:r.map(i=>jt(i)),protocols:[]}))};if(e.Type===jF)return{name:"VALUE",type:e.Type,value:xe(e.Extra,"base64pad")};if(e.Type===VF){const n=e.Responses.map(({ID:r})=>Zt(r));if(n.length===0)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:n[0]}}if(e.Type===KF)return{name:"DIALING_PEER",type:e.Type,peer:Zt(e.ID)};throw new Error("Unknown DHT event type")}function HF(e){return async function*(n,r={}){const i=await e.post("dht/query",{signal:r.signal,searchParams:H({arg:n.toString(),...r}),headers:r.headers});for await(const s of i.ndjson())yield Ko(s)}}var Tb;(function(e){e[e.SENDING_QUERY=0]="SENDING_QUERY",e[e.PEER_RESPONSE=1]="PEER_RESPONSE",e[e.FINAL_PEER=2]="FINAL_PEER",e[e.QUERY_ERROR=3]="QUERY_ERROR",e[e.PROVIDER=4]="PROVIDER",e[e.VALUE=5]="VALUE",e[e.ADDING_PEER=6]="ADDING_PEER",e[e.DIALING_PEER=7]="DIALING_PEER"})(Tb||(Tb={}));var Bb;(function(e){e[e.PUT_VALUE=0]="PUT_VALUE",e[e.GET_VALUE=1]="GET_VALUE",e[e.ADD_PROVIDER=2]="ADD_PROVIDER",e[e.GET_PROVIDERS=3]="GET_PROVIDERS",e[e.FIND_NODE=4]="FIND_NODE",e[e.PING=5]="PING"})(Bb||(Bb={}));function qF(e){return{query:HF(e)}}function WF(e){return async function(n={}){return(await e.post("diag/cmds",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()}}function GF(e){return async function(n={}){return(await e.post("diag/net",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()}}function QF(e){return async function(n={}){return(await e.post("diag/sys",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()}}function YF(e){return{cmds:WF(e),net:GF(e),sys:QF(e)}}function JF(e){return async function(n,r,i={}){const s=Array.isArray(n)?n:[n];await(await e.post("files/cp",{signal:i.signal,searchParams:H({arg:s.concat(r).map(a=>ge.asCID(a)!=null?`/ipfs/${a}`:a),...i}),headers:i.headers})).text()}}function ZF(e){return async function(n,r={}){if(typeof n!="string")throw new Error("ipfs.files.flush requires a path");const s=await(await e.post("files/flush",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json();return ge.parse(s.Cid)}}function My(e){const t=ft(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs??0},delete t.mtimeNsecs),t}function XF(e){return async function*(n,r={}){if(n==null)throw new Error("ipfs.files.ls requires a path");const i=await e.post("files/ls",{signal:r.signal,searchParams:H({arg:ge.asCID(n)!=null?`/ipfs/${n}`:n,long:!0,...r,stream:!0}),headers:r.headers});for await(const s of i.ndjson())if("Entries"in s)for(const o of s.Entries??[])yield Nb(My(o));else yield Nb(My(s))}}function Nb(e){return e.hash!=null&&(e.cid=ge.parse(e.hash)),delete e.hash,e.type=e.type===1?"directory":"file",e}function eM(e){return async function(n,r={}){await(await e.post("files/mkdir",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).text()}}function tM(e){return async function(n,r,i={}){Array.isArray(n)||(n=[n]),await(await e.post("files/mv",{signal:i.signal,searchParams:H({arg:n.concat(r),...i}),headers:i.headers})).text()}}function nM(e){if(iM(e))return async function*(){const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)return;yield r}}finally{t.releaseLock()}}();if(rM(e))return e;throw new Error("unknown stream")}function rM(e){return e[Symbol.asyncIterator]!=null}function iM(e){return typeof(e==null?void 0:e.getReader)=="function"}function sM(e){return async function*(n,r={}){const i=await e.post("files/read",{signal:r.signal,searchParams:H({arg:n,count:r.length,...r}),headers:r.headers});if(i.body==null)throw new Error("Invalid response body");yield*nM(i.body)}}function oM(e){return async function(n,r={}){const i=await e.post("files/rm",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),s=await i.text();if(s!==""){const o=new Zz(i);throw o.message=s,o}}}function s6(e){return async function(n,r={}){const s=await(await e.post("files/stat",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json();return s.WithLocality=s.WithLocality??!1,aM(My(s))}}function aM(e){return e.cid=ge.parse(e.hash),delete e.hash,e}function cM(e){return async function(n,r,i={}){const s=new AbortController,o=Mr([s.signal,i.signal]);try{await(await e.post("files/write",{signal:o,searchParams:H({arg:n,streamChannels:!0,count:i.length,...i}),...await zi([{content:r,path:"arg",mode:Xw(i.mode),mtime:wd(i.mtime)}],s,i.headers)})).text()}finally{o.clear()}}}function uM(e){return{cp:JF(e),flush:ZF(e),ls:XF(e),mkdir:eM(e),mv:tM(e),read:sM(e),rm:oM(e),stat:s6(e),write:cM(e)}}function lM(e){return function(){const n=new URL(e.opts.base??"");return{host:n.hostname,port:n.port,protocol:n.protocol,pathname:n.pathname,"api-path":n.pathname}}}function fM(e){return async function*(n,r={}){const i={arg:`${n instanceof Uint8Array?ge.decode(n):n}`,...r};yield*(await e.post("get",{signal:r.signal,searchParams:H(i),headers:r.headers})).iterator()}}function o6(e){return async function(n={}){const i=await(await e.post("id",{signal:n.signal,searchParams:H({arg:n.peerId!=null?n.peerId.toString():void 0,...n}),headers:n.headers})).json(),s={...ft(i)};return s.id=Zt(s.id),s.addresses!=null&&(s.addresses=s.addresses.map(o=>jt(o))),s}}function dM(e){const t=o6(e);return async function(r={}){var i;try{const s=await t(r);return!!((i=s==null?void 0:s.addresses)!=null&&i.length)}catch{return!1}}}const hM={type:"ed25519"};function pM(e){return async function(n,r=hM){const s=await(await e.post("key/gen",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json();return ft(s)}}function yM(e){return async function(n,r,i,s={}){const a=await(await e.post("key/import",{signal:s.signal,searchParams:H({arg:n,pem:r,password:i,...s}),headers:s.headers})).json();return ft(a)}}function wM(e){return async function(n={}){return((await(await e.post("key/list",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Keys??[]).map(s=>ft(s))}}function gM(e){return async function(n,r,i={}){const s=await e.post("key/rename",{signal:i.signal,searchParams:H({arg:[n,r],...i}),headers:i.headers});return ft(await s.json())}}function mM(e){return async function(n,r={}){const s=await(await e.post("key/rm",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers})).json();return ft(s.Keys[0])}}function bM(e){return{gen:pM(e),import:yM(e),list:wM(e),rename:gM(e),rm:mM(e)}}function vM(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function xM(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var b=0,S=0,w=0,m=h.length;w!==m&&h[w]===0;)w++,b++;for(var g=(m-w)*u+1>>>0,v=new Uint8Array(g);w!==m;){for(var C=h[w],k=0,$=g-1;(C!==0||k<S)&&$!==-1;$--,k++)C+=256*v[$]>>>0,v[$]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");S=k,w++}for(var I=g-S;I!==g&&v[I]===0;)I++;for(var N=c.repeat(b);I<g;++I)N+=e.charAt(v[I]);return N}function y(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var b=0;if(h[b]!==" "){for(var S=0,w=0;h[b]===c;)S++,b++;for(var m=(h.length-b)*l+1>>>0,g=new Uint8Array(m);h[b];){var v=n[h.charCodeAt(b)];if(v===255)return;for(var C=0,k=m-1;(v!==0||C<w)&&k!==-1;k--,C++)v+=a*g[k]>>>0,g[k]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");w=C,b++}if(h[b]!==" "){for(var $=m-w;$!==m&&g[$]===0;)$++;for(var I=new Uint8Array(S+(m-$)),N=S;$!==m;)I[N++]=g[$++];return I}}}function E(h){var b=y(h);if(b)return b;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:y,decode:E}}var EM=xM,SM=EM;class AM{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class CM{constructor(t,n,r){x(this,"name");x(this,"prefix");x(this,"baseDecode");x(this,"prefixCodePoint");this.name=t,this.prefix=n;const i=n.codePointAt(0);if(i===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return a6(this,t)}}class $M{constructor(t){x(this,"decoders");this.decoders=t}or(t){return a6(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function a6(e,t){return new $M({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class IM{constructor(t,n,r,i){x(this,"name");x(this,"prefix");x(this,"baseEncode");x(this,"baseDecode");x(this,"encoder");x(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new AM(t,n,r),this.decoder=new CM(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function c6({name:e,prefix:t,encode:n,decode:r}){return new IM(e,t,n,r)}function u6({name:e,prefix:t,alphabet:n}){const{encode:r,decode:i}=SM(n,e);return c6({prefix:t,name:e,encode:r,decode:s=>vM(i(s))})}function _M(e,t,n,r){const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[e[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o}function kM(e,t,n){const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o!==0&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s}function un({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return c6({prefix:t,name:e,encode(i){return kM(i,r,n)},decode(i){return _M(i,r,n,e)}})}const TM=un({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});un({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});un({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});un({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});un({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});un({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});un({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});un({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});un({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const BM=u6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});u6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const NM=un({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});un({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});un({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});un({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const _o=1e3,ko=_o*60,To=ko*60,ws=To*24,PM=ws*7,UM=ws*365.25;function l6(e,t){try{if(typeof e=="string"&&e.length>0)return LM(e);if(typeof e=="number"&&isFinite(e))return t!=null&&t.long?DM(e):OM(e);throw new Error("Value is not a string or number.")}catch(n){const r=zM(n)?`${n.message}. value=${JSON.stringify(e)}`:"An unknown error has occured.";throw new Error(r)}}function LM(e){if(e=String(e),e.length>100)throw new Error("Value exceeds the maximum length of 100 characters.");const t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return NaN;const n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*UM;case"weeks":case"week":case"w":return n*PM;case"days":case"day":case"d":return n*ws;case"hours":case"hour":case"hrs":case"hr":case"h":return n*To;case"minutes":case"minute":case"mins":case"min":case"m":return n*ko;case"seconds":case"second":case"secs":case"sec":case"s":return n*_o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:throw new Error(`The unit ${r} was matched, but no matching case exists.`)}}function OM(e){const t=Math.abs(e);return t>=ws?`${Math.round(e/ws)}d`:t>=To?`${Math.round(e/To)}h`:t>=ko?`${Math.round(e/ko)}m`:t>=_o?`${Math.round(e/_o)}s`:`${e}ms`}function DM(e){const t=Math.abs(e);return t>=ws?bu(e,t,ws,"day"):t>=To?bu(e,t,To,"hour"):t>=ko?bu(e,t,ko,"minute"):t>=_o?bu(e,t,_o,"second"):`${e} ms`}function bu(e,t,n,r){const i=t>=n*1.5;return`${Math.round(e/n)} ${r}${i?"s":""}`}function zM(e){return typeof e=="object"&&e!==null&&"message"in e}function RM(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=l6,n.destroy=l,Object.keys(e).forEach(u=>{n[u]=e[u]}),n.names=[],n.skips=[],n.formatters={};function t(u){let f=0;for(let y=0;y<u.length;y++)f=(f<<5)-f+u.charCodeAt(y),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(u){let f,y=null,E,h;function b(...S){if(!b.enabled)return;const w=b,m=Number(new Date),g=m-(f||m);w.diff=g,w.prev=f,w.curr=m,f=m,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let v=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(k,$)=>{if(k==="%%")return"%";v++;const I=n.formatters[$];if(typeof I=="function"){const N=S[v];k=I.call(w,N),S.splice(v,1),v--}return k}),n.formatArgs.call(w,S),(w.log||n.log).apply(w,S)}return b.namespace=u,b.useColors=n.useColors(),b.color=n.selectColor(u),b.extend=r,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(E!==n.namespaces&&(E=n.namespaces,h=n.enabled(u)),h),set:S=>{y=S}}),typeof n.init=="function"&&n.init(b),b}function r(u,f){const y=n(this.namespace+(typeof f>"u"?":":f)+u);return y.log=this.log,y}function i(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let f;const y=(typeof u=="string"?u:"").split(/[\s,]+/),E=y.length;for(f=0;f<E;f++)y[f]&&(u=y[f].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,y;for(f=0,y=n.skips.length;f<y;f++)if(n.skips[f].test(u))return!1;for(f=0,y=n.names.length;f<y;f++)if(n.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack??u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.setupFormatters(n.formatters),n.enable(n.load()),n}var FM={};const Zn=WM(),MM=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jM(){var e,t,n,r,i;return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&((e=navigator.userAgent)==null?void 0:e.toLowerCase().match(/(edge|trident)\/(\d+)/))!=null?!1:typeof document<"u"&&((n=(t=document.documentElement)==null?void 0:t.style)==null?void 0:n.WebkitAppearance)||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&((r=navigator.userAgent)==null?void 0:r.toLowerCase().match(/firefox\/(\d+)/))!=null&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&((i=navigator.userAgent)==null?void 0:i.toLowerCase().match(/applewebkit\/(\d+)/))}function VM(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+l6(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),e.splice(r,0,t)}const KM=console.debug??console.log??(()=>{});function HM(e){try{e?Zn==null||Zn.setItem("debug",e):Zn==null||Zn.removeItem("debug")}catch{}}function qM(){let e;try{e=Zn==null?void 0:Zn.getItem("debug")}catch{}return!e&&typeof globalThis.process<"u"&&"env"in globalThis.process&&(e=FM.DEBUG),e}function WM(){try{return localStorage}catch{}}function GM(e){e.j=function(t){try{return JSON.stringify(t)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}const Xt=RM({formatArgs:VM,save:HM,load:qM,useColors:jM,setupFormatters:GM,colors:MM,storage:Zn,log:KM});Xt.formatters.b=e=>e==null?"undefined":BM.baseEncode(e);Xt.formatters.t=e=>e==null?"undefined":TM.baseEncode(e);Xt.formatters.m=e=>e==null?"undefined":NM.baseEncode(e);Xt.formatters.p=e=>e==null?"undefined":e.toString();Xt.formatters.c=e=>e==null?"undefined":e.toString();Xt.formatters.k=e=>e==null?"undefined":e.toString();Xt.formatters.a=e=>e==null?"undefined":e.toString();Xt.formatters.e=e=>e==null?"undefined":Pb(e.stack)??Pb(e.message)??e.toString();function QM(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function ng(e){let t=QM(`${e}:trace`);return Xt.enabled(`${e}:trace`)&&Xt.names.map(n=>n.toString()).find(n=>n.includes(":trace"))!=null&&(t=Xt(`${e}:trace`)),Object.assign(Xt(e),{error:Xt(`${e}:error`),trace:t})}function Pb(e){if(e!=null&&(e=e.trim(),e.length!==0))return e}var YM=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype};const pf=YM,{hasOwnProperty:f6}=Object.prototype,{propertyIsEnumerable:JM}=Object,Bo=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),ZM=sv,Ub={concatArrays:!1,ignoreUndefined:!1},vd=e=>{const t=[];for(const n in e)f6.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)JM.call(e,r)&&t.push(r)}return t};function Ho(e){return Array.isArray(e)?XM(e):pf(e)?e9(e):e}function XM(e){const t=e.slice(0,0);return vd(e).forEach(n=>{Bo(t,n,Ho(e[n]))}),t}function e9(e){const t=Object.getPrototypeOf(e)===null?Object.create(null):{};return vd(e).forEach(n=>{Bo(t,n,Ho(e[n]))}),t}const d6=(e,t,n,r)=>(n.forEach(i=>{typeof t[i]>"u"&&r.ignoreUndefined||(i in e&&e[i]!==Object.getPrototypeOf(e)?Bo(e,i,jy(e[i],t[i],r)):Bo(e,i,Ho(t[i])))}),e),t9=(e,t,n)=>{let r=e.slice(0,0),i=0;return[e,t].forEach(s=>{const o=[];for(let a=0;a<s.length;a++)f6.call(s,a)&&(o.push(String(a)),s===e?Bo(r,i++,s[a]):Bo(r,i++,Ho(s[a])));r=d6(r,s,vd(s).filter(a=>!o.includes(a)),n)}),r};function jy(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?t9(e,t,n):!pf(t)||!pf(e)?Ho(t):d6(e,t,vd(t),n)}var n9=function(...e){const t=jy(Ho(Ub),this!==ZM&&this||{},Ub);let n={_:{}};for(const r of e)if(r!==void 0){if(!pf(r))throw new TypeError("`"+r+"` is not an Option Object");n=jy(n,{_:r},t)}return n._};const h6=No(n9),pe=Object.create(null),p6=6e4,y6=p6*60,rg=y6*24,w6=rg*365.25;pe.year=pe.yr=pe.y=w6;pe.month=pe.mo=pe.mth=w6/12;pe.week=pe.wk=pe.w=rg*7;pe.day=pe.d=rg;pe.hour=pe.hr=pe.h=y6;pe.minute=pe.min=pe.m=p6;pe.second=pe.sec=pe.s=1e3;pe.millisecond=pe.millisec=pe.ms=1;pe.microsecond=pe.microsec=pe.us=pe.s=.001;pe.nanosecond=pe.nanosec=pe.ns=1e-6;pe.group=",";pe.decimal=".";pe.placeholder=" _";const r9=/((?:\d{1,16}(?:\.\d{1,16})?|\.\d{1,16})(?:[eE][-+]?\d{1,4})?)\s?([\p{L}]{0,14})/gu;Yn.unit=pe;function Yn(e="",t="ms"){let n=null,r;return String(e).replace(new RegExp(`(\\d)[${Yn.unit.placeholder}${Yn.unit.group}](\\d)`,"g"),"$1$2").replace(Yn.unit.decimal,".").replace(r9,(i,s,o)=>{if(o)o=o.toLowerCase();else if(r){for(const a in Yn.unit)if(Yn.unit[a]<r){o=a;break}}else o=t;r=o=Yn.unit[o]||Yn.unit[o.replace(/s$/,"")],o&&(n=(n||0)+s*o)}),n&&n/(Yn.unit[t]||1)*(e[0]==="-"?-1:1)}const i9=()=>{},s9=typeof navigator<"u"&&navigator.product==="ReactNative";function o9(){return s9?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}const ja=self.URL,g6=o9();let a9=class{constructor(t="",n=g6){this.super=new ja(t,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set username(t){this.super.username=t}static createObjectURL(t){return ja.createObjectURL(t)}static revokeObjectURL(t){ja.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function c9(e){if(typeof e=="string")return new ja(e).toString();if(!(e instanceof ja)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",l=e.pathname||"",u=e.path||l+a;return`${i}${t||n}${s||o+r}${u}${c}`}}var m6={URLWithLegacySupport:a9,URLSearchParams:self.URLSearchParams,defaultBase:g6,format:c9};const{URLWithLegacySupport:Lb,format:u9}=m6;var l9=(e,t={},n={},r)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(n[i]||r||i)+":";let s;try{s=new Lb(e)}catch{s={}}const o=Object.assign({},t,{protocol:i||s.protocol,host:t.host||s.host});return new Lb(e,u9(o)).toString()};const{URLWithLegacySupport:f9,format:d9,URLSearchParams:h9,defaultBase:p9}=m6,y9=l9;var vu={URL:f9,URLSearchParams:h9,format:d9,relative:y9,defaultBase:p9};class b6 extends Error{constructor(t="Request timed out"){super(t),this.name="TimeoutError"}}class w9 extends Error{constructor(t="The operation was aborted."){super(t),this.name="AbortError"}}class Ob extends Error{constructor(n){super(n.statusText);x(this,"response");this.name="HTTPError",this.response=n}}const g9=globalThis.fetch,ig=globalThis.Headers,m9=globalThis.Request,v6=globalThis.Response,b9=async(e,t={})=>{const n=new XMLHttpRequest;n.open(t.method??"GET",e.toString(),!0);const{timeout:r,headers:i}=t,s=Number(r);if(!isNaN(s)&&s>0&&s<1/0&&(n.timeout=s),t.overrideMimeType!=null&&n.overrideMimeType(t.overrideMimeType),i!=null)for(const[o,a]of new ig(i))n.setRequestHeader(o,a);return t.signal!=null&&(t.signal.onabort=()=>{n.abort()}),t.onUploadProgress!=null&&(n.upload.onprogress=t.onUploadProgress),n.responseType="arraybuffer",new Promise((o,a)=>{const c=l=>{switch(l.type){case"error":{o(v6.error());break}case"load":{o(new S9(n.responseURL,n.response,{status:n.status,statusText:n.statusText,headers:E9(n.getAllResponseHeaders())}));break}case"timeout":{a(new b6);break}case"abort":{a(new w9);break}}};n.onerror=c,n.onload=c,n.ontimeout=c,n.onabort=c,n.send(t.body)})},v9=g9,x9=(e,t={})=>t.onUploadProgress!=null?b9(e,t):v9(e,t),E9=e=>{const t=new ig;for(const n of e.trim().split(/[\r\n]+/)){const r=n.indexOf(": ");r>0&&t.set(n.slice(0,r),n.slice(r+1))}return t};class S9 extends v6{constructor(t,n,r){super(n,r),Object.defineProperty(this,"url",{value:t})}}const Db=h6.bind({ignoreUndefined:!0}),xu=ng("kubo-rpc-client:fetch"),A9={throwHttpErrors:!0,credentials:"same-origin"},zt=class zt{constructor(t={}){x(this,"opts");this.opts=Db({},A9,t)}async fetch(t,n={}){const r=Db({},this.opts,n),i=new ig(r.headers);if(typeof t!="string"&&!(t instanceof vu.URL||t instanceof m9))throw new TypeError("`resource` must be a string, URL, or Request");const s=new vu.URL(t.toString(),r.base),{searchParams:o,transformSearchParams:a,json:c}=r;o!=null&&(typeof a=="function"?s.search=a(new vu.URLSearchParams(r.searchParams)):s.search=new vu.URLSearchParams(r.searchParams).toString()),c!=null&&(r.body=JSON.stringify(r.json),i.set("content-type","application/json"));const l=[r.signal];r.timeout!=null&&isNaN(r.timeout)&&r.timeout>0&&l.push(AbortSignal.timeout(r.timeout));const u=Mr(l);try{globalThis.ReadableStream!=null&&r.body instanceof globalThis.ReadableStream&&(dd||hd)&&(r.body=new Blob(await K8(pd(r.body)))),xu.trace("outgoing headers",r.headers),xu.trace("%s %s",r.method,s);const f=await x9(s.toString(),{...r,signal:r.signal,timeout:void 0,headers:i,duplex:"half"});if(xu("%s %s %d",r.method,s,f.status),xu.trace("incoming headers",f.headers),!f.ok&&r.throwHttpErrors===!0)throw r.handleError!=null&&await r.handleError(f),new Ob(f);return f.iterator=async function*(){yield*$9(f.body)},f.ndjson=async function*(){for await(const y of C9(f.iterator()))n.transform!=null?yield n.transform(y):yield y},f}finally{u.clear()}}async post(t,n={}){return this.fetch(t,{...n,method:"POST"})}async get(t,n={}){return this.fetch(t,{...n,method:"GET"})}async put(t,n={}){return this.fetch(t,{...n,method:"PUT"})}async delete(t,n={}){return this.fetch(t,{...n,method:"DELETE"})}async options(t,n={}){return this.fetch(t,{...n,method:"OPTIONS"})}};x(zt,"HTTPError",Ob),x(zt,"TimeoutError",b6),x(zt,"post",async(t,n)=>new zt(n).post(t,n)),x(zt,"get",async(t,n)=>new zt(n).get(t,n)),x(zt,"put",async(t,n)=>new zt(n).put(t,n)),x(zt,"delete",async(t,n)=>new zt(n).delete(t,n)),x(zt,"options",async(t,n)=>new zt(n).options(t,n));let es=zt;const C9=async function*(e){const t=new TextDecoder;let n="";for await(const r of e){n+=t.decode(r,{stream:!0});const i=n.split(/\r?\n/);for(let s=0;s<i.length-1;s++){const o=i[s].trim();o.length>0&&(yield JSON.parse(o))}n=i[i.length-1]}n+=t.decode(),n=n.trim(),n.length!==0&&(yield JSON.parse(n))},$9=e=>{if(I9(e))return e;if(k9(e)){const t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:t.next.bind(t),return(n){return e.destroy(),typeof t.return=="function"?t.return():Promise.resolve({done:!0,value:n})}}}}}if(_9(e)){const t=e.getReader();return async function*(){try{for(;;){const{done:n,value:r}=await t.read();if(n)return;r!=null&&(yield r)}}finally{t.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},I9=e=>e!==null&&typeof e[Symbol.asyncIterator]=="function",_9=e=>e!=null&&typeof e.getReader=="function",k9=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable"),T9=[he("tcp").code,he("dns").code,he("dnsaddr").code,he("dns4").code,he("dns6").code];function zb(e){var t;return(t=x6("sni",e))==null?void 0:t[1]}function Rb(e){var n;const t=(n=x6("tcp",e))==null?void 0:n[1];return t==null?"":`:${t}`}function x6(e,t){let n;try{n=he(e).code}catch{return}for(const[r,i]of t)if(r===n&&i!=null)return[r,i]}function Fb(e){return e.some(([t,n])=>t===he("tls").code)}function Tn(e,t,n){const r=E6[he(e).name];if(r==null)throw new Error(`Can't interpret protocol ${he(e).name}`);const i=r(t,n);return e===he("ip6").code?`[${i}]`:i}const E6={ip4:(e,t)=>e,ip6:(e,t)=>t.length===0?e:`[${e}]`,tcp:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`tcp://${Tn(n[0],n[1]??"",t)}:${e}`},udp:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`udp://${Tn(n[0],n[1]??"",t)}:${e}`},dnsaddr:(e,t)=>e,dns4:(e,t)=>e,dns6:(e,t)=>e,dns:(e,t)=>e,ipfs:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`${Tn(n[0],n[1]??"",t)}`},p2p:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return`${Tn(n[0],n[1]??"",t)}`},http:(e,t)=>{const n=Fb(t),r=zb(t),i=Rb(t);if(n&&r!=null)return`https://${r}${i}`;const s=n?"https://":"http://",o=t.pop();if(o==null)throw new Error("Unexpected end of multiaddr");let a=Tn(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${s}${a}`},"http-path":(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");const r=Tn(n[0],n[1]??"",t),i=decodeURIComponent(e);return`${r}/${i}`},tls:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return Tn(n[0],n[1]??"",t)},sni:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");return Tn(n[0],n[1]??"",t)},https:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");let r=Tn(n[0],n[1]??"",t);return r=r.replace("tcp://",""),`https://${r}`},ws:(e,t)=>{const n=Fb(t),r=zb(t),i=Rb(t);if(n&&r!=null)return`wss://${r}${i}`;const s=n?"wss://":"ws://",o=t.pop();if(o==null)throw new Error("Unexpected end of multiaddr");let a=Tn(o[0],o[1]??"",t);return a=a.replace("tcp://",""),`${s}${a}`},wss:(e,t)=>{const n=t.pop();if(n==null)throw new Error("Unexpected end of multiaddr");let r=Tn(n[0],n[1]??"",t);return r=r.replace("tcp://",""),`wss://${r}`}};function B9(e,t){const r=jt(e).stringTuples(),i=r.pop();if(i==null)throw new Error("Unexpected end of multiaddr");const s=he(i[0]),o=E6[s.name];if(o==null)throw new Error(`No interpreter found for ${s.name}`);let a=o(i[1]??"",r);return T9.includes(i[0])&&(a=a.replace(/^.*:\/\//,""),i[1]==="443"?a=`https://${a}`:a=`http://${a}`),(a.startsWith("http://")||a.startsWith("https://")||a.startsWith("ws://")||a.startsWith("wss://"))&&(a=new URL(a).toString(),a.endsWith("/")&&(a=a.substring(0,a.length-1))),a}function Mb(e){try{e=B9(jt(e))}catch{}return e=e.toString(),e}const jb=ng("js-kubo-rpc-client:lib:error-handler"),N9=h6.bind({ignoreUndefined:!0}),P9=dd||hd?location.protocol:"http",U9=dd||hd?location.hostname:"localhost",L9=dd||hd?location.port:"5001",O9=(e={})=>{let t,n={},r;if(typeof e=="string"||Hl(e))t=new URL(Mb(e));else if(e instanceof URL)t=e;else if(typeof e.url=="string"||Hl(e.url))t=new URL(Mb(e.url)),n=e;else if(e.url instanceof URL)t=e.url,n=e;else{n=e??{};const i=(n.protocol??P9).replace(":",""),s=(n.host??U9).split(":")[0],o=n.port??L9;t=new URL(`${i}://${s}:${o}`)}if(n.apiPath!=null?t.pathname=n.apiPath:(t.pathname==="/"||t.pathname===void 0)&&(t.pathname="api/v0"),Gz){const i=i9();r=n.agent??new i({keepAlive:!0,maxSockets:6})}return{...n,host:t.host,protocol:t.protocol.replace(":",""),port:Number(t.port),apiPath:t.pathname,url:t,agent:r}},D9=async e=>{let t;try{if((e.headers.get("Content-Type")??"").startsWith("application/json")){const r=await e.json();jb(r),t=r.Message??r.message}else t=await e.text()}catch(r){jb("Failed to parse error response",r),t=r.message}let n=new es.HTTPError(e);throw t!=null&&(t.includes("deadline has elapsed")&&(n=new es.TimeoutError),t.includes("context deadline exceeded")&&(n=new es.TimeoutError),t.includes("request timed out")&&(n=new es.TimeoutError),n.message=t),n},z9=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,Vb=e=>e.replace(z9,function(t){return"-"+t.toLowerCase()}),R9=e=>typeof e=="string"?Yn(e)??0:e;class F9 extends es{constructor(t={}){const n=O9(t);super({timeout:n.timeout!=null?R9(n.timeout):void 0,headers:n.headers,base:`${n.url}`,handleError:D9,transformSearchParams:i=>{const s=new URLSearchParams;for(const[o,a]of i)a!=="undefined"&&a!=="null"&&o!=="signal"&&o!=="timeout"&&s.append(Vb(o),a),o==="timeout"&&!isNaN(parseInt(a))&&s.append(Vb(o),a);return s},agent:n.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const r=this.fetch;this.fetch=async(i,s={})=>(typeof i=="string"&&!i.startsWith("/")&&(i=`${n.url}/${i}`),r.call(this,i,N9(s,{method:"POST"})))}}const M9=async e=>Promise.reject(new Error(`No base found for "${e}"`));class j9{constructor(t){x(this,"_basesByName");x(this,"_basesByPrefix");x(this,"_loadBase");this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase??M9;for(const n of t.bases)this.addBase(n)}addBase(t){if(this._basesByName[t.name]!=null&&this._basesByPrefix[t.prefix]!=null)throw new Error(`Codec already exists for codec "${t.name}"`);this._basesByName[t.name]=t,this._basesByPrefix[t.prefix]=t}removeBase(t){delete this._basesByName[t.name],delete this._basesByPrefix[t.prefix]}async getBase(t){if(this._basesByName[t]!=null)return this._basesByName[t];if(this._basesByPrefix[t]!=null)return this._basesByPrefix[t];const n=await this._loadBase(t);return this._basesByName[n.name]==null&&this._basesByPrefix[n.prefix]==null&&this.addBase(n),n}listBases(){return Object.values(this._basesByName)}}const V9=async e=>Promise.reject(new Error(`No codec found for "${e}"`));class K9{constructor(t){x(this,"_codecsByName");x(this,"_codecsByCode");x(this,"_loadCodec");this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec??V9;for(const n of t.codecs)this.addCodec(n)}addCodec(t){if(this._codecsByName[t.name]!=null||this._codecsByCode[t.code]!=null)throw new Error(`Resolver already exists for codec "${t.name}"`);this._codecsByName[t.name]=t,this._codecsByCode[t.code]=t}removeCodec(t){delete this._codecsByName[t.name],delete this._codecsByCode[t.code]}async getCodec(t){const n=typeof t=="string"?this._codecsByName:this._codecsByCode;if(n[t]!=null)return n[t];const r=await this._loadCodec(t);return n[t]==null&&this.addCodec(r),r}listCodecs(){return Object.values(this._codecsByName)}}const H9=async e=>Promise.reject(new Error(`No hasher found for "${e}"`));class q9{constructor(t){x(this,"_hashersByName");x(this,"_hashersByCode");x(this,"_loadHasher");this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher??H9;for(const n of t.hashers)this.addHasher(n)}addHasher(t){if(this._hashersByName[t.name]!=null||this._hashersByCode[t.code]!=null)throw new Error(`Resolver already exists for codec "${t.name}"`);this._hashersByName[t.name]=t,this._hashersByCode[t.code]=t}removeHasher(t){delete this._hashersByName[t.name],delete this._hashersByCode[t.code]}async getHasher(t){const n=typeof t=="string"?this._hashersByName:this._hashersByCode;if(n[t]!=null)return n[t];const r=await this._loadHasher(t);return n[t]==null&&this.addHasher(r),r}listHashers(){return Object.values(this._hashersByName)}}function W9(e){return async function(t,n,r={}){const i=await e.post("log/level",{signal:r.signal,searchParams:H({arg:[t,n],...r}),headers:r.headers});return ft(await i.json())}}function G9(e){return async function(n={}){return(await(await e.post("log/ls",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Strings}}function Q9(e){return async function*(n={}){yield*(await e.post("log/tail",{signal:n.signal,searchParams:H(n),headers:n.headers})).ndjson()}}function Y9(e){return{level:W9(e),ls:G9(e),tail:Q9(e)}}function J9(e){return async function*(n,r={}){const i=`${n instanceof Uint8Array?ge.decode(n):n}`;async function s(a){let c=a.Hash;if(c.includes("/")===!0){const u=c.startsWith("/ipfs/")===!0?c:`/ipfs/${c}`;c=(await s6(e)(u)).cid}else c=ge.parse(c);return{name:a.Name,path:i+(a.Name!=null?`/${a.Name}`:""),size:a.Size,cid:c,type:Z9(a)}}const o=await e.post("ls",{signal:r.signal,searchParams:H({arg:i,...r}),headers:r.headers});for await(let a of o.ndjson()){if(a=a.Objects,a==null)throw new Error("expected .Objects in results");if(a=a[0],a==null)throw new Error("expected one array in results.Objects");const c=a.Links;if(!Array.isArray(c))throw new Error("expected one array in results.Objects[0].Links");if(c.length===0){yield s(a);return}yield*c.map(s)}}}function Z9(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}function X9(e){return async function(n={}){const r=await e.post("dns",{signal:n.signal,searchParams:H(n),headers:n.headers});return ft(await r.json())}}function ej(e){return async function(n,r={}){const i=await e.post("name/publish",{signal:r.signal,searchParams:H({arg:`${n}`,...r}),headers:r.headers});return ft(await i.json())}}function tj(e){return async function(n,r={}){const i=await e.post("name/pubsub/cancel",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers});return ft(await i.json())}}function nj(e){return async function(n={}){const r=await e.post("name/pubsub/state",{signal:n.signal,searchParams:H(n),headers:n.headers});return ft(await r.json())}}function rj(e){return async function(n={}){return(await(await e.post("name/pubsub/subs",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Strings??[]}}function ij(e){return{cancel:tj(e),state:nj(e),subs:rj(e)}}function sj(e){return async function*(n,r={}){const i=await e.post("name/resolve",{signal:r.signal,searchParams:H({arg:n,stream:!0,...r}),headers:r.headers});for await(const s of i.ndjson())yield s.Path}}function oj(e){return{publish:ej(e),resolve:sj(e),pubsub:ij(e)}}function aj(e){return async function(n,r,i={}){const s=await e.post("object/patch/add-link",{signal:i.signal,searchParams:H({arg:[`${n}`,r.Name??r.name??"",(r.Hash??r.cid??"").toString()??null],...i}),headers:i.headers}),{Hash:o}=await s.json();return ge.parse(o)}}function cj(e){return async function(n,r,i={}){const s=await e.post("object/patch/rm-link",{signal:i.signal,searchParams:H({arg:[`${n}`,r.Name??r.name??null],...i}),headers:i.headers}),{Hash:o}=await s.json();return ge.parse(o)}}function uj(e){return{addLink:aj(e),rmLink:cj(e)}}function lj(e,t){return{patch:uj(e)}}function fj(e){return Symbol.iterator in e}function dj(e){return Symbol.asyncIterator in e}function Kb(e){return ge.asCID(e)!=null}async function*S6(e){if(e==null)throw new qe(`Unexpected input: ${e}`);const t=ge.asCID(e);if(t!=null){yield Tt({cid:t});return}if(typeof e=="string"){yield Tt({path:e});return}if(e.cid!=null||e.path!=null)return yield Tt(e);if(fj(e)){const n=e[Symbol.iterator](),r=n.next();if(r.done===!0)return n;if(Kb(r.value)){yield Tt({cid:r.value});for(const i of n)yield Tt({cid:i});return}if(typeof r.value=="string"){yield Tt({path:r.value});for(const i of n)yield Tt({path:i});return}if(r.value.cid!=null||r.value.path!=null){yield Tt(r.value);for(const i of n)yield Tt(i);return}throw new qe(`Unexpected input: ${typeof e}`)}if(dj(e)){const n=e[Symbol.asyncIterator](),r=await n.next();if(r.done===!0)return n;if(Kb(r.value)){yield Tt({cid:r.value});for await(const i of n)yield Tt({cid:i});return}if(typeof r.value=="string"){yield Tt({path:r.value});for await(const i of n)yield Tt({path:i});return}if(r.value.cid!=null||r.value.path!=null){yield Tt(r.value);for await(const i of n)yield Tt(i);return}throw new qe(`Unexpected input: ${typeof e}`)}throw new qe(`Unexpected input: ${typeof e}`)}function Tt(e){const t=e.cid??`${e.path}`;if(t==null)throw new qe("Unexpected input: Please path either a CID or an IPFS path");const n={path:t,recursive:e.recursive!==!1};return e.metadata!=null&&(n.metadata=e.metadata),n}function A6(e){return async function*(n,r={}){for await(const{path:i,recursive:s,metadata:o}of S6(n)){const a=await e.post("pin/add",{signal:r.signal,searchParams:H({...r,arg:i,recursive:s,metadata:o!=null?JSON.stringify(o):void 0,stream:!0}),headers:r.headers});for await(const c of a.ndjson()){if(c.Pins!=null){for(const l of c.Pins)yield ge.parse(l);continue}yield ge.parse(c)}}}}function hj(e){const t=A6(e);return async function(r,i={}){const s=await gd(t([{path:r.toString(),...i}],i));if(s==null)throw new Error("No response received");return s}}function Hb(e,t,n,r){const i={type:e,cid:ge.parse(t)};return n!=null&&(i.metadata=n),r!=null&&(i.name=r),i}function pj(e){return async function*(n={}){let r=[];n.paths!=null&&(r=Array.isArray(n.paths)?n.paths:[n.paths]);const i=await e.post("pin/ls",{signal:n.signal,searchParams:H({...n,arg:r.map(s=>`${s}`),stream:!0}),headers:n.headers});for await(const s of i.ndjson()){if(s.Keys!=null){for(const o of Object.keys(s.Keys))yield Hb(s.Keys[o].Type,o,s.Keys[o].Metadata,s.Keys[o].Name);return}yield Hb(s.Type,s.Cid,s.Metadata,s.Name)}}}const C6=({Name:e,Status:t,Cid:n})=>({cid:ge.parse(n),name:e,status:t}),$6=e=>{if(typeof e=="string"&&e!=="")return e;throw new TypeError("service name must be passed")},I6=e=>{if(ge.asCID(e)!=null)return e.toString();throw new TypeError(`CID instance expected instead of ${typeof e}`)},sg=({service:e,cid:t,name:n,status:r,all:i})=>{const s=H({service:$6(e),name:n,force:i===!0?!0:void 0});if(t!=null)for(const o of t)s.append("cid",I6(o));if(r!=null)for(const o of r)s.append("status",o);return s},yj=(e,{service:t,background:n,name:r,origins:i})=>{const s=H({arg:I6(e),service:$6(t),name:r,background:n===!0?!0:void 0});if(i!=null)for(const o of i)s.append("origin",o.toString());return s};function wj(e){return async function(n,{timeout:r,signal:i,headers:s,...o}){const a=await e.post("pin/remote/add",{timeout:r,signal:i,headers:s,searchParams:yj(n,o)});return C6(await a.json())}}function gj(e){return async function*({timeout:n,signal:r,headers:i,...s}){const o=await e.post("pin/remote/ls",{timeout:n,signal:r,headers:i,searchParams:sg(s)});for await(const a of o.ndjson())yield C6(a)}}function mj(e){return async function({timeout:n,signal:r,headers:i,...s}){await e.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:sg({...s,all:!0})})}}function bj(e){return async function({timeout:n,signal:r,headers:i,...s}){await e.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:sg({...s,all:!1})})}}function vj(e){const t=String(e);if(t==="undefined")throw Error("endpoint is required");return t[t.length-1]==="/"?t.slice(0,-1):t}function xj(e){const t={service:e.Service,endpoint:new URL(e.ApiEndpoint)};return e.Stat!=null&&(t.stat=Ej(e.Stat)),t}function Ej(e){switch(e.Status){case"valid":{const{Pinning:t,Pinned:n,Queued:r,Failed:i}=e.PinCount;return{status:"valid",pinCount:{queued:r,pinning:t,pinned:n,failed:i}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Sj(e){return async function(n,r){const{endpoint:i,key:s,headers:o,timeout:a,signal:c}=r;await e.post("pin/remote/service/add",{timeout:a,signal:c,searchParams:H({arg:[n,vj(i),s]}),headers:o})}}function Aj(e){return async function(n={}){const{stat:r,headers:i,timeout:s,signal:o}=n;return(await(await e.post("pin/remote/service/ls",{timeout:s,signal:o,headers:i,searchParams:r===!0?H({stat:r}):void 0})).json()).RemoteServices.map(xj)}}function Cj(e){return async function(n,r={}){await e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:H({arg:n})})}}function $j(e){return{add:Sj(e),ls:Aj(e),rm:Cj(e)}}function Ij(e){return{add:wj(e),ls:gj(e),rm:bj(e),rmAll:mj(e),service:$j(e)}}function _6(e){return async function*(n,r={}){for await(const{path:i,recursive:s}of S6(n)){const o=new URLSearchParams(r.searchParams);o.append("arg",`${i}`),s!=null&&o.set("recursive",String(s));const a=await e.post("pin/rm",{signal:r.signal,headers:r.headers,searchParams:H({...r,arg:`${i}`,recursive:s})});for await(const c of a.ndjson()){if(c.Pins!=null){yield*c.Pins.map(l=>ge.parse(l));continue}yield ge.parse(c)}}}}function _j(e){const t=_6(e);return async function(r,i={}){const s=await gd(t([{path:r.toString(),...i}],i));if(s==null)throw new Error("No response received");return s}}function kj(e){return{addAll:A6(e),add:hj(e),ls:pj(e),rmAll:_6(e),rm:_j(e),remote:Ij(e)}}function Tj(e){return async function*(n,r={}){yield*(await e.post("ping",{signal:r.signal,searchParams:H({arg:`${n}`,...r}),headers:r.headers,transform:ft})).ndjson()}}const Bj=e=>Array.isArray(e)?e.map(Vy):e,Vy=e=>se(ka(e)),ka=e=>fd.decode(e),Nj=e=>BigInt(`0x${se(fd.decode(e),"base16")}`),og=e=>fd.encode(xe(e));function Pj(e){return async function(n={}){const{Strings:r}=await(await e.post("pubsub/ls",{signal:n.signal,searchParams:H(n),headers:n.headers})).json();return Bj(r)??[]}}function Uj(e){return async function(n,r={}){const i=await e.post("pubsub/peers",{signal:r.signal,searchParams:H({arg:og(n),...r}),headers:r.headers}),{Strings:s}=await i.json();return s??[]}}function Lj(e){return async function(n,r,i={}){const s=H({arg:og(n),...i}),o=new AbortController,a=Mr([o.signal,i.signal]);try{await(await e.post("pubsub/pub",{signal:a,searchParams:s,...await zi([r],o,i.headers)})).text()}finally{a.clear()}}}const Oj=ng("js-kubo-rpc-client:pubsub:subscribe");function Dj(e,t){return async function(r,i,s={}){s.signal=t.subscribe(r,i,s.signal);let o,a;const c=new Promise((u,f)=>{o=u,a=f}),l=setTimeout(()=>{o()},1e3);return e.post("pubsub/sub",{signal:s.signal,searchParams:H({arg:og(r),...s}),headers:s.headers}).catch(u=>{t.unsubscribe(r,i),a(u)}).then(u=>{clearTimeout(l),u!=null&&(zj(u,{onMessage:f=>{if(i!=null){if(typeof i=="function"){i(f);return}typeof i.handleEvent=="function"&&i.handleEvent(f)}},onEnd:()=>{t.unsubscribe(r,i)},onError:s.onError}),o())}),c}}async function zj(e,{onMessage:t,onEnd:n,onError:r}){r=r??Oj;try{for await(const i of e.ndjson())try{if(i.from==null)continue;i.from!=null&&i.seqno!=null?t({type:"signed",from:Zt(i.from),data:ka(i.data),sequenceNumber:Nj(i.seqno),topic:Vy(i.topicIDs[0]),key:i.key!=null?GN(ka(i.key??"u")):void 0,signature:ka(i.signature??"u")}):t({type:"unsigned",data:ka(i.data),topic:Vy(i.topicIDs[0])})}catch(s){s.message=`Failed to parse pubsub message: ${s.message}`,r(s,!1,i)}}catch(i){Rj(i)||r(i,!0)}finally{n()}}const Rj=e=>{switch(e.type){case"aborted":return!0;case"abort":return!0;default:return e.name==="AbortError"}};class Fj{constructor(){x(this,"_subs");this._subs=new Map}subscribe(t,n,r){const i=this._subs.get(t)??[];if(i.find(o=>o.handler===n)!=null)throw new Error(`Already subscribed to ${t} with this handler`);const s=new AbortController;return this._subs.set(t,[{handler:n,controller:s}].concat(i)),r!=null&&r.addEventListener("abort",()=>{this.unsubscribe(t,n)}),s.signal}unsubscribe(t,n){const r=this._subs.get(t)??[];let i;n!=null?(this._subs.set(t,r.filter(s=>s.handler!==n)),i=r.filter(s=>s.handler===n)):(this._subs.set(t,[]),i=r),(this._subs.get(t)??[]).length===0&&this._subs.delete(t),i.forEach(s=>{s.controller.abort()})}}function Mj(e,t){return async function(r,i){t.unsubscribe(r,i)}}function jj(e){const t=new Fj;return{ls:Pj(e),peers:Uj(e),publish:Lj(e),subscribe:Dj(e,t),unsubscribe:Mj(e,t)}}function Vj(e){return async function*(n={}){yield*(await e.post("refs/local",{signal:n.signal,transform:ft,searchParams:H(n),headers:n.headers})).ndjson()}}function Kj(e){async function*t(n,r={}){const i=Array.isArray(n)?n:[n];yield*(await e.post("refs",{signal:r.signal,searchParams:H({arg:i.map(o=>`${o instanceof Uint8Array?ge.decode(o):o}`),...r}),headers:r.headers,transform:ft})).ndjson()}return Object.assign(t,{local:Vj(e)})}function Hj(e){return async function*(n={}){yield*(await e.post("repo/gc",{signal:n.signal,searchParams:H(n),headers:n.headers,transform:i=>{var s;return{err:i.Error!=null?new Error(i.Error):null,cid:((s=i.Key)==null?void 0:s["/"])!=null?ge.parse(i.Key["/"]):null}}})).ndjson()}}function k6(e){return async function(n={}){const i=await(await e.post("repo/stat",{signal:n.signal,searchParams:H(n),headers:n.headers})).json();return{numObjects:BigInt(i.NumObjects),repoSize:BigInt(i.RepoSize),repoPath:i.RepoPath,version:i.Version,storageMax:BigInt(i.StorageMax)}}}function qj(e){return async function(n={}){return(await(await e.post("repo/version",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Version}}function Wj(e){return{gc:Hj(e),stat:k6(e),version:qj(e)}}function Gj(e){return async function(n,r={}){const i=await e.post("resolve",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),{Path:s}=await i.json();return s}}function Qj(e){return async function*(n,r={}){const i=await e.post("routing/findpeer",{signal:r.signal,searchParams:H({arg:n.toString(),stream:!0,...r}),headers:r.headers});for await(const s of i.ndjson())yield Ko(s)}}function Yj(e){return async function*(n,r={}){const i=await e.post("routing/findprovs",{signal:r.signal,searchParams:H({arg:n.toString(),...r}),headers:r.headers});for await(const s of i.ndjson())yield Ko(s)}}function Jj(e){return async function*(n,r={}){const i=await e.post("routing/get",{signal:r.signal,searchParams:H({arg:n instanceof Uint8Array?se(n):n.toString(),...r}),headers:r.headers});for await(const s of i.ndjson())yield Ko(s)}}function Zj(e){return async function*(n,r={recursive:!1}){const i=Array.isArray(n)?n:[n],s=await e.post("routing/provide",{signal:r.signal,searchParams:H({arg:i.map(o=>o.toString()),...r}),headers:r.headers});for await(const o of s.ndjson())yield Ko(o)}}function Xj(e){return async function*(n,r,i={}){const s=new AbortController,o=Mr([s.signal,i.signal]);try{const a=await e.post("routing/put",{signal:o,searchParams:H({arg:n instanceof Uint8Array?se(n):n.toString(),stream:!0,...i}),...await zi([r],s,i.headers)});for await(const c of a.ndjson())yield Ko(c)}finally{o.clear()}}}function eV(e){return{findPeer:Qj(e),findProvs:Yj(e),get:Jj(e),provide:Zj(e),put:Xj(e)}}function tV(e){return async function*(n={}){yield*(await e.post("stats/bw",{signal:n.signal,searchParams:H(n),headers:n.headers,transform:i=>({totalIn:BigInt(i.TotalIn),totalOut:BigInt(i.TotalOut),rateIn:parseFloat(i.RateIn),rateOut:parseFloat(i.RateOut)})})).ndjson()}}function nV(e){return{bitswap:r6(e),repo:k6(e),bw:tV(e)}}function rV(e){return async function(n={}){await(await e.post("shutdown",{signal:n.signal,searchParams:H(n),headers:n.headers})).text()}}function iV(e){return async function(n={}){const r=await e.post("swarm/addrs",{signal:n.signal,searchParams:H(n),headers:n.headers}),{Addrs:i}=await r.json();return Object.keys(i).map(s=>({id:Zt(s),addrs:(i[s]??[]).map(o=>jt(o))}))}}function sV(e){return async function(n,r={}){const i=await e.post("swarm/connect",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),{Strings:s}=await i.json();return s??[]}}function oV(e){return async function(n,r={}){const i=await e.post("swarm/disconnect",{signal:r.signal,searchParams:H({arg:n,...r}),headers:r.headers}),{Strings:s}=await i.json();return s??[]}}function aV(e){return async function(n={}){const r=await e.post("swarm/addrs/local",{signal:n.signal,searchParams:H(n),headers:n.headers}),{Strings:i}=await r.json();return(i??[]).map(s=>jt(s))}}function cV(e){return async function(n={}){return((await(await e.post("swarm/peers",{signal:n.signal,searchParams:H(n),headers:n.headers})).json()).Peers??[]).map(s=>({addr:jt(s.Addr),peer:Zt(s.Peer),muxer:s.Muxer,latency:s.Latency,streams:s.Streams,direction:s.Direction==null?void 0:s.Direction===0?"inbound":"outbound"}))}}function uV(e){return{addrs:iV(e),connect:sV(e),disconnect:oV(e),localAddrs:aV(e),peers:cV(e)}}function lV(e){return async function(n={}){const r=await e.post("version",{signal:n.signal,searchParams:H(n),headers:n.headers});return{...ft(await r.json()),"ipfs-http-client":"1.0.0"}}}class fV{constructor(t){x(this,"bases");x(this,"codecs");x(this,"hashers");x(this,"bitswap");x(this,"block");x(this,"bootstrap");x(this,"config");x(this,"dag");x(this,"dht");x(this,"diag");x(this,"files");x(this,"key");x(this,"log");x(this,"name");x(this,"object");x(this,"pin");x(this,"pubsub");x(this,"refs");x(this,"repo");x(this,"routing");x(this,"stats");x(this,"swarm");x(this,"add");x(this,"addAll");x(this,"cat");x(this,"get");x(this,"ls");x(this,"id");x(this,"version");x(this,"stop");x(this,"ping");x(this,"resolve");x(this,"commands");x(this,"mount");x(this,"isOnline");x(this,"getEndpointConfig");var a,c,l,u,f,y;const n=new F9(t),r={name:Ly.name,code:Ly.code,encode:E=>E,decode:E=>E},i=Object.values(Rz);(((a=t.ipld)==null?void 0:a.bases)??[]).forEach(E=>i.push(E)),this.bases=new j9({bases:i,loadBase:(c=t.ipld)==null?void 0:c.loadBase});const s=Object.values(Mz);[sD,Cc,sO,i7,r].concat(((l=t.ipld)==null?void 0:l.codecs)??[]).forEach(E=>{s.push(E)}),this.codecs=new K9({codecs:s,loadCodec:(u=t.ipld)==null?void 0:u.loadCodec});const o=Object.values(Fz);(((f=t.ipld)==null?void 0:f.hashers)??[]).forEach(E=>o.push(E)),this.hashers=new q9({hashers:o,loadHasher:(y=t.ipld)==null?void 0:y.loadHasher}),this.bitswap=uF(n),this.block=pF(n),this.bootstrap=mF(n),this.config=_F(n),this.dag=OF(n,this.codecs),this.dht=qF(n),this.diag=YF(n),this.files=uM(n),this.key=bM(n),this.log=Y9(n),this.name=oj(n),this.object=lj(n,this.codecs),this.pin=kj(n),this.pubsub=jj(n),this.refs=Kj(n),this.repo=Wj(n),this.routing=eV(n),this.stats=nV(n),this.swarm=uV(n),this.add=dR(n),this.addAll=q8(n),this.cat=bF(n),this.get=fM(n),this.ls=J9(n),this.id=o6(n),this.version=lV(n),this.stop=rV(n),this.ping=Tj(n),this.resolve=Gj(n),this.commands=vF(n),this.mount=X9(n),this.isOnline=dM(n),this.getEndpointConfig=lM(n)}}function dV(e){return new fV(e)}function hV(e={}){return(typeof e=="string"||Hl(e)||e instanceof URL)&&(e={url:e}),dV(e)}const pV=()=>{const[e,t]=li.useState(""),[n,r]=li.useState([]),[i,s]=li.useState(null),[o,a]=li.useState(null);li.useEffect(()=>{async function l(){try{console.log("Starting OrbitDB initialization for GitHub Pages");let u;try{u=hV({url:"https://ipfs.io/api/v0"})}catch(h){throw console.error("Failed to initialize IPFS:",h),new Error("IPFS initialization failed")}if(console.log("IPFS initialized:",u),!u)throw new Error("IPFS instance is undefined");const f=await bP(u);console.log("OrbitDB instance created:",f);const y=await f.open("citizenx-annotations",{type:"documents"});console.log("Database opened:",y),await y.load(),console.log("Database loaded"),s(y);const E=await y.all();r(E.map(h=>h.value)),y.events.on("update",async()=>{const h=await y.all();r(h.map(b=>b.value)),console.log("GitHub Pages database updated:",h)})}catch(u){console.error("OrbitDB initialization failed:",u),a("Failed to initialize decentralized storage")}}l()},[]);const c=async()=>{if(e.trim()&&i)try{const l={_id:Date.now().toString(),url:"sidepanel",text:e.trim(),timestamp:Date.now()};await i.put(l),t(""),console.log("Saved annotation to OrbitDB:",l)}catch(l){console.error("Failed to save annotation:",l),a("Failed to save annotation")}};return Gt.jsxs("div",{style:{padding:"16px",maxWidth:"300px"},children:[Gt.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 8px 0"},children:"CitizenX Annotations"}),o&&Gt.jsx("p",{style:{color:"red",margin:"0 0 8px 0"},children:o}),Gt.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[Gt.jsx("input",{type:"text",value:e,onChange:l=>t(l.target.value),placeholder:"Enter annotation...",style:{flex:1,padding:"5px",border:"1px solid #ccc",borderRadius:"3px"}}),Gt.jsx("button",{onClick:c,disabled:!i,style:{padding:"5px 10px",background:i?"#007bff":"#ccc",color:"#fff",border:"none",borderRadius:"3px",cursor:i?"pointer":"not-allowed"},children:"Save"})]}),Gt.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:n.length===0?Gt.jsx("p",{style:{margin:0,color:"#666"},children:"No annotations yet."}):Gt.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:n.map(l=>Gt.jsxs("li",{style:{padding:"5px 0",borderBottom:"1px solid #eee",wordBreak:"break-word"},children:[l.text," ",Gt.jsxs("small",{children:["(",new Date(l.timestamp).toLocaleString(),")"]})]},l._id))})})]})};Mh.createRoot(document.getElementById("root")).render(Gt.jsx(Q6.StrictMode,{children:Gt.jsx(pV,{})}));
